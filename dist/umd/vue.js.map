{"version":3,"file":"vue.js","sources":["../../src/utils/index.js","../../src/observe/index.js","../../src/instance/state.js","../../src/vdom/vnode.js","../../src/instance/lifecycle.js","../../src/instance/proxy.js","../../src/vdom/helpers/normalize-children.js","../../src/vdom/create-elemnt.js","../../src/instance/render.js","../../src/vdom/patch.js","../../src/compiler/parse-html.js","../../src/compiler/parse.js","../../src/compiler/generate.js","../../src/compiler/index.js","../../src/utils/node-ops.js","../../src/instance/init.js","../../src/index.js"],"sourcesContent":["const _toString = Object.prototype.toString;\nconst errors = [];\n\nvar isHTMLTag = makeMap(\n  \"html,body,base,head,link,meta,style,title,\" +\n    \"address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,\" +\n    \"div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,\" +\n    \"a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,\" +\n    \"s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,\" +\n    \"embed,object,param,source,canvas,script,noscript,del,ins,\" +\n    \"caption,col,colgroup,table,thead,tbody,td,th,tr,\" +\n    \"button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,\" +\n    \"output,progress,select,textarea,\" +\n    \"details,dialog,menu,menuitem,summary,\" +\n    \"content,element,shadow,template,blockquote,iframe,tfoot\"\n);\n\n// this map is intentionally selective, only covering SVG elements that may\n// contain child elements.\nvar isSVG = makeMap(\n  \"svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,\" +\n    \"foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,\" +\n    \"polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view\",\n  true\n);\n\nexport function isObject(obj) {\n  return obj !== null && typeof obj === \"object\";\n}\n\nexport function def(obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true,\n  });\n}\n\nexport function query(el) {\n  if (typeof el === \"string\") {\n    const selected = document.querySelector(el);\n    if (!selected) {\n      return document.createElement(\"div\");\n    }\n    return selected;\n  } else {\n    return el;\n  }\n}\n\nexport const warn = console.error;\n\nexport function isPlainObject(obj) {\n  return _toString.call(obj) === \"[object Object]\";\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function hasOwn(obj, key) {\n  return hasOwnProperty.call(obj, key);\n}\n\nexport const noop = () => {};\n\nexport function makeMap(str, expectsLowerCase) {\n  const map = Object.create(null);\n  const list = str.split(\",\");\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase ? (val) => map[val.toLowerCase()] : (val) => map[val];\n}\n\n/**\n * Check if value is primitive.\n */\nexport function isPrimitive(value) {\n  return (\n    typeof value === \"string\" ||\n    typeof value === \"number\" ||\n    // $flow-disable-line\n    typeof value === \"symbol\" ||\n    typeof value === \"boolean\"\n  );\n}\n\nexport function isDef(v) {\n  return v !== undefined && v !== null;\n}\n\nexport function isUndef(v) {\n  return v === undefined || v === null;\n}\n\nexport function parsePlatformTagName(_) {\n  return _;\n}\n\nexport function isReservedTag(tag) {\n  return isHTMLTag(tag) || isSVG(tag);\n}\n\nexport function getTagNamespace(tag) {\n  if (isSVG(tag)) {\n    return \"svg\";\n  }\n  // basic support for MathML\n  // note it doesn't support other MathML elements being component roots\n  if (tag === \"math\") {\n    return \"math\";\n  }\n}\n\n/**\n * Camelize a hyphen-delimited string.\n */\nconst camelizeRE = /-(\\w)/g;\nexport const camelize = cached((str) => {\n  return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : \"\"));\n});\n\n/**\n * Create a cached version of a pure function.\n */\nexport function cached(fn) {\n  const cache = Object.create(null);\n  return function cachedFn(str) {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n}\n\nexport function createFunction(code, errors = []) {\n  try {\n    return new Function(code);\n  } catch (err) {\n    errors.push({ err, code });\n    return noop;\n  }\n}\n\nexport function toString(val) {\n  return val == null\n    ? \"\"\n    : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)\n    ? JSON.stringify(val, null, 2)\n    : String(val);\n}\n","import { isObject, def } from \"../utils/index\";\n\nexport class Observe {\n  constructor(value) {\n    this.value = value;\n    this.vmCount = 0;\n    def(value, \"__ob__\", this);\n    if (Array.isArray(value)) {\n      this.observeArray(value);\n    } else {\n      this.walk(value);\n    }\n  }\n  walk(data) {\n    let keys = Object.keys(data);\n    for (let i = 0; i < keys.length; i++) {\n      let key = keys[i];\n      let value = data[key];\n      defineReactive(data, key, value);\n    }\n  }\n  observeArray(items) {\n    for (let i = 0, l = items.length; i < l; i++) {\n      observe(items[i]);\n    }\n  }\n}\n\nfunction defineReactive(data, key, value) {\n  observe(value);\n  Object.defineProperty(data, key, {\n    get() {\n      return value;\n    },\n    set(newVal) {\n      if (newVal === value) return;\n      value = newVal;\n    },\n  });\n}\n\nexport function observe(data) {\n  if (!isObject(data)) {\n    return;\n  }\n  let ob;\n  new Observe(data);\n}\n","import { observe } from \"../observe/index\";\r\nimport { isPlainObject, warn, hasOwn, noop } from \"../utils/index\";\r\n\r\nconst sharedPropertyDefinition = {\r\n  enumerable: true,\r\n  configurable: true,\r\n  get: noop,\r\n  set: noop,\r\n};\r\n\r\nexport function initState(vm) {\r\n  const options = vm.$options;\r\n  if (options.props) {\r\n    initProps(vm, options.props);\r\n  }\r\n  if (options.methods) {\r\n    initMethods(vm, options.methods);\r\n  }\r\n  if (options.data) {\r\n    initData(vm);\r\n  } else {\r\n    observe((vm._data = {}), true /* asRootData */);\r\n  }\r\n  if (options.computed) {\r\n  }\r\n  if (options.watch) {\r\n  }\r\n}\r\n\r\nfunction initProps() {}\r\n\r\nfunction initData(vm) {\r\n  console.log(vm.$options.data);\r\n  let data = vm.$options.data;\r\n  data = vm._data = typeof data === \"function\" ? getData(data) : data;\r\n  console.log(data);\r\n  if (!isPlainObject(data)) {\r\n    data = {};\r\n    warn(\r\n      \"data functions should return an object:\\n\" +\r\n        \"https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function\",\r\n      vm\r\n    );\r\n  }\r\n  const keys = Object.keys(data);\r\n  const props = vm.$options.props;\r\n  const methods = vm.$options.methods;\r\n  let i = keys.length;\r\n  while (i--) {\r\n    const key = keys[i];\r\n    if (methods && hasOwn(methods, key)) {\r\n      warn(`Method \"${key}\" has already been defined as a data property.`, vm);\r\n    }\r\n    if (props && hasOwn(props, key)) {\r\n      warn(\r\n        `The data property \"${key}\" is already declared as a prop. ` +\r\n          `Use prop default value instead.`,\r\n        vm\r\n      );\r\n    } else if (!isReserved(key)) {\r\n      proxy(vm, `_data`, key);\r\n    }\r\n  }\r\n  // console.log(data);\r\n  observe(data);\r\n}\r\n\r\nfunction initMethods() {}\r\n\r\nexport function getData(data, vm) {\r\n  // #7573 disable dep collection when invoking data getters\r\n  try {\r\n    return data.call(vm, vm);\r\n  } catch (e) {\r\n    // handleError(e, vm, `data()`);\r\n    return {};\r\n  } finally {\r\n  }\r\n}\r\n\r\nexport function proxy(target, sourceKey, key) {\r\n  sharedPropertyDefinition.get = function proxyGetter() {\r\n    return this[sourceKey][key];\r\n  };\r\n  sharedPropertyDefinition.set = function proxySetter(val) {\r\n    this[sourceKey][key] = val;\r\n  };\r\n  Object.defineProperty(target, key, sharedPropertyDefinition);\r\n}\r\n\r\nexport function isReserved(str) {\r\n  const c = (str + \"\").charCodeAt(0);\r\n  return c === 0x24 || c === 0x5f;\r\n}\r\n","export const createEmptyVNode = (text) => {\n  const node = new VNode();\n  node.text = text;\n  node.isComment = true;\n  return node;\n};\n\nexport function createTextVNode(val) {\n  return new VNode(undefined, undefined, undefined, String(val));\n}\n\nexport function cloneVNode(vnode) {\n  const cloned = new VNode(\n    vnode.tag,\n    vnode.data,\n    // #7975\n    // clone children array to avoid mutating original in case of cloning\n    // a child.\n    vnode.children && vnode.children.slice(),\n    vnode.text,\n    vnode.elm,\n    vnode.context,\n    vnode.componentOptions,\n    vnode.asyncFactory\n  );\n  cloned.ns = vnode.ns;\n  cloned.isStatic = vnode.isStatic;\n  cloned.key = vnode.key;\n  cloned.isComment = vnode.isComment;\n  cloned.fnContext = vnode.fnContext;\n  cloned.fnOptions = vnode.fnOptions;\n  cloned.fnScopeId = vnode.fnScopeId;\n  cloned.asyncMeta = vnode.asyncMeta;\n  cloned.isCloned = true;\n  return cloned;\n}\n\nexport default class VNode {\n  // tag: string | void;\n  // data: VNodeData | void;\n  // children: ?Array<VNode>;\n  // text: string | void;\n  // elm: Node | void;\n  // ns: string | void;\n  // context: Component | void; // rendered in this component's scope\n  // key: string | number | void;\n  // componentOptions: VNodeComponentOptions | void;\n  // componentInstance: Component | void; // component instance\n  // parent: VNode | void; // component placeholder node\n\n  // // strictly internal\n  // raw: boolean; // contains raw HTML? (server only)\n  // isStatic: boolean; // hoisted static node\n  // isRootInsert: boolean; // necessary for enter transition check\n  // isComment: boolean; // empty comment placeholder?\n  // isCloned: boolean; // is a cloned node?\n  // isOnce: boolean; // is a v-once node?\n  // asyncFactory: Function | void; // async component factory function\n  // asyncMeta: Object | void;\n  // isAsyncPlaceholder: boolean;\n  // ssrContext: Object | void;\n  // fnContext: Component | void; // real context vm for functional nodes\n  // fnOptions: ?ComponentOptions; // for SSR caching\n  // devtoolsMeta: ?Object; // used to store functional render context for devtools\n  // fnScopeId: ?string; // functional scope id support\n\n  constructor(\n    tag,\n    data,\n    children,\n    text,\n    elm,\n    context,\n    componentOptions,\n    asyncFactory\n  ) {\n    this.tag = tag;\n    this.data = data;\n    this.children = children;\n    this.text = text;\n    this.elm = elm;\n    this.ns = undefined;\n    this.context = context;\n    this.fnContext = undefined;\n    this.fnOptions = undefined;\n    this.fnScopeId = undefined;\n    this.key = data && data.key;\n    this.componentOptions = componentOptions;\n    this.componentInstance = undefined;\n    this.parent = undefined;\n    this.raw = false;\n    this.isStatic = false;\n    this.isRootInsert = true;\n    this.isComment = false;\n    this.isCloned = false;\n    this.isOnce = false;\n    this.asyncFactory = asyncFactory;\n    this.asyncMeta = undefined;\n    this.isAsyncPlaceholder = false;\n  }\n\n  // DEPRECATED: alias for componentInstance for backwards compat.\n  /* istanbul ignore next */\n  get child() {\n    return this.componentInstance;\n  }\n}\n","import { createEmptyVNode } from \"../vdom/vnode\";\nimport Watcher from \"../observe/watcher\";\nimport { noop, warn } from \"../utils/index\";\n\nexport function mountComponent(vm, el, hydrating) {\n  vm.$el = el;\n  if (!vm.$options.render) {\n    vm.$options.render = createEmptyVNode;\n\n    // if (\n    //   (vm.$options.template && vm.$options.template.charAt(0) !== \"#\") ||\n    //   vm.$options.el ||\n    //   el\n    // ) {\n    //   warn(\n    //     \"You are using the runtime-only build of Vue where the template \" +\n    //       \"compiler is not available. Either pre-compile the templates into \" +\n    //       \"render functions, or use the compiler-included build.\",\n    //     vm\n    //   );\n    // } else {\n    //   warn(\n    //     \"Failed to mount component: template or render function not defined.\",\n    //     vm\n    //   );\n    // }\n  }\n  console.log(\"beforeMount\");\n  let updateComponent;\n  updateComponent = () => {\n    vm._update(vm._render(), hydrating);\n    // vm._render();\n  };\n  updateComponent();\n  // new Watcher(\n  //   vm,\n  //   updateComponent,\n  //   noop,\n  //   {\n  //     before() {\n  //       if (vm._isMounted && !vm._isDestroyed) {\n  //         // callHook(vm, \"beforeUpdate\");\n  //         console.log(vm, \"beforeUpdate\");\n  //       }\n  //     },\n  //   },\n  //   true /* isRenderWatcher */\n  // );\n}\nexport let activeInstance;\n\nexport function setActiveInstance(vm) {\n  const prevActiveInstance = activeInstance;\n  activeInstance = vm;\n  return () => {\n    activeInstance = prevActiveInstance;\n  };\n}\n\nexport function lifecycleMixin(Vue) {\n  Vue.prototype._update = function (vnode, hydrating) {\n    const vm = this;\n    const prevEl = vm.$el;\n    const prevVnode = vm._vnode;\n    const restoreActiveInstance = setActiveInstance(vm);\n\n    vm._vnode = vnode;\n    if (!prevVnode) {\n      // initial render\n      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);\n    } else {\n      // updates\n      vm.$el = vm.__patch__(prevVnode, vnode);\n    }\n    restoreActiveInstance();\n  };\n}\n","/* not type checking this file because flow doesn't play well with Proxy */\n\nimport { warn, makeMap } from \"../utils/index\";\n\nlet initProxy;\n\nconst warnNonPresent = (target, key) => {\n  warn(\n    `Property or method \"${key}\" is not defined on the instance but ` +\n      \"referenced during render. Make sure that this property is reactive, \" +\n      \"either in the data option, or for class-based components, by \" +\n      \"initializing the property. \" +\n      \"See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.\",\n    target\n  );\n};\n\nconst warnReservedPrefix = (target, key) => {\n  warn(\n    `Property \"${key}\" must be accessed with \"$data.${key}\" because ` +\n      'properties starting with \"$\" or \"_\" are not proxied in the Vue instance to ' +\n      \"prevent conflicts with Vue internals. \" +\n      \"See: https://vuejs.org/v2/api/#data\",\n    target\n  );\n};\n\nconst hasProxy = typeof Proxy !== \"undefined\";\n\nif (hasProxy) {\n  const isBuiltInModifier = makeMap(\n    \"stop,prevent,self,ctrl,shift,alt,meta,exact\"\n  );\n  new Proxy(Object.create(null), {\n    set(target, key, value) {\n      if (isBuiltInModifier(key)) {\n        warn(`Avoid overwriting built-in modifier in config.keyCodes: .${key}`);\n        return false;\n      } else {\n        target[key] = value;\n        return true;\n      }\n    },\n  });\n}\n\nconst allowedGlobals = makeMap(\n  \"Infinity,undefined,NaN,isFinite,isNaN,\" +\n    \"parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,\" +\n    \"Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,\" +\n    \"require\" // for Webpack/Browserify\n);\nconst hasHandler = {\n  has(target, key) {\n    debugger;\n    const has = key in target;\n    const isAllowed =\n      allowedGlobals(key) ||\n      (typeof key === \"string\" &&\n        key.charAt(0) === \"_\" &&\n        !(key in target.$data));\n    if (!has && !isAllowed) {\n      if (key in target.$data) warnReservedPrefix(target, key);\n      else warnNonPresent(target, key);\n    }\n    return has || !isAllowed;\n  },\n};\n\nconst getHandler = {\n  get(target, key) {\n    if (typeof key === \"string\" && !(key in target)) {\n      if (key in target.$data) warnReservedPrefix(target, key);\n      else warnNonPresent(target, key);\n    }\n    return target[key];\n  },\n};\n\ninitProxy = function initProxy(vm) {\n  // if (hasProxy) {\n  //   // determine which proxy handler to use\n  //   const options = vm.$options;\n  //   const handlers =\n  //     options.render && options.render._withStripped ? getHandler : hasHandler;\n  //   vm._renderProxy = new Proxy(vm, handlers);\n  // } else {\n  vm._renderProxy = vm;\n  // }\n};\n\nexport { initProxy };\n","import { isPrimitive } from \"../../utils/index\";\nimport { createTextVNode } from \"../vnode\";\n\n// The template compiler attempts to minimize the need for normalization by\n// statically analyzing the template at compile time.\n//\n// For plain HTML markup, normalization can be completely skipped because the\n// generated render function is guaranteed to return Array<VNode>. There are\n// two cases where extra normalization is needed:\n\n// 1. When the children contains components - because a functional component\n// may return an Array instead of a single root. In this case, just a simple\n// normalization is needed - if any child is an Array, we flatten the whole\n// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep\n// because functional components already normalize their own children.\nexport function simpleNormalizeChildren(children) {\n  for (let i = 0; i < children.length; i++) {\n    if (Array.isArray(children[i])) {\n      return Array.prototype.concat.apply([], children);\n    }\n  }\n  return children;\n}\n\n// 2. When the children contains constructs that always generated nested Arrays,\n// e.g. <template>, <slot>, v-for, or when the children is provided by user\n// with hand-written render functions / JSX. In such cases a full normalization\n// is needed to cater to all possible types of children values.\nexport function normalizeChildren(children) {\n  return isPrimitive(children)\n    ? [createTextVNode(children)]\n    : Array.isArray(children)\n    ? normalizeArrayChildren(children)\n    : undefined;\n}\n\nfunction normalizeArrayChildren(children, nextIndex) {\n  const res = [];\n  let i, c, lastIndex, last;\n  for (i = 0; i < children.length; i++) {\n    c = children[i];\n    console.log(c);\n\n    if (isUndef(c) || typeof c === \"boolean\") continue;\n    lastIndex = res.length - 1;\n    last = res[lastIndex];\n    if (Array.isArray(c)) {\n      if (c.length > 0) {\n        c = normalizeArrayChildren(c, `${nestedIndex || \"\"}_${i}`);\n        // merge adjacent text nodes\n        if (isTextNode(c[0]) && isTextNode(last)) {\n          res[lastIndex] = createTextVNode(last.text + (c[0]).text);\n          c.shift();\n        }\n        res.push.apply(res, c);\n      }\n    } else if (isPrimitive(c)) {\n      if (isTextNode(last)) {\n        // merge adjacent text nodes\n        // this is necessary for SSR hydration because text nodes are\n        // essentially merged when rendered to HTML strings\n        res[lastIndex] = createTextVNode(last.text + c);\n      } else if (c !== \"\") {\n        // convert primitive to vnode\n        res.push(createTextVNode(c));\n      }\n    } else {\n      if (isTextNode(c) && isTextNode(last)) {\n        // merge adjacent text nodes\n        res[lastIndex] = createTextVNode(last.text + c.text);\n      } else {\n        // default key for nested array children (likely generated by v-for)\n        if (\n          isTrue(children._isVList) &&\n          isDef(c.tag) &&\n          isUndef(c.key) &&\n          isDef(nestedIndex)\n        ) {\n          c.key = `__vlist${nestedIndex}_${i}__`;\n        }\n        res.push(c);\n      }\n    }\n  }\n  return res;\n}\n","import {\n  isPrimitive,\n  isDef,\n  isUndef,\n  noop,\n  parsePlatformTagName,\n  isReservedTag,\n  getTagNamespace,\n} from \"../utils/index\";\nimport VNode, { createEmptyVNode } from \"./vnode\";\nimport {\n  simpleNormalizeChildren,\n  normalizeChildren,\n} from \"./helpers/normalize-children\";\n\nconst SIMPLE_NORMALIZE = 1;\nconst ALWAYS_NORMALIZE = 2;\nexport function createElement(\n  context,\n  tag,\n  data,\n  children,\n  normalizationType,\n  alwaysNormalize\n) {\n  if (Array.isArray(data) || isPrimitive(data)) {\n    normalizationType = children;\n    children = data;\n    data = undefined;\n  }\n  if (alwaysNormalize === true) {\n    normalizationType = ALWAYS_NORMALIZE;\n  }\n  return _createElement(context, tag, data, children, normalizationType);\n}\n\nexport function _createElement(\n  context,\n  tag,\n  data,\n  children,\n  normalizationType\n) {\n  // 首先对data校验  data不能是响应式的\n  if (isDef(data) && isDef(data.__ob__)) {\n    warn(\n      `Avoid using observed data object as vnode data: ${JSON.stringify(\n        data\n      )}\\n` + \"Always create fresh vnode data objects in each render!\",\n      context\n    );\n    return createEmptyVNode();\n  }\n  if (isDef(data) && isDef(data.is)) {\n    tag = data.is;\n  }\n  if (!tag) {\n    // in case of component :is set to falsy value\n    return createEmptyVNode();\n  }\n\n  // if (Array.isArray(children) && typeof children[0] === 'function') {\n  // }\n  if (normalizationType === ALWAYS_NORMALIZE) {\n    children = normalizeChildren(children);\n  } else if (normalizationType === SIMPLE_NORMALIZE) {\n    children = simpleNormalizeChildren(children);\n  }\n  let vnode, ns;\n  if (typeof tag === \"string\") {\n    let Ctor;\n    ns = (context.$vnode && context.$vnode.ns) || getTagNamespace(tag);\n\n    // 这里先判断是不是html基本标签\n    if (isReservedTag(tag)) {\n      if (isDef(data) && isDef(data.nativeOn)) {\n        warn(\n          \"The .native modifier for v-on is only valid on components but it was used on <\" +\n            tag +\n            \">.\",\n          context\n        );\n      }\n      vnode = new VNode(\n        parsePlatformTagName(tag),\n        data,\n        children,\n        undefined,\n        undefined,\n        context\n      );\n    } else if (\n      (!data || !data.pre) &&\n      isDef((Ctor = resolveAsset(context.$options, \"components\", tag)))\n    ) {\n      // 组件逻辑\n    } else {\n      vnode = new VNode(tag, data, children, undefined, undefined, context);\n    }\n\n  } else {\n    // 组件逻辑\n  }\n\n  if (Array.isArray(vnode)) {\n    return vnode;\n  } else if (isDef(vnode)) {\n    // if (isDef(ns)) applyNS(vnode, ns);\n    // if (isDef(data)) registerDeepBindings(data);\n    return vnode;\n  } else {\n    return createEmptyVNode();\n  }\n}\n","import { createElement } from \"../vdom/create-elemnt\";\nimport VNode, { createEmptyVNode, createTextVNode } from \"../vdom/vnode\";\nimport { toString } from \"../utils/index\";\n\nexport function initRender(vm) {\n  // vm._vnode = null; // the root of the child tree\n  // vm._staticTrees = null; // v-once cached trees\n  // const options = vm.$options;\n  // const parentVnode = (vm.$vnode = options._parentVnode); // the placeholder node in parent tree\n  // const renderContext = parentVnode && parentVnode.context;\n  vm._c = (a, b, c, d) => createElement(vm, a, b, c, d, false);\n  // normalization is always applied for the public version, used in\n  // user-written render functions.\n  vm.$createElement = (a, b, c, d) => createElement(vm, a, b, c, d, true);\n}\n\nexport function renderMixin(Vue) {\n  installRenderHelpers(Vue.prototype);\n\n  Vue.prototype._render = function () {\n    const vm = this;\n    const { render, _parentVnode } = vm.$options;\n    let vnode;\n    try {\n      vnode = render.call(vm._renderProxy, vm.$createElement);\n    } catch (error) {\n      console.log(error)\n    }\n\n    if (Array.isArray(vnode) && vnode.length === 1) {\n      vnode = vnode[0];\n    }\n    // return empty vnode in case the render function errored out\n    if (!(vnode instanceof VNode)) {\n      if (Array.isArray(vnode)) {\n        warn(\n          \"Multiple root nodes returned from render function. Render function \" +\n            \"should return a single root node.\",\n          vm\n        );\n      }\n      vnode = createEmptyVNode();\n    }\n    // set parent\n    vnode.parent = _parentVnode;\n    console.log(vnode)\n    return vnode;\n  };\n}\n\nfunction installRenderHelpers(target) {\n  // target._o = markOnce;\n  // target._n = toNumber;\n  target._s = toString;\n  // target._l = renderList;\n  // target._t = renderSlot;\n  // target._q = looseEqual;\n  // target._i = looseIndexOf;\n  // target._m = renderStatic;\n  // target._f = resolveFilter;\n  // target._k = checkKeyCodes;\n  // target._b = bindObjectProps;\n  target._v = createTextVNode;\n  target._e = createEmptyVNode;\n  // target._u = resolveScopedSlots;\n  // target._g = bindObjectListeners;\n  // target._d = bindDynamicKeys;\n  // target._p = prependModifier;\n}\n","import { isDef, isUndef, isReservedTag, isPrimitive } from \"../utils/index\";\nimport VNode, { cloneVNode } from \"./vnode\";\nconst hooks = [\"create\", \"activate\", \"update\", \"remove\", \"destroy\"];\n\nexport const SSR_ATTR = \"data-server-rendered\";\nexport const ignoredElements = [];\nconst unknownElementCache = Object.create(null);\n\nexport function isUnknownElement(tag) {\n  /* istanbul ignore if */\n\n  if (isReservedTag(tag)) {\n    return false;\n  }\n  tag = tag.toLowerCase();\n  /* istanbul ignore if */\n  if (unknownElementCache[tag] != null) {\n    return unknownElementCache[tag];\n  }\n  const el = document.createElement(tag);\n  if (tag.indexOf(\"-\") > -1) {\n    // http://stackoverflow.com/a/28210364/1070244\n    return (unknownElementCache[tag] =\n      el.constructor === window.HTMLUnknownElement ||\n      el.constructor === window.HTMLElement);\n  } else {\n    return (unknownElementCache[tag] = /HTMLUnknownElement/.test(\n      el.toString()\n    ));\n  }\n}\n\nexport function createPatchFunction(backend) {\n  let i, j;\n  const cbs = {};\n  console.log(backend);\n\n  const { modules, nodeOps } = backend;\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      if (isDef(modules[j][hooks[i]])) {\n        cbs[hooks[i]].push(modules[j][hooks[i]]);\n      }\n    }\n  }\n\n  function invokeDestroyHook(vnode) {\n    let i, j;\n    const data = vnode.data;\n    if (isDef(data)) {\n      if (isDef((i = data.hook)) && isDef((i = i.destroy))) i(vnode);\n      for (i = 0; i < cbs.destroy.length; ++i) cbs.destroy[i](vnode);\n    }\n    if (isDef((i = vnode.children))) {\n      for (j = 0; j < vnode.children.length; ++j) {\n        invokeDestroyHook(vnode.children[j]);\n      }\n    }\n  }\n\n  function isUnknownElement(vnode, inVPre) {\n    if (!vnode) {\n      return;\n    }\n    return (\n      !inVPre &&\n      !vnode.ns &&\n      !(\n        ignoredElements.length &&\n        ignoredElements.some((ignore) => {\n          return isRegExp(ignore)\n            ? ignore.test(vnode.tag)\n            : ignore === vnode.tag;\n        })\n      ) &&\n      isUnknownElement(vnode.tag)\n    );\n  }\n\n  function assertNodeMatch(node, vnode, inVPre) {\n    if (isDef(vnode.tag)) {\n      return (\n        vnode.tag.indexOf(\"vue-component\") === 0 ||\n        (!isUnknownElement(vnode, inVPre) &&\n          vnode.tag.toLowerCase() ===\n            (node.tagName && node.tagName.toLowerCase()))\n      );\n    } else {\n      return node.nodeType === (vnode.isComment ? 8 : 3);\n    }\n  }\n\n  function hydrate(elm, vnode, insertedVnodeQueue, inVPre) {\n    let i;\n    const { tag, data, children } = vnode;\n    inVPre = inVPre || (data && data.pre);\n    vnode.elm = elm;\n\n    if (isTrue(vnode.isComment) && isDef(vnode.asyncFactory)) {\n      vnode.isAsyncPlaceholder = true;\n      return true;\n    }\n    // assert node match\n\n    if (!assertNodeMatch(elm, vnode, inVPre)) {\n      return false;\n    }\n\n    if (isDef(data)) {\n      if (isDef((i = data.hook)) && isDef((i = i.init)))\n        i(vnode, true /* hydrating */);\n      if (isDef((i = vnode.componentInstance))) {\n        // child component. it should have hydrated its own tree.\n        initComponent(vnode, insertedVnodeQueue);\n        return true;\n      }\n    }\n  }\n\n  function emptyNodeAt(elm) {\n    return new VNode(\n      nodeOps.tagName(elm).toLowerCase(),\n      {},\n      [],\n      undefined,\n      elm\n    );\n  }\n  function createChildren(vnode, children, insertedVnodeQueue) {\n    console.log(vnode.elm, \"createChildren\");\n\n    if (Array.isArray(children)) {\n      for (let i = 0; i < children.length; ++i) {\n        createElm(\n          children[i],\n          insertedVnodeQueue,\n          vnode.elm,\n          null,\n          true,\n          children,\n          i\n        );\n      }\n    } else if (isPrimitive(vnode.text)) {\n      nodeOps.appendChild(\n        vnode.elm,\n        nodeOps.createTextNode(String(vnode.text))\n      );\n    }\n  }\n\n  function insert(parent, elm, ref) {\n    if (isDef(parent)) {\n      if (isDef(ref)) {\n        if (nodeOps.parentNode(ref) === parent) {\n          nodeOps.insertBefore(parent, elm, ref);\n        }\n      } else {\n        nodeOps.appendChild(parent, elm);\n      }\n    }\n  }\n\n  function invokeCreateHooks(vnode, insertedVnodeQueue) {\n    for (let i = 0; i < cbs.create.length; ++i) {\n      cbs.create[i](emptyNode, vnode);\n    }\n    i = vnode.data.hook; // Reuse variable\n    if (isDef(i)) {\n      if (isDef(i.create)) i.create(emptyNode, vnode);\n      if (isDef(i.insert)) insertedVnodeQueue.push(vnode);\n    }\n  }\n  function createRmCb(childElm, listeners) {\n    function remove() {\n      if (--remove.listeners === 0) {\n        removeNode(childElm);\n      }\n    }\n    remove.listeners = listeners;\n    return remove;\n  }\n\n  function removeNode(el) {\n    const parent = nodeOps.parentNode(el);\n    // element may have already been removed due to v-html / v-text\n    if (isDef(parent)) {\n      nodeOps.removeChild(parent, el);\n    }\n  }\n\n  function removeAndInvokeRemoveHook(vnode, rm) {\n    if (isDef(rm) || isDef(vnode.data)) {\n      let i;\n      const listeners = cbs.remove.length + 1;\n      if (isDef(rm)) {\n        // we have a recursively passed down rm callback\n        // increase the listeners count\n        rm.listeners += listeners;\n      } else {\n        // directly removing\n        rm = createRmCb(vnode.elm, listeners);\n      }\n      // recursively invoke hooks on child component root node\n      if (\n        isDef((i = vnode.componentInstance)) &&\n        isDef((i = i._vnode)) &&\n        isDef(i.data)\n      ) {\n        removeAndInvokeRemoveHook(i, rm);\n      }\n      for (i = 0; i < cbs.remove.length; ++i) {\n        cbs.remove[i](vnode, rm);\n      }\n      if (isDef((i = vnode.data.hook)) && isDef((i = i.remove))) {\n        i(vnode, rm);\n      } else {\n        rm();\n      }\n    } else {\n      removeNode(vnode.elm);\n    }\n  }\n\n  function removeVnodes(vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      const ch = vnodes[startIdx];\n      if (isDef(ch)) {\n        if (isDef(ch.tag)) {\n          removeAndInvokeRemoveHook(ch);\n          invokeDestroyHook(ch);\n        } else {\n          // Text node\n          removeNode(ch.elm);\n        }\n      }\n    }\n  }\n\n  let creatingElmInVPre = 0;\n\n  function createElm(\n    vnode,\n    insertedVnodeQueue,\n    parentElm,\n    refElm,\n    nested,\n    ownerArray,\n    index\n  ) {\n    const data = vnode.data;\n    const children = vnode.children;\n    const tag = vnode.tag;\n    debugger\n    if (isDef(tag)) {\n      if (data && data.pre) {\n        creatingElmInVPre++;\n      }\n      if (isUnknownElement(vnode, creatingElmInVPre)) {\n        warn(\n          \"Unknown custom element: <\" +\n            tag +\n            \"> - did you \" +\n            \"register the component correctly? For recursive components, \" +\n            'make sure to provide the \"name\" option.',\n          vnode.context\n        );\n      }\n      console.log(vnode);\n      vnode.elm = vnode.ns\n        ? nodeOps.createElementNS(vnode.ns, tag)\n        : nodeOps.createElement(tag, vnode);\n      createChildren(vnode, children, insertedVnodeQueue);\n      if (isDef(data)) {\n        invokeCreateHooks(vnode, insertedVnodeQueue);\n      }\n      insert(parentElm, vnode.elm, refElm);\n    } else if (vnode.isComment === true) {\n      vnode.elm = nodeOps.createComment(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    } else {\n      vnode.elm = nodeOps.createTextNode(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    }\n  }\n\n  return function patch(oldVnode, vnode, hydrating, removeOnly) {\n    if (isUndef(vnode)) {\n      if (isDef(oldVnode)) invokeDestroyHook(oldVnode);\n      return;\n    }\n    let isInitialPatch = false;\n    const insertedVnodeQueue = [];\n    if (isUndef(oldVnode)) {\n    } else {\n      console.log(oldVnode);\n      const isRealElement = isDef(oldVnode.nodeType);\n      console.log(isRealElement);\n      if (isRealElement) {\n        if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {\n          oldVnode.removeAttribute(SSR_ATTR);\n          hydrating = true;\n        }\n        if (hydrating === true) {\n          if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\n            invokeInsertHook(vnode, insertedVnodeQueue, true);\n            return oldVnode;\n          }\n          warn(\n            \"The client-side rendered virtual DOM tree is not matching \" +\n              \"server-rendered content. This is likely caused by incorrect \" +\n              \"HTML markup, for example nesting block-level elements inside \" +\n              \"<p>, or missing <tbody>. Bailing hydration and performing \" +\n              \"full client-side render.\"\n          );\n        }\n        // either not server-rendered, or hydration failed.\n        // create an empty node and replace it\n        oldVnode = emptyNodeAt(oldVnode);\n      }\n      const oldElm = oldVnode.elm;\n      const parentElm = nodeOps.parentNode(oldElm);\n      createElm(\n        vnode,\n        insertedVnodeQueue,\n        oldElm._leaveCb ? null : parentElm,\n        nodeOps.nextSibling(oldElm)\n      );\n\n      if (isDef(parentElm)) {\n        removeVnodes([oldVnode], 0, 0);\n      } else if (isDef(oldVnode.tag)) {\n        invokeDestroyHook(oldVnode);\n      }\n      // const oldElm = oldVnode;\n      // const parentElm = oldElm.parentNode;\n    }\n    console.log(oldVnode, vnode, hydrating, removeOnly);\n  };\n}\n\nfunction createElm(vnode) {\n  let { tag, children, key, data, text } = vnode;\n  if (typeof tag === \"string\") {\n    vnode.el = document.createElement(tag);\n    updateProperties(vnode);\n    children.forEach((child) => {\n      return vnode.el.appendChild(createElm(child));\n    });\n  } else {\n    vnode.el = document.createTextNode(text);\n  }\n  return vnode.el;\n}\n\nfunction updateProperties(vnode) {\n  let newProps = vnode.data || {}; // 获取当前老节点中的属性\n  let el = vnode.el; // 当前的真实节点\n  for (let key in newProps) {\n    if (key === \"style\") {\n      for (let styleName in newProps.style) {\n        el.style[styleName] = newProps.style[styleName];\n      }\n    } else if (key === \"class\") {\n      el.className = newProps.class;\n    } else {\n      // 给这个元素添加属性 值就是对应的值\n      el.setAttribute(key, newProps[key]);\n    }\n  }\n}\n","import { makeMap, warn } from \"../utils/index\";\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\nconst dynamicArgAttribute = /^\\s*((?:v-[\\w-]+:|@|:|#)\\[[^=]+\\][^\\s\"'<>\\/=]*)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\nconst doctype = /^<!DOCTYPE [^>]+>/i;\n// #7298: escape - to avoid being passed as HTML comment when inlined in page\nconst comment = /^<!\\--/;\nconst conditionalComment = /^<!\\[/;\nconst decodingMap = {\n  \"&lt;\": \"<\",\n  \"&gt;\": \">\",\n  \"&quot;\": '\"',\n  \"&amp;\": \"&\",\n  \"&#10;\": \"\\n\",\n  \"&#9;\": \"\\t\",\n  \"&#39;\": \"'\",\n};\nconst encodedAttr = /&(?:lt|gt|quot|amp|#39);/g;\nconst encodedAttrWithNewLines = /&(?:lt|gt|quot|amp|#39|#10|#9);/g;\nexport const isPlainTextElement = makeMap(\"script,style,textarea\", true);\n\nexport const isUnaryTag = makeMap(\n  \"area,base,br,col,embed,frame,hr,img,input,isindex,keygen,\" +\n    \"link,meta,param,source,track,wbr\"\n);\n\nfunction decodeAttr(value, shouldDecodeNewlines) {\n  const re = shouldDecodeNewlines ? encodedAttrWithNewLines : encodedAttr;\n  return value.replace(re, (match) => decodingMap[match]);\n}\n\nexport function parseHtml(html, options = {}) {\n  const stack = [];\n  let index = 0;\n  let last, lastTag;\n  while (html) {\n    last = html;\n    if (!lastTag || !isPlainTextElement(lastTag)) {\n      let textEnd = html.indexOf(\"<\");\n      if (textEnd === 0) {\n        // End tag:\n        const endTagMatch = html.match(endTag);\n        if (endTagMatch) {\n          const curIndex = index;\n          advance(endTagMatch[0].length);\n          parseEndTag(endTagMatch[1], curIndex, index);\n          continue;\n        }\n        // Start tag:\n        const startTagMatch = parseStartTag();\n\n        if (startTagMatch) {\n          handleStartTag(startTagMatch);\n          // if (shouldIgnoreFirstNewline(startTagMatch.tagName, html)) {\n          //   advance(1);\n          // }\n          continue;\n        }\n      }\n      let text, rest, next;\n      if (textEnd >= 0) {\n        text = html.substring(0, textEnd);\n      }\n      if (textEnd < 0) {\n        text = html;\n      }\n      if (text) {\n        advance(text.length);\n        chars(text, index - text.length, index);\n      }\n    }\n  }\n\n  function advance(n) {\n    index += n;\n    html = html.substring(n);\n  }\n\n  function chars(text, start, end) {\n    if (options.chars) {\n      options.chars(text, index - text.length, index);\n    }\n  }\n  function handleStartTag(match) {\n    const tagName = match.tagName;\n    const unarySlash = match.unarySlash;\n    const unary = isUnaryTag(tagName) || !!unarySlash;\n    const l = match.attrs.length;\n    const attrs = new Array(l);\n    for (let i = 0; i < l; i++) {\n      const args = match.attrs[i];\n      const value = args[3] || args[4] || args[5] || \"\";\n      const shouldDecodeNewlines =\n        tagName === \"a\" && args[1] === \"href\"\n          ? options.shouldDecodeNewlinesForHref\n          : options.shouldDecodeNewlines;\n      attrs[i] = {\n        name: args[1],\n        value: decodeAttr(value, shouldDecodeNewlines),\n      };\n      if (options.outputSourceRange) {\n        attrs[i].start = args.start + args[0].match(/^\\s*/).length;\n        attrs[i].end = args.end;\n      }\n    }\n\n    if (!unary) {\n      stack.push({\n        tag: tagName,\n        lowerCasedTag: tagName.toLowerCase(),\n        attrs: attrs,\n        start: match.start,\n        end: match.end,\n      });\n      lastTag = tagName;\n    }\n    if (options.start) {\n      options.start(tagName, attrs, unary, match.start, match.end);\n    }\n  }\n\n  function parseStartTag() {\n    const start = html.match(startTagOpen);\n\n    if (start) {\n      const match = {\n        tagName: start[1],\n        attrs: [],\n        start: index,\n      };\n      advance(start[0].length);\n\n      let end, attr;\n      while (\n        !(end = html.match(startTagClose)) &&\n        (attr = html.match(dynamicArgAttribute) || html.match(attribute))\n      ) {\n        attr.start = index;\n        advance(attr[0].length);\n        attr.end = index;\n        match.attrs.push(attr);\n      }\n      if (end) {\n        match.unarySlash = end[1];\n        advance(end[0].length);\n        match.end = index;\n        return match;\n      }\n    }\n  }\n  function parseEndTag(tagName, start, end) {\n    let pos, lowerCasedTagName;\n    if (start == null) start = index;\n    if (end == null) end = index;\n    if (tagName) {\n      lowerCasedTagName = tagName.toLowerCase();\n      for (pos = stack.length - 1; pos >= 0; pos--) {\n        if (stack[pos].lowerCasedTag === lowerCasedTagName) {\n          break;\n        }\n      }\n    } else {\n      // If no tag name is provided, clean shop\n      pos = 0;\n    }\n    if (pos >= 0) {\n      // Close all the open elements, up the stack\n      for (let i = stack.length - 1; i >= pos; i--) {\n        if ((i > pos || !tagName) && warn) {\n          warn(`tag <${stack[i].tag}> has no matching end tag.`, {\n            start: stack[i].start,\n            end: stack[i].end,\n          });\n        }\n        if (options.end) {\n          options.end(stack[i].tag, start, end);\n        }\n      }\n\n      // Remove the open elements from the stack\n      stack.length = pos;\n      lastTag = pos && stack[pos - 1].tag;\n    } else if (lowerCasedTagName === \"br\") {\n      if (options.start) {\n        options.start(tagName, [], true, start, end);\n      }\n    } else if (lowerCasedTagName === \"p\") {\n      if (options.start) {\n        options.start(tagName, [], false, start, end);\n      }\n      if (options.end) {\n        options.end(tagName, start, end);\n      }\n    }\n  }\n}\n","import { parseHtml } from \"./parse-html\";\nimport { cached } from \"../utils/index\";\n\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\nconst regexEscapeRE = /[-.*+?^${}()|[\\]\\/\\\\]/g;\n\nconst buildRegex = cached((delimiters) => {\n  const open = delimiters[0].replace(regexEscapeRE, \"\\\\$&\");\n  const close = delimiters[1].replace(regexEscapeRE, \"\\\\$&\");\n  return new RegExp(open + \"((?:.|\\\\n)+?)\" + close, \"g\");\n});\n\nexport function parse(template, options = {}) {\n  let root, currentParent;\n  const stack = [];\n  parseHtml(template, {\n    start(tag, attrs, unary) {\n\n      const element = createASTElement(tag, attrs, currentParent);\n      if (!root) {\n        root = element;\n      }\n      if (!unary) {\n        currentParent = element;\n        stack.push(element);\n      } else {\n        // closeElement(element);\n      }\n    },\n    end(tag, start, end) {\n      let element = stack.pop();\n      currentParent = stack[stack.length - 1];\n      if (currentParent) {\n        element.parent = currentParent;\n        currentParent.children.push(element);\n      }\n    },\n    chars(text, start, end) {\n      if (!currentParent) {\n        return;\n      }\n      const children = currentParent.children;\n      let child, res;\n      if (text !== \" \" && (res = parseText(text, options.delimiters))) {\n        child = {\n          type: 2,\n          expression: res.expression,\n          tokens: res.tokens,\n          text,\n        };\n      } else if (\n        text !== \" \" ||\n        !children.length ||\n        children[children.length - 1].text !== \" \"\n      ) {\n        child = {\n          type: 3,\n          text,\n        };\n      }\n\n      if (child) {\n        children.push(child);\n      }\n    },\n  });\n  return root;\n}\n\nfunction makeAttrsMap(attrs) {\n  const map = {};\n  for (let i = 0, l = attrs.length; i < l; i++) {\n    if (map[attrs[i].name]) {\n      warn(\"duplicate attribute: \" + attrs[i].name, attrs[i]);\n    }\n    map[attrs[i].name] = attrs[i].value;\n  }\n  return map;\n}\nexport function createASTElement(tag, attrs, parent) {\n  return {\n    type: 1,\n    tag,\n    attrsList: attrs,\n    attrsMap: makeAttrsMap(attrs),\n    parent,\n    children: [],\n  };\n}\n\nexport function parseText(text, delimiters) {\n  const tagRE = delimiters ? buildRegex(delimiters) : defaultTagRE;\n  if (!tagRE.test(text)) {\n    return;\n  }\n  const tokens = [];\n  const rawTokens = [];\n  let lastIndex = (tagRE.lastIndex = 0);\n  let match, index, tokenValue;\n  while ((match = tagRE.exec(text))) {\n    index = match.index;\n    // push text token\n    if (index > lastIndex) {\n      rawTokens.push((tokenValue = text.slice(lastIndex, index)));\n      tokens.push(JSON.stringify(tokenValue));\n    }\n    // tag token\n    const exp = parseFilters(match[1].trim());\n    tokens.push(`_s(${exp})`);\n    rawTokens.push({ \"@binding\": exp });\n    lastIndex = index + match[0].length;\n  }\n  if (lastIndex < text.length) {\n    rawTokens.push((tokenValue = text.slice(lastIndex)));\n    tokens.push(JSON.stringify(tokenValue));\n  }\n  return {\n    expression: tokens.join(\"+\"),\n    tokens: rawTokens,\n  };\n}\n\nconst validDivisionCharRE = /[\\w).+\\-_$\\]]/;\n\nexport function parseFilters(exp) {\n  let inSingle = false;\n  let inDouble = false;\n  let inTemplateString = false;\n  let inRegex = false;\n  let curly = 0;\n  let square = 0;\n  let paren = 0;\n  let lastFilterIndex = 0;\n  let c, prev, i, expression, filters;\n\n  for (i = 0; i < exp.length; i++) {\n    prev = c;\n    c = exp.charCodeAt(i);\n    if (inSingle) {\n      if (c === 0x27 && prev !== 0x5c) inSingle = false;\n    } else if (inDouble) {\n      if (c === 0x22 && prev !== 0x5c) inDouble = false;\n    } else if (inTemplateString) {\n      if (c === 0x60 && prev !== 0x5c) inTemplateString = false;\n    } else if (inRegex) {\n      if (c === 0x2f && prev !== 0x5c) inRegex = false;\n    } else if (\n      c === 0x7c && // pipe\n      exp.charCodeAt(i + 1) !== 0x7c &&\n      exp.charCodeAt(i - 1) !== 0x7c &&\n      !curly &&\n      !square &&\n      !paren\n    ) {\n      if (expression === undefined) {\n        // first filter, end of expression\n        lastFilterIndex = i + 1;\n        expression = exp.slice(0, i).trim();\n      } else {\n        pushFilter();\n      }\n    } else {\n      switch (c) {\n        case 0x22:\n          inDouble = true;\n          break; // \"\n        case 0x27:\n          inSingle = true;\n          break; // '\n        case 0x60:\n          inTemplateString = true;\n          break; // `\n        case 0x28:\n          paren++;\n          break; // (\n        case 0x29:\n          paren--;\n          break; // )\n        case 0x5b:\n          square++;\n          break; // [\n        case 0x5d:\n          square--;\n          break; // ]\n        case 0x7b:\n          curly++;\n          break; // {\n        case 0x7d:\n          curly--;\n          break; // }\n      }\n      if (c === 0x2f) {\n        // /\n        let j = i - 1;\n        let p;\n        // find first non-whitespace prev char\n        for (; j >= 0; j--) {\n          p = exp.charAt(j);\n          if (p !== \" \") break;\n        }\n        if (!p || !validDivisionCharRE.test(p)) {\n          inRegex = true;\n        }\n      }\n    }\n  }\n\n  if (expression === undefined) {\n    expression = exp.slice(0, i).trim();\n  } else if (lastFilterIndex !== 0) {\n    pushFilter();\n  }\n\n  function pushFilter() {\n    (filters || (filters = [])).push(exp.slice(lastFilterIndex, i).trim());\n    lastFilterIndex = i + 1;\n  }\n\n  if (filters) {\n    for (i = 0; i < filters.length; i++) {\n      expression = wrapFilter(expression, filters[i]);\n    }\n  }\n\n  return expression;\n}\n\n","import { createFunction } from \"../utils/index\";\n\nexport function generate(ast, options) {\n  const code = ast ? genElement(ast) : '_c(\"div\")';\n  return {\n    render: `with(this) {console.log(this); return ${code}}`,\n    staticRenderFns: [],\n  };\n}\n\nexport function genElement(el) {\n  if (el.parent) {\n    el.pre = el.pre || el.parent.pre;\n  }\n  let code;\n  let data;\n  code = `_c('${el.tag}', {attrs: ${JSON.stringify(el.attrsMap)}}, ${\n    el.children ? genChildren(el) : \"\"\n  })`;\n  // if (!el.plain || (el.pre && state.maybeComponent(el))) {\n  //   data = genData(el, state);\n  // }\n\n  // const children = el.inlineTemplate ? null : genChildren(el, state, true);\n  // code = `_c('${el.tag}'${\n  //   data ? `,${data}` : \"\" // data\n  // }${\n  //   children ? `,${children}` : \"\" // children\n  // })`;\n\n  // module transforms\n  // for (let i = 0; i < state.transforms.length; i++) {\n  //   code = state.transforms[i](el, code);\n  // }\n  return code;\n}\n\nexport function genChildren(el) {\n  const children = el.children;\n  if (children.length) {\n    return children\n      .map((children) => gen(children))\n      .filter(Boolean)\n      .join(\",\");\n  }\n}\n\nexport function gen(node) {\n  if (node.type === 1) {\n    return genElement(node);\n  } else {\n    let text = node.text;\n    if (node.type === 3) {\n      return \"\";\n    } else {\n      return genText(node);\n    }\n  }\n}\n\nexport function genText(text) {\n  return `_v(${\n    text.type === 2\n      ? text.expression // no need for () because already wrapped in _s()\n      : transformSpecialNewlines(JSON.stringify(text.text))\n  })`;\n}\n\nexport function genProps(attrs) {\n  let staticProps = ``;\n  let dynamicProps = ``;\n  for (let i = 0; i < props.length; i++) {\n    const prop = props[i];\n    const value = transformSpecialNewlines(prop.value);\n    // if (prop.dynamic) {\n    //   dynamicProps += `${prop.name},${value},`;\n    // } else {\n    staticProps += `\"${prop.name}\":${value},`;\n    // }\n  }\n  staticProps = `{${staticProps.slice(0, -1)}}`;\n  //  if (dynamicProps) {\n  //    return `_d(${staticProps},[${dynamicProps.slice(0, -1)}])`;\n  //  } else {\n  return staticProps;\n  //  }\n}\n\n// #3895, #4268\nfunction transformSpecialNewlines(text) {\n  return text.replace(/\\u2028/g, \"\\\\u2028\").replace(/\\u2029/g, \"\\\\u2029\");\n}\n// with (this) {\n//   return _c(\n//     \"div\",\n//     { attrs: { id: \"app\", class: \"root\" } },\n//     _c(\"p\", { attrs: { class: \"p\" } }, _v(_s(message)))\n//   );\n// }\n// with(this){return _c('div', {attrs: {\"id\":\"app\",\"class\":\"root\"}},_c('p', {attrs: {\"class\":\"p\"}}_v(_s(message))),)}\n","import { warn, createFunction } from \"../utils/index\";\nimport { parse } from \"./parse\";\nimport { optimize } from \"./optimize\";\nimport { generate } from \"./generate\";\nconst baseOptions = {};\n\nexport function createCompilerCreator(baseCompile) {\n  return function createCompiler(baseOptions) {\n    function compile(template, options) {\n      const finalOptions = Object.create(baseOptions);\n      const errors = [];\n      const tips = [];\n\n      finalOptions.warn = (msg, tip) => {\n        (tip ? tips : errors).push(msg);\n      };\n      if (options) {\n        // merge custom modules\n        if (options.modules) {\n          finalOptions.modules = (baseOptions.modules || []).concat(\n            options.modules\n          );\n        }\n        // merge custom directives\n        if (options.directives) {\n          finalOptions.directives = extend(\n            Object.create(baseOptions.directives || null),\n            options.directives\n          );\n        }\n        // copy other options\n        for (const key in options) {\n          if (key !== \"modules\" && key !== \"directives\") {\n            finalOptions[key] = options[key];\n          }\n        }\n      }\n      const compiled = baseCompile(template, finalOptions);\n      // errors.push.apply(errors, detectErrors(compiled.ast));\n      compiled.errors = errors;\n      compiled.tips = tips;\n      return compiled;\n    }\n\n    return {\n      compile,\n      compileToFunctions: createCompileToFunctionFn(compile),\n    };\n  };\n}\n\nexport function createCompileToFunctionFn(compile) {\n  const cache = Object.create(null);\n  return function compileToFunctions(template, options = {}, vm) {\n    options = Object.create({}, options);\n    const warn = options.warn || warn;\n    delete options.warn;\n    try {\n      new Function(\"return 1\");\n    } catch (e) {\n      if (e.toString().match(/unsafe-eval|CSP/)) {\n        warn(\n          \"It seems you are using the standalone build of Vue.js in an \" +\n            \"environment with Content Security Policy that prohibits unsafe-eval. \" +\n            \"The template compiler cannot work in this environment. Consider \" +\n            \"relaxing the policy to allow unsafe-eval or pre-compiling your \" +\n            \"templates into render functions.\"\n        );\n      }\n    }\n    const key = options.delimiters\n      ? String(options.delimiters) + template\n      : template;\n    if (cache[key]) {\n      return cache[key];\n    }\n    const compiled = compile(template, options);\n    if (compiled.errors && compiled.errors.length) {\n      warn(\n        `Error compiling template:\\n\\n${template}\\n\\n` +\n          compiled.errors.map((e) => `- ${e}`).join(\"\\n\") +\n          \"\\n\",\n        vm\n      );\n    }\n    if (compiled.tips && compiled.tips.length) {\n      compiled.tips.forEach((msg) => tip(msg, vm));\n    }\n    const res = {};\n    const fnGenErrors = [];\n    res.render = createFunction(compiled.render, fnGenErrors);\n    res.staticRenderFns = compiled.staticRenderFns.map((code) => {\n      return createFunction(code, fnGenErrors);\n    });\n    if ((!compiled.errors || !compiled.errors.length) && fnGenErrors.length) {\n      warn(\n        `Failed to generate render function:\\n\\n` +\n          fnGenErrors\n            .map(({ err, code }) => `${err.toString()} in\\n\\n${code}\\n`)\n            .join(\"\\n\"),\n        vm\n      );\n    }\n    return (cache[key] = res);\n  };\n}\n\nexport const createCompiler = createCompilerCreator(function baseCompile(\n  template,\n  options\n) {\n  const ast = parse(template.trim(), options);\n  optimize(ast, options);\n  const code = generate(ast, options);\n  console.log(code.render, 'code')\n  return {\n    ast,\n    render: code.render,\n    staticRenderFns: code.staticRenderFns,\n  };\n});\nconst { compile, compileToFunctions } = createCompiler(baseOptions);\nexport { compile, compileToFunctions };\n","export const namespaceMap = {\n  svg: \"http://www.w3.org/2000/svg\",\n  math: \"http://www.w3.org/1998/Math/MathML\",\n};\n\nexport function createElement(tagName, vnode) {\n  const elm = document.createElement(tagName);\n  if (tagName !== \"select\") {\n    return elm;\n  }\n  // false or null will remove the attribute but undefined will not\n  if (\n    vnode.data &&\n    vnode.data.attrs &&\n    vnode.data.attrs.multiple !== undefined\n  ) {\n    elm.setAttribute(\"multiple\", \"multiple\");\n  }\n  return elm;\n}\n\nexport function createElementNS(namespace, tagName) {\n  return document.createElementNS(namespaceMap[namespace], tagName);\n}\n\nexport function createTextNode(text) {\n  return document.createTextNode(text);\n}\n\nexport function createComment(text) {\n  return document.createComment(text);\n}\n\nexport function insertBefore(parentNode, newNode, referenceNode) {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nexport function removeChild(node, child) {\n  node.removeChild(child);\n}\n\nexport function appendChild(node, child) {\n  node.appendChild(child);\n}\n\nexport function parentNode(node) {\n  return node.parentNode;\n}\n\nexport function nextSibling(node) {\n  return node.nextSibling;\n}\n\nexport function tagName(node) {\n  return node.tagName;\n}\n\nexport function setTextContent(node, text) {\n  node.textContent = text;\n}\n\nexport function setStyleScope(node, scopeId) {\n  node.setAttribute(scopeId, \"\");\n}\n","import { initState } from \"./state\";\nimport { query, warn } from \"../utils/index\";\nimport { mountComponent } from \"./lifecycle\";\nimport { initProxy } from \"./proxy\";\nimport { initRender } from \"./render\";\nimport { createPatchFunction } from \"../vdom/patch\";\nimport { compileToFunctions } from \"../compiler/index\";\nimport * as nodeOps from \"../utils/node-ops\";\n\nlet uid = 0;\nfunction mount(el, hydrating) {\n  mountComponent(this, el, hydrating);\n}\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n    vm._uid = uid++;\n    vm._isVue = true;\n    vm.$options = options;\n\n    // if (process.env.NODE_ENV !== \"production\") {\n    initProxy(vm);\n    // } else {\n    // vm._renderProxy = vm;\n    // }\n\n    vm._self = vm;\n    initRender(vm);\n    initState(vm);\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  };\n\n  Vue.prototype.$mount = function (el) {\n    const vm = this;\n    const options = this.$options;\n    el = el && query(el);\n    if (!options.render) {\n      let template = options.template;\n      if (template) {\n        if (typeof template === \"string\") {\n          if (template.charAt(0) === \"#\") {\n            template = idToTemplate(template);\n            /* istanbul ignore if */\n            if (!template) {\n              warn(\n                `Template element not found or is empty: ${options.template}`,\n                this\n              );\n            }\n          }\n        } else if (template.nodeType) {\n          template = template.innerHTML;\n        } else {\n          if (process.env.NODE_ENV !== \"production\") {\n            warn(\"invalid template option:\" + template, this);\n          }\n          return this;\n        }\n      } else if (el) {\n        template = getOuterHTML(el);\n      }\n      if (template) {\n        const { render, staticRenderFns } = compileToFunctions(template, {}, this);\n        console.log(render);\n        options.render = render;\n        options.staticRenderFns = staticRenderFns;\n      }\n    }\n    return mount.call(this, el, false);\n  };\n  Vue.prototype.__patch__ = createPatchFunction({\n    nodeOps,\n    modules: [],\n  });\n}\n\nfunction getOuterHTML(el) {\n  if (el.outerHTML) {\n    return el.outerHTML;\n  } else {\n    const container = document.createElement(\"div\");\n    container.appendChild(el.cloneNode(true));\n    return container.innerHTML;\n  }\n}\n","import { initMixin } from \"./instance/init\";\nimport { renderMixin } from \"./instance/render\";\nimport { lifecycleMixin } from \"./instance/lifecycle\";\nclass Vue {\n  constructor(options) {\n    this._init(options);\n  }\n}\n\ninitMixin(Vue);\nlifecycleMixin(Vue);\nrenderMixin(Vue);\n\nexport default Vue;\n"],"names":["_toString","Object","prototype","toString","isHTMLTag","makeMap","isSVG","isObject","obj","def","key","val","enumerable","defineProperty","value","writable","configurable","query","el","selected","document","querySelector","createElement","warn","console","error","isPlainObject","call","hasOwnProperty","hasOwn","noop","str","expectsLowerCase","map","create","list","split","i","length","toLowerCase","isPrimitive","isDef","v","undefined","isUndef","parsePlatformTagName","_","isReservedTag","tag","getTagNamespace","cached","fn","cache","cachedFn","hit","createFunction","code","errors","Function","err","push","Array","isArray","JSON","stringify","String","Observe","vmCount","observeArray","walk","data","keys","defineReactive","items","l","observe","get","set","newVal","sharedPropertyDefinition","initState","vm","options","$options","props","initProps","methods","initMethods","initData","_data","computed","watch","log","getData","isReserved","proxy","e","target","sourceKey","proxyGetter","proxySetter","c","charCodeAt","createEmptyVNode","text","node","VNode","isComment","createTextVNode","children","elm","context","componentOptions","asyncFactory","ns","fnContext","fnOptions","fnScopeId","componentInstance","parent","raw","isStatic","isRootInsert","isCloned","isOnce","asyncMeta","isAsyncPlaceholder","mountComponent","hydrating","$el","render","updateComponent","_update","_render","lifecycleMixin","Vue","vnode","prevEl","prevVnode","_vnode","__patch__","initProxy","hasProxy","Proxy","isBuiltInModifier","allowedGlobals","_renderProxy","simpleNormalizeChildren","concat","apply","normalizeChildren","normalizeArrayChildren","nextIndex","res","lastIndex","last","nestedIndex","isTextNode","shift","isTrue","_isVList","SIMPLE_NORMALIZE","ALWAYS_NORMALIZE","normalizationType","alwaysNormalize","_createElement","__ob__","is","Ctor","$vnode","nativeOn","pre","resolveAsset","initRender","_c","a","b","d","$createElement","renderMixin","installRenderHelpers","_parentVnode","_s","_v","_e","hooks","SSR_ATTR","ignoredElements","createPatchFunction","backend","j","cbs","modules","nodeOps","invokeDestroyHook","hook","destroy","isUnknownElement","inVPre","some","ignore","isRegExp","test","assertNodeMatch","indexOf","tagName","nodeType","hydrate","insertedVnodeQueue","init","initComponent","emptyNodeAt","createChildren","createElm","appendChild","createTextNode","insert","ref","parentNode","insertBefore","invokeCreateHooks","emptyNode","createRmCb","childElm","listeners","remove","removeNode","removeChild","removeAndInvokeRemoveHook","rm","removeVnodes","vnodes","startIdx","endIdx","ch","creatingElmInVPre","parentElm","refElm","nested","ownerArray","index","createElementNS","createComment","patch","oldVnode","removeOnly","isRealElement","hasAttribute","removeAttribute","invokeInsertHook","oldElm","_leaveCb","nextSibling","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","dynamicArgAttribute","startTagClose","decodingMap","encodedAttr","encodedAttrWithNewLines","isPlainTextElement","isUnaryTag","decodeAttr","shouldDecodeNewlines","re","replace","match","parseHtml","html","stack","lastTag","textEnd","endTagMatch","curIndex","advance","parseEndTag","startTagMatch","parseStartTag","handleStartTag","substring","chars","n","start","end","unarySlash","unary","attrs","args","shouldDecodeNewlinesForHref","name","outputSourceRange","lowerCasedTag","attr","pos","lowerCasedTagName","defaultTagRE","regexEscapeRE","buildRegex","delimiters","open","close","parse","template","root","currentParent","element","createASTElement","pop","child","parseText","type","expression","tokens","makeAttrsMap","attrsList","attrsMap","tagRE","rawTokens","tokenValue","exec","slice","exp","parseFilters","trim","join","validDivisionCharRE","inSingle","inDouble","inTemplateString","inRegex","curly","square","paren","lastFilterIndex","prev","filters","pushFilter","p","charAt","wrapFilter","generate","ast","genElement","staticRenderFns","genChildren","gen","filter","Boolean","genText","transformSpecialNewlines","baseOptions","createCompilerCreator","baseCompile","createCompiler","compile","finalOptions","tips","msg","tip","directives","extend","compiled","compileToFunctions","createCompileToFunctionFn","forEach","fnGenErrors","namespaceMap","svg","math","multiple","setAttribute","namespace","newNode","referenceNode","setTextContent","textContent","setStyleScope","scopeId","uid","mount","initMixin","_init","_uid","_isVue","_self","$mount","idToTemplate","innerHTML","process","env","NODE_ENV","getOuterHTML","outerHTML","container","cloneNode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA,IAAMA,SAAS,GAAGC,MAAM,CAACC,SAAP,CAAiBC,QAAnC;EAGA,IAAIC,SAAS,GAAGC,OAAO,CACrB,+CACE,2EADF,GAEE,oEAFF,GAGE,wEAHF,GAIE,6EAJF,GAKE,2DALF,GAME,kDANF,GAOE,yEAPF,GAQE,kCARF,GASE,uCATF,GAUE,yDAXmB,CAAvB;EAeA;;EACA,IAAIC,KAAK,GAAGD,OAAO,CACjB,2EACE,0EADF,GAEE,kEAHe,EAIjB,IAJiB,CAAnB;EAOO,SAASE,QAAT,CAAkBC,GAAlB,EAAuB;EAC5B,SAAOA,GAAG,KAAK,IAAR,IAAgB,QAAOA,GAAP,MAAe,QAAtC;EACD;EAEM,SAASC,GAAT,CAAaD,GAAb,EAAkBE,GAAlB,EAAuBC,GAAvB,EAA4BC,UAA5B,EAAwC;EAC7CX,EAAAA,MAAM,CAACY,cAAP,CAAsBL,GAAtB,EAA2BE,GAA3B,EAAgC;EAC9BI,IAAAA,KAAK,EAAEH,GADuB;EAE9BC,IAAAA,UAAU,EAAE,CAAC,CAACA,UAFgB;EAG9BG,IAAAA,QAAQ,EAAE,IAHoB;EAI9BC,IAAAA,YAAY,EAAE;EAJgB,GAAhC;EAMD;EAEM,SAASC,KAAT,CAAeC,EAAf,EAAmB;EACxB,MAAI,OAAOA,EAAP,KAAc,QAAlB,EAA4B;EAC1B,QAAMC,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuBH,EAAvB,CAAjB;;EACA,QAAI,CAACC,QAAL,EAAe;EACb,aAAOC,QAAQ,CAACE,aAAT,CAAuB,KAAvB,CAAP;EACD;;EACD,WAAOH,QAAP;EACD,GAND,MAMO;EACL,WAAOD,EAAP;EACD;EACF;EAEM,IAAMK,MAAI,GAAGC,OAAO,CAACC,KAArB;EAEA,SAASC,aAAT,CAAuBlB,GAAvB,EAA4B;EACjC,SAAOR,SAAS,CAAC2B,IAAV,CAAenB,GAAf,MAAwB,iBAA/B;EACD;EAED,IAAMoB,cAAc,GAAG3B,MAAM,CAACC,SAAP,CAAiB0B,cAAxC;EACO,SAASC,MAAT,CAAgBrB,GAAhB,EAAqBE,GAArB,EAA0B;EAC/B,SAAOkB,cAAc,CAACD,IAAf,CAAoBnB,GAApB,EAAyBE,GAAzB,CAAP;EACD;EAEM,IAAMoB,IAAI,GAAG,SAAPA,IAAO,GAAM,EAAnB;EAEA,SAASzB,OAAT,CAAiB0B,GAAjB,EAAsBC,gBAAtB,EAAwC;EAC7C,MAAMC,GAAG,GAAGhC,MAAM,CAACiC,MAAP,CAAc,IAAd,CAAZ;EACA,MAAMC,IAAI,GAAGJ,GAAG,CAACK,KAAJ,CAAU,GAAV,CAAb;;EACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAAI,CAACG,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;EACpCJ,IAAAA,GAAG,CAACE,IAAI,CAACE,CAAD,CAAL,CAAH,GAAe,IAAf;EACD;;EACD,SAAOL,gBAAgB,GAAG,UAACrB,GAAD;EAAA,WAASsB,GAAG,CAACtB,GAAG,CAAC4B,WAAJ,EAAD,CAAZ;EAAA,GAAH,GAAqC,UAAC5B,GAAD;EAAA,WAASsB,GAAG,CAACtB,GAAD,CAAZ;EAAA,GAA5D;EACD;EAED;;;;EAGO,SAAS6B,WAAT,CAAqB1B,KAArB,EAA4B;EACjC,SACE,OAAOA,KAAP,KAAiB,QAAjB,IACA,OAAOA,KAAP,KAAiB,QADjB;EAGA,UAAOA,KAAP,MAAiB,QAHjB,IAIA,OAAOA,KAAP,KAAiB,SALnB;EAOD;EAEM,SAAS2B,OAAT,CAAeC,CAAf,EAAkB;EACvB,SAAOA,CAAC,KAAKC,SAAN,IAAmBD,CAAC,KAAK,IAAhC;EACD;EAEM,SAASE,SAAT,CAAiBF,CAAjB,EAAoB;EACzB,SAAOA,CAAC,KAAKC,SAAN,IAAmBD,CAAC,KAAK,IAAhC;EACD;EAEM,SAASG,oBAAT,CAA8BC,CAA9B,EAAiC;EACtC,SAAOA,CAAP;EACD;EAEM,SAASC,aAAT,CAAuBC,GAAvB,EAA4B;EACjC,SAAO5C,SAAS,CAAC4C,GAAD,CAAT,IAAkB1C,KAAK,CAAC0C,GAAD,CAA9B;EACD;EAEM,SAASC,eAAT,CAAyBD,GAAzB,EAA8B;EACnC,MAAI1C,KAAK,CAAC0C,GAAD,CAAT,EAAgB;EACd,WAAO,KAAP;EACD,GAHkC;EAKnC;;;EACA,MAAIA,GAAG,KAAK,MAAZ,EAAoB;EAClB,WAAO,MAAP;EACD;EACF;EAUD;;;;EAGO,SAASE,MAAT,CAAgBC,EAAhB,EAAoB;EACzB,MAAMC,KAAK,GAAGnD,MAAM,CAACiC,MAAP,CAAc,IAAd,CAAd;EACA,SAAO,SAASmB,QAAT,CAAkBtB,GAAlB,EAAuB;EAC5B,QAAMuB,GAAG,GAAGF,KAAK,CAACrB,GAAD,CAAjB;EACA,WAAOuB,GAAG,KAAKF,KAAK,CAACrB,GAAD,CAAL,GAAaoB,EAAE,CAACpB,GAAD,CAApB,CAAV;EACD,GAHD;EAID;EAEM,SAASwB,cAAT,CAAwBC,IAAxB,EAA2C;EAAA,MAAbC,MAAa,uEAAJ,EAAI;;EAChD,MAAI;EACF,WAAO,IAAIC,QAAJ,CAAaF,IAAb,CAAP;EACD,GAFD,CAEE,OAAOG,GAAP,EAAY;EACZF,IAAAA,MAAM,CAACG,IAAP,CAAY;EAAED,MAAAA,GAAG,EAAHA,GAAF;EAAOH,MAAAA,IAAI,EAAJA;EAAP,KAAZ;EACA,WAAO1B,IAAP;EACD;EACF;EAEM,SAAS3B,QAAT,CAAkBQ,GAAlB,EAAuB;EAC5B,SAAOA,GAAG,IAAI,IAAP,GACH,EADG,GAEHkD,KAAK,CAACC,OAAN,CAAcnD,GAAd,KAAuBe,aAAa,CAACf,GAAD,CAAb,IAAsBA,GAAG,CAACR,QAAJ,KAAiBH,SAA9D,GACA+D,IAAI,CAACC,SAAL,CAAerD,GAAf,EAAoB,IAApB,EAA0B,CAA1B,CADA,GAEAsD,MAAM,CAACtD,GAAD,CAJV;EAKD;;MCjJYuD,OAAb;EACE,mBAAYpD,KAAZ,EAAmB;EAAA;;EACjB,SAAKA,KAAL,GAAaA,KAAb;EACA,SAAKqD,OAAL,GAAe,CAAf;EACA1D,IAAAA,GAAG,CAACK,KAAD,EAAQ,QAAR,EAAkB,IAAlB,CAAH;;EACA,QAAI+C,KAAK,CAACC,OAAN,CAAchD,KAAd,CAAJ,EAA0B;EACxB,WAAKsD,YAAL,CAAkBtD,KAAlB;EACD,KAFD,MAEO;EACL,WAAKuD,IAAL,CAAUvD,KAAV;EACD;EACF;;EAVH;EAAA;EAAA,yBAWOwD,IAXP,EAWa;EACT,UAAIC,IAAI,GAAGtE,MAAM,CAACsE,IAAP,CAAYD,IAAZ,CAAX;;EACA,WAAK,IAAIjC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkC,IAAI,CAACjC,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;EACpC,YAAI3B,GAAG,GAAG6D,IAAI,CAAClC,CAAD,CAAd;EACA,YAAIvB,KAAK,GAAGwD,IAAI,CAAC5D,GAAD,CAAhB;EACA8D,QAAAA,cAAc,CAACF,IAAD,EAAO5D,GAAP,EAAYI,KAAZ,CAAd;EACD;EACF;EAlBH;EAAA;EAAA,iCAmBe2D,KAnBf,EAmBsB;EAClB,WAAK,IAAIpC,CAAC,GAAG,CAAR,EAAWqC,CAAC,GAAGD,KAAK,CAACnC,MAA1B,EAAkCD,CAAC,GAAGqC,CAAtC,EAAyCrC,CAAC,EAA1C,EAA8C;EAC5CsC,QAAAA,OAAO,CAACF,KAAK,CAACpC,CAAD,CAAN,CAAP;EACD;EACF;EAvBH;;EAAA;EAAA;;EA0BA,SAASmC,cAAT,CAAwBF,IAAxB,EAA8B5D,GAA9B,EAAmCI,KAAnC,EAA0C;EACxC6D,EAAAA,OAAO,CAAC7D,KAAD,CAAP;EACAb,EAAAA,MAAM,CAACY,cAAP,CAAsByD,IAAtB,EAA4B5D,GAA5B,EAAiC;EAC/BkE,IAAAA,GAD+B,iBACzB;EACJ,aAAO9D,KAAP;EACD,KAH8B;EAI/B+D,IAAAA,GAJ+B,eAI3BC,MAJ2B,EAInB;EACV,UAAIA,MAAM,KAAKhE,KAAf,EAAsB;EACtBA,MAAAA,KAAK,GAAGgE,MAAR;EACD;EAP8B,GAAjC;EASD;;EAEM,SAASH,OAAT,CAAiBL,IAAjB,EAAuB;EAC5B,MAAI,CAAC/D,QAAQ,CAAC+D,IAAD,CAAb,EAAqB;EACnB;EACD;EAED,MAAIJ,OAAJ,CAAYI,IAAZ;EACD;;EC5CD,IAAMS,wBAAwB,GAAG;EAC/BnE,EAAAA,UAAU,EAAE,IADmB;EAE/BI,EAAAA,YAAY,EAAE,IAFiB;EAG/B4D,EAAAA,GAAG,EAAE9C,IAH0B;EAI/B+C,EAAAA,GAAG,EAAE/C;EAJ0B,CAAjC;EAOO,SAASkD,SAAT,CAAmBC,EAAnB,EAAuB;EAC5B,MAAMC,OAAO,GAAGD,EAAE,CAACE,QAAnB;;EACA,MAAID,OAAO,CAACE,KAAZ,EAAmB;EACjBC,IAAAA,SAAS,CAACJ,EAAD,EAAKC,OAAO,CAACE,KAAb,CAAT;EACD;;EACD,MAAIF,OAAO,CAACI,OAAZ,EAAqB;EACnBC,IAAAA,WAAW,CAACN,EAAD,EAAKC,OAAO,CAACI,OAAb,CAAX;EACD;;EACD,MAAIJ,OAAO,CAACZ,IAAZ,EAAkB;EAChBkB,IAAAA,QAAQ,CAACP,EAAD,CAAR;EACD,GAFD,MAEO;EACLN,IAAAA,OAAO,CAAEM,EAAE,CAACQ,KAAH,GAAW,GAApB;EACD;;EACD,MAAIP,OAAO,CAACQ,QAAZ,EAAsB;;EAEtB,MAAIR,OAAO,CAACS,KAAZ,EAAmB;EAEpB;;EAED,SAASN,SAAT,GAAqB;;EAErB,SAASG,QAAT,CAAkBP,EAAlB,EAAsB;EACpBzD,EAAAA,OAAO,CAACoE,GAAR,CAAYX,EAAE,CAACE,QAAH,CAAYb,IAAxB;EACA,MAAIA,IAAI,GAAGW,EAAE,CAACE,QAAH,CAAYb,IAAvB;EACAA,EAAAA,IAAI,GAAGW,EAAE,CAACQ,KAAH,GAAW,OAAOnB,IAAP,KAAgB,UAAhB,GAA6BuB,OAAO,CAACvB,IAAD,CAApC,GAA6CA,IAA/D;EACA9C,EAAAA,OAAO,CAACoE,GAAR,CAAYtB,IAAZ;;EACA,MAAI,CAAC5C,aAAa,CAAC4C,IAAD,CAAlB,EAA0B;EACxBA,IAAAA,IAAI,GAAG,EAAP;EACA/C,IAAAA,MAAI,CACF,8CACE,oEAFA,EAGF0D,EAHE,CAAJ;EAKD;;EACD,MAAMV,IAAI,GAAGtE,MAAM,CAACsE,IAAP,CAAYD,IAAZ,CAAb;EACA,MAAMc,KAAK,GAAGH,EAAE,CAACE,QAAH,CAAYC,KAA1B;EACA,MAAME,OAAO,GAAGL,EAAE,CAACE,QAAH,CAAYG,OAA5B;EACA,MAAIjD,CAAC,GAAGkC,IAAI,CAACjC,MAAb;;EACA,SAAOD,CAAC,EAAR,EAAY;EACV,QAAM3B,GAAG,GAAG6D,IAAI,CAAClC,CAAD,CAAhB;;EACA,QAAIiD,OAAO,IAAIzD,MAAM,CAACyD,OAAD,EAAU5E,GAAV,CAArB,EAAqC;EACnCa,MAAAA,MAAI,oBAAYb,GAAZ,sDAAiEuE,EAAjE,CAAJ;EACD;;EACD,QAAIG,KAAK,IAAIvD,MAAM,CAACuD,KAAD,EAAQ1E,GAAR,CAAnB,EAAiC;EAC/Ba,MAAAA,MAAI,CACF,8BAAsBb,GAAtB,2EADE,EAGFuE,EAHE,CAAJ;EAKD,KAND,MAMO,IAAI,CAACa,UAAU,CAACpF,GAAD,CAAf,EAAsB;EAC3BqF,MAAAA,KAAK,CAACd,EAAD,WAAcvE,GAAd,CAAL;EACD;EACF,GA/BmB;;;EAiCpBiE,EAAAA,OAAO,CAACL,IAAD,CAAP;EACD;;EAED,SAASiB,WAAT,GAAuB;;EAEhB,SAASM,OAAT,CAAiBvB,IAAjB,EAAuBW,EAAvB,EAA2B;EAChC;EACA,MAAI;EACF,WAAOX,IAAI,CAAC3C,IAAL,CAAUsD,EAAV,EAAcA,EAAd,CAAP;EACD,GAFD,CAEE,OAAOe,CAAP,EAAU;EACV;EACA,WAAO,EAAP;EACD,GALD,SAKU;EAEX;EAEM,SAASD,KAAT,CAAeE,MAAf,EAAuBC,SAAvB,EAAkCxF,GAAlC,EAAuC;EAC5CqE,EAAAA,wBAAwB,CAACH,GAAzB,GAA+B,SAASuB,WAAT,GAAuB;EACpD,WAAO,KAAKD,SAAL,EAAgBxF,GAAhB,CAAP;EACD,GAFD;;EAGAqE,EAAAA,wBAAwB,CAACF,GAAzB,GAA+B,SAASuB,WAAT,CAAqBzF,GAArB,EAA0B;EACvD,SAAKuF,SAAL,EAAgBxF,GAAhB,IAAuBC,GAAvB;EACD,GAFD;;EAGAV,EAAAA,MAAM,CAACY,cAAP,CAAsBoF,MAAtB,EAA8BvF,GAA9B,EAAmCqE,wBAAnC;EACD;EAEM,SAASe,UAAT,CAAoB/D,GAApB,EAAyB;EAC9B,MAAMsE,CAAC,GAAG,CAACtE,GAAG,GAAG,EAAP,EAAWuE,UAAX,CAAsB,CAAtB,CAAV;EACA,SAAOD,CAAC,KAAK,IAAN,IAAcA,CAAC,KAAK,IAA3B;EACD;;EC7FM,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,IAAD,EAAU;EACxC,MAAMC,IAAI,GAAG,IAAIC,KAAJ,EAAb;EACAD,EAAAA,IAAI,CAACD,IAAL,GAAYA,IAAZ;EACAC,EAAAA,IAAI,CAACE,SAAL,GAAiB,IAAjB;EACA,SAAOF,IAAP;EACD,CALM;EAOA,SAASG,eAAT,CAAyBjG,GAAzB,EAA8B;EACnC,SAAO,IAAI+F,KAAJ,CAAU/D,SAAV,EAAqBA,SAArB,EAAgCA,SAAhC,EAA2CsB,MAAM,CAACtD,GAAD,CAAjD,CAAP;EACD;;MA4BoB+F;EACnB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA,iBACE1D,GADF,EAEEsB,IAFF,EAGEuC,QAHF,EAIEL,IAJF,EAKEM,GALF,EAMEC,OANF,EAOEC,gBAPF,EAQEC,YARF,EASE;EAAA;;EACA,SAAKjE,GAAL,GAAWA,GAAX;EACA,SAAKsB,IAAL,GAAYA,IAAZ;EACA,SAAKuC,QAAL,GAAgBA,QAAhB;EACA,SAAKL,IAAL,GAAYA,IAAZ;EACA,SAAKM,GAAL,GAAWA,GAAX;EACA,SAAKI,EAAL,GAAUvE,SAAV;EACA,SAAKoE,OAAL,GAAeA,OAAf;EACA,SAAKI,SAAL,GAAiBxE,SAAjB;EACA,SAAKyE,SAAL,GAAiBzE,SAAjB;EACA,SAAK0E,SAAL,GAAiB1E,SAAjB;EACA,SAAKjC,GAAL,GAAW4D,IAAI,IAAIA,IAAI,CAAC5D,GAAxB;EACA,SAAKsG,gBAAL,GAAwBA,gBAAxB;EACA,SAAKM,iBAAL,GAAyB3E,SAAzB;EACA,SAAK4E,MAAL,GAAc5E,SAAd;EACA,SAAK6E,GAAL,GAAW,KAAX;EACA,SAAKC,QAAL,GAAgB,KAAhB;EACA,SAAKC,YAAL,GAAoB,IAApB;EACA,SAAKf,SAAL,GAAiB,KAAjB;EACA,SAAKgB,QAAL,GAAgB,KAAhB;EACA,SAAKC,MAAL,GAAc,KAAd;EACA,SAAKX,YAAL,GAAoBA,YAApB;EACA,SAAKY,SAAL,GAAiBlF,SAAjB;EACA,SAAKmF,kBAAL,GAA0B,KAA1B;EACD;;EAGD;;;;;0BACY;EACV,aAAO,KAAKR,iBAAZ;EACD;;;;;;ECrGI,SAASS,cAAT,CAAwB9C,EAAxB,EAA4B/D,EAA5B,EAAgC8G,SAAhC,EAA2C;EAChD/C,EAAAA,EAAE,CAACgD,GAAH,GAAS/G,EAAT;;EACA,MAAI,CAAC+D,EAAE,CAACE,QAAH,CAAY+C,MAAjB,EAAyB;EACvBjD,IAAAA,EAAE,CAACE,QAAH,CAAY+C,MAAZ,GAAqB3B,gBAArB,CADuB;EAIvB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACD;;EACD/E,EAAAA,OAAO,CAACoE,GAAR,CAAY,aAAZ;EACA,MAAIuC,eAAJ;;EACAA,EAAAA,eAAe,GAAG,2BAAM;EACtBlD,IAAAA,EAAE,CAACmD,OAAH,CAAWnD,EAAE,CAACoD,OAAH,EAAX,EAAyBL,SAAzB,EADsB;;EAGvB,GAHD;;EAIAG,EAAAA,eAAe,GA7BiC;EA+BhD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACD;EAWM,SAASG,cAAT,CAAwBC,GAAxB,EAA6B;EAClCA,EAAAA,GAAG,CAACrI,SAAJ,CAAckI,OAAd,GAAwB,UAAUI,KAAV,EAAiBR,SAAjB,EAA4B;EAClD,QAAM/C,EAAE,GAAG,IAAX;EACA,QAAMwD,MAAM,GAAGxD,EAAE,CAACgD,GAAlB;EACA,QAAMS,SAAS,GAAGzD,EAAE,CAAC0D,MAArB;EAGA1D,IAAAA,EAAE,CAAC0D,MAAH,GAAYH,KAAZ;;EACA,QAAI,CAACE,SAAL,EAAgB;EACd;EACAzD,MAAAA,EAAE,CAACgD,GAAH,GAAShD,EAAE,CAAC2D,SAAH,CAAa3D,EAAE,CAACgD,GAAhB,EAAqBO,KAArB,EAA4BR,SAA5B,EAAuC;EAAM;EAA7C,OAAT;EACD,KAHD,MAGO;EACL;EACA/C,MAAAA,EAAE,CAACgD,GAAH,GAAShD,EAAE,CAAC2D,SAAH,CAAaF,SAAb,EAAwBF,KAAxB,CAAT;EACD;EAEF,GAfD;EAgBD;;EC5ED;EAIA,IAAIK,SAAJ;;EAuBA,IAAMC,QAAQ,GAAG,OAAOC,KAAP,KAAiB,WAAlC;;EAEA,IAAID,QAAJ,EAAc;EACZ,MAAME,iBAAiB,GAAG3I,OAAO,CAC/B,6CAD+B,CAAjC;EAGA,MAAI0I,KAAJ,CAAU9I,MAAM,CAACiC,MAAP,CAAc,IAAd,CAAV,EAA+B;EAC7B2C,IAAAA,GAD6B,eACzBoB,MADyB,EACjBvF,GADiB,EACZI,KADY,EACL;EACtB,UAAIkI,iBAAiB,CAACtI,GAAD,CAArB,EAA4B;EAC1Ba,QAAAA,MAAI,oEAA6Db,GAA7D,EAAJ;EACA,eAAO,KAAP;EACD,OAHD,MAGO;EACLuF,QAAAA,MAAM,CAACvF,GAAD,CAAN,GAAcI,KAAd;EACA,eAAO,IAAP;EACD;EACF;EAT4B,GAA/B;EAWD;;EAED,IAAMmI,cAAc,GAAG5I,OAAO,CAC5B,2CACE,gFADF,GAEE,wEAFF,GAGE,SAJ0B;EAAA,CAA9B;;EAiCAwI,SAAS,GAAG,SAASA,SAAT,CAAmB5D,EAAnB,EAAuB;EACjC;EACA;EACA;EACA;EACA;EACA;EACA;EACAA,EAAAA,EAAE,CAACiE,YAAH,GAAkBjE,EAAlB,CARiC;EAUlC,CAVD;;EC3EA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;;EACO,SAASkE,uBAAT,CAAiCtC,QAAjC,EAA2C;EAChD,OAAK,IAAIxE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwE,QAAQ,CAACvE,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;EACxC,QAAIwB,KAAK,CAACC,OAAN,CAAc+C,QAAQ,CAACxE,CAAD,CAAtB,CAAJ,EAAgC;EAC9B,aAAOwB,KAAK,CAAC3D,SAAN,CAAgBkJ,MAAhB,CAAuBC,KAAvB,CAA6B,EAA7B,EAAiCxC,QAAjC,CAAP;EACD;EACF;;EACD,SAAOA,QAAP;EACD;EAGD;EACA;EACA;;EACO,SAASyC,iBAAT,CAA2BzC,QAA3B,EAAqC;EAC1C,SAAOrE,WAAW,CAACqE,QAAD,CAAX,GACH,CAACD,eAAe,CAACC,QAAD,CAAhB,CADG,GAEHhD,KAAK,CAACC,OAAN,CAAc+C,QAAd,IACA0C,sBAAsB,CAAC1C,QAAD,CADtB,GAEAlE,SAJJ;EAKD;;EAED,SAAS4G,sBAAT,CAAgC1C,QAAhC,EAA0C2C,SAA1C,EAAqD;EACnD,MAAMC,GAAG,GAAG,EAAZ;EACA,MAAIpH,CAAJ,EAAOgE,CAAP,EAAUqD,SAAV,EAAqBC,IAArB;;EACA,OAAKtH,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGwE,QAAQ,CAACvE,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;EACpCgE,IAAAA,CAAC,GAAGQ,QAAQ,CAACxE,CAAD,CAAZ;EACAb,IAAAA,OAAO,CAACoE,GAAR,CAAYS,CAAZ;EAEA,QAAIzD,OAAO,CAACyD,CAAD,CAAP,IAAc,OAAOA,CAAP,KAAa,SAA/B,EAA0C;EAC1CqD,IAAAA,SAAS,GAAGD,GAAG,CAACnH,MAAJ,GAAa,CAAzB;EACAqH,IAAAA,IAAI,GAAGF,GAAG,CAACC,SAAD,CAAV;;EACA,QAAI7F,KAAK,CAACC,OAAN,CAAcuC,CAAd,CAAJ,EAAsB;EACpB,UAAIA,CAAC,CAAC/D,MAAF,GAAW,CAAf,EAAkB;EAChB+D,QAAAA,CAAC,GAAGkD,sBAAsB,CAAClD,CAAD,YAAOuD,WAAW,IAAI,EAAtB,cAA4BvH,CAA5B,EAA1B,CADgB;;EAGhB,YAAIwH,UAAU,CAACxD,CAAC,CAAC,CAAD,CAAF,CAAV,IAAoBwD,UAAU,CAACF,IAAD,CAAlC,EAA0C;EACxCF,UAAAA,GAAG,CAACC,SAAD,CAAH,GAAiB9C,eAAe,CAAC+C,IAAI,CAACnD,IAAL,GAAaH,CAAC,CAAC,CAAD,CAAF,CAAOG,IAApB,CAAhC;EACAH,UAAAA,CAAC,CAACyD,KAAF;EACD;;EACDL,QAAAA,GAAG,CAAC7F,IAAJ,CAASyF,KAAT,CAAeI,GAAf,EAAoBpD,CAApB;EACD;EACF,KAVD,MAUO,IAAI7D,WAAW,CAAC6D,CAAD,CAAf,EAAoB;EACzB,UAAIwD,UAAU,CAACF,IAAD,CAAd,EAAsB;EACpB;EACA;EACA;EACAF,QAAAA,GAAG,CAACC,SAAD,CAAH,GAAiB9C,eAAe,CAAC+C,IAAI,CAACnD,IAAL,GAAYH,CAAb,CAAhC;EACD,OALD,MAKO,IAAIA,CAAC,KAAK,EAAV,EAAc;EACnB;EACAoD,QAAAA,GAAG,CAAC7F,IAAJ,CAASgD,eAAe,CAACP,CAAD,CAAxB;EACD;EACF,KAVM,MAUA;EACL,UAAIwD,UAAU,CAACxD,CAAD,CAAV,IAAiBwD,UAAU,CAACF,IAAD,CAA/B,EAAuC;EACrC;EACAF,QAAAA,GAAG,CAACC,SAAD,CAAH,GAAiB9C,eAAe,CAAC+C,IAAI,CAACnD,IAAL,GAAYH,CAAC,CAACG,IAAf,CAAhC;EACD,OAHD,MAGO;EACL;EACA,YACEuD,MAAM,CAAClD,QAAQ,CAACmD,QAAV,CAAN,IACAvH,KAAK,CAAC4D,CAAC,CAACrD,GAAH,CADL,IAEAJ,OAAO,CAACyD,CAAC,CAAC3F,GAAH,CAFP,IAGA+B,KAAK,CAACmH,WAAD,CAJP,EAKE;EACAvD,UAAAA,CAAC,CAAC3F,GAAF,oBAAkBkJ,WAAlB,cAAiCvH,CAAjC;EACD;;EACDoH,QAAAA,GAAG,CAAC7F,IAAJ,CAASyC,CAAT;EACD;EACF;EACF;;EACD,SAAOoD,GAAP;EACD;;ECtED,IAAMQ,gBAAgB,GAAG,CAAzB;EACA,IAAMC,gBAAgB,GAAG,CAAzB;EACO,SAAS5I,aAAT,CACLyF,OADK,EAEL/D,GAFK,EAGLsB,IAHK,EAILuC,QAJK,EAKLsD,iBALK,EAMLC,eANK,EAOL;EACA,MAAIvG,KAAK,CAACC,OAAN,CAAcQ,IAAd,KAAuB9B,WAAW,CAAC8B,IAAD,CAAtC,EAA8C;EAC5C6F,IAAAA,iBAAiB,GAAGtD,QAApB;EACAA,IAAAA,QAAQ,GAAGvC,IAAX;EACAA,IAAAA,IAAI,GAAG3B,SAAP;EACD;;EACD,MAAIyH,eAAe,KAAK,IAAxB,EAA8B;EAC5BD,IAAAA,iBAAiB,GAAGD,gBAApB;EACD;;EACD,SAAOG,cAAc,CAACtD,OAAD,EAAU/D,GAAV,EAAesB,IAAf,EAAqBuC,QAArB,EAA+BsD,iBAA/B,CAArB;EACD;EAEM,SAASE,cAAT,CACLtD,OADK,EAEL/D,GAFK,EAGLsB,IAHK,EAILuC,QAJK,EAKLsD,iBALK,EAML;EACA;EACA,MAAI1H,OAAK,CAAC6B,IAAD,CAAL,IAAe7B,OAAK,CAAC6B,IAAI,CAACgG,MAAN,CAAxB,EAAuC;EACrC/I,IAAAA,IAAI,CACF,0DAAmDwC,IAAI,CAACC,SAAL,CACjDM,IADiD,CAAnD,UAEQ,wDAHN,EAIFyC,OAJE,CAAJ;EAMA,WAAOR,gBAAgB,EAAvB;EACD;;EACD,MAAI9D,OAAK,CAAC6B,IAAD,CAAL,IAAe7B,OAAK,CAAC6B,IAAI,CAACiG,EAAN,CAAxB,EAAmC;EACjCvH,IAAAA,GAAG,GAAGsB,IAAI,CAACiG,EAAX;EACD;;EACD,MAAI,CAACvH,GAAL,EAAU;EACR;EACA,WAAOuD,gBAAgB,EAAvB;EACD,GAjBD;EAoBA;;;EACA,MAAI4D,iBAAiB,KAAKD,gBAA1B,EAA4C;EAC1CrD,IAAAA,QAAQ,GAAGyC,iBAAiB,CAACzC,QAAD,CAA5B;EACD,GAFD,MAEO,IAAIsD,iBAAiB,KAAKF,gBAA1B,EAA4C;EACjDpD,IAAAA,QAAQ,GAAGsC,uBAAuB,CAACtC,QAAD,CAAlC;EACD;;EACD,MAAI2B,KAAJ,EAAWtB,EAAX;;EACA,MAAI,OAAOlE,GAAP,KAAe,QAAnB,EAA6B;EAC3B,QAAIwH,IAAJ;EACAtD,IAAAA,EAAE,GAAIH,OAAO,CAAC0D,MAAR,IAAkB1D,OAAO,CAAC0D,MAAR,CAAevD,EAAlC,IAAyCjE,eAAe,CAACD,GAAD,CAA7D,CAF2B;;EAK3B,QAAID,aAAa,CAACC,GAAD,CAAjB,EAAwB;EACtB,UAAIP,OAAK,CAAC6B,IAAD,CAAL,IAAe7B,OAAK,CAAC6B,IAAI,CAACoG,QAAN,CAAxB,EAAyC;EACvCnJ,QAAAA,IAAI,CACF,mFACEyB,GADF,GAEE,IAHA,EAIF+D,OAJE,CAAJ;EAMD;;EACDyB,MAAAA,KAAK,GAAG,IAAI9B,KAAJ,CACN7D,oBAAoB,CAACG,GAAD,CADd,EAENsB,IAFM,EAGNuC,QAHM,EAINlE,SAJM,EAKNA,SALM,EAMNoE,OANM,CAAR;EAQD,KAjBD,MAiBO,IACL,CAAC,CAACzC,IAAD,IAAS,CAACA,IAAI,CAACqG,GAAhB,KACAlI,OAAK,CAAE+H,IAAI,GAAGI,YAAY,CAAC7D,OAAO,CAAC5B,QAAT,EAAmB,YAAnB,EAAiCnC,GAAjC,CAArB,CAFA,EAGL,CAHK,MAKA;EACLwF,MAAAA,KAAK,GAAG,IAAI9B,KAAJ,CAAU1D,GAAV,EAAesB,IAAf,EAAqBuC,QAArB,EAA+BlE,SAA/B,EAA0CA,SAA1C,EAAqDoE,OAArD,CAAR;EACD;EAEF;;EAID,MAAIlD,KAAK,CAACC,OAAN,CAAc0E,KAAd,CAAJ,EAA0B;EACxB,WAAOA,KAAP;EACD,GAFD,MAEO,IAAI/F,OAAK,CAAC+F,KAAD,CAAT,EAAkB;EACvB;EACA;EACA,WAAOA,KAAP;EACD,GAJM,MAIA;EACL,WAAOjC,gBAAgB,EAAvB;EACD;EACF;;EC7GM,SAASsE,UAAT,CAAoB5F,EAApB,EAAwB;EAC7B;EACA;EACA;EACA;EACA;EACAA,EAAAA,EAAE,CAAC6F,EAAH,GAAQ,UAACC,CAAD,EAAIC,CAAJ,EAAO3E,CAAP,EAAU4E,CAAV;EAAA,WAAgB3J,aAAa,CAAC2D,EAAD,EAAK8F,CAAL,EAAQC,CAAR,EAAW3E,CAAX,EAAc4E,CAAd,EAAiB,KAAjB,CAA7B;EAAA,GAAR,CAN6B;EAQ7B;;;EACAhG,EAAAA,EAAE,CAACiG,cAAH,GAAoB,UAACH,CAAD,EAAIC,CAAJ,EAAO3E,CAAP,EAAU4E,CAAV;EAAA,WAAgB3J,aAAa,CAAC2D,EAAD,EAAK8F,CAAL,EAAQC,CAAR,EAAW3E,CAAX,EAAc4E,CAAd,EAAiB,IAAjB,CAA7B;EAAA,GAApB;EACD;EAEM,SAASE,WAAT,CAAqB5C,GAArB,EAA0B;EAC/B6C,EAAAA,oBAAoB,CAAC7C,GAAG,CAACrI,SAAL,CAApB;;EAEAqI,EAAAA,GAAG,CAACrI,SAAJ,CAAcmI,OAAd,GAAwB,YAAY;EAClC,QAAMpD,EAAE,GAAG,IAAX;EADkC,uBAEDA,EAAE,CAACE,QAFF;EAAA,QAE1B+C,MAF0B,gBAE1BA,MAF0B;EAAA,QAElBmD,YAFkB,gBAElBA,YAFkB;EAGlC,QAAI7C,KAAJ;;EACA,QAAI;EACFA,MAAAA,KAAK,GAAGN,MAAM,CAACvG,IAAP,CAAYsD,EAAE,CAACiE,YAAf,EAA6BjE,EAAE,CAACiG,cAAhC,CAAR;EACD,KAFD,CAEE,OAAOzJ,KAAP,EAAc;EACdD,MAAAA,OAAO,CAACoE,GAAR,CAAYnE,KAAZ;EACD;;EAED,QAAIoC,KAAK,CAACC,OAAN,CAAc0E,KAAd,KAAwBA,KAAK,CAAClG,MAAN,KAAiB,CAA7C,EAAgD;EAC9CkG,MAAAA,KAAK,GAAGA,KAAK,CAAC,CAAD,CAAb;EACD,KAZiC;;;EAclC,QAAI,EAAEA,KAAK,YAAY9B,KAAnB,CAAJ,EAA+B;EAC7B,UAAI7C,KAAK,CAACC,OAAN,CAAc0E,KAAd,CAAJ,EAA0B;EACxBjH,QAAAA,IAAI,CACF,wEACE,mCAFA,EAGF0D,EAHE,CAAJ;EAKD;;EACDuD,MAAAA,KAAK,GAAGjC,gBAAgB,EAAxB;EACD,KAvBiC;;;EAyBlCiC,IAAAA,KAAK,CAACjB,MAAN,GAAe8D,YAAf;EACA7J,IAAAA,OAAO,CAACoE,GAAR,CAAY4C,KAAZ;EACA,WAAOA,KAAP;EACD,GA5BD;EA6BD;;EAED,SAAS4C,oBAAT,CAA8BnF,MAA9B,EAAsC;EACpC;EACA;EACAA,EAAAA,MAAM,CAACqF,EAAP,GAAYnL,QAAZ,CAHoC;EAKpC;EACA;EACA;EACA;EACA;EACA;EACA;;EACA8F,EAAAA,MAAM,CAACsF,EAAP,GAAY3E,eAAZ;EACAX,EAAAA,MAAM,CAACuF,EAAP,GAAYjF,gBAAZ,CAboC;EAepC;EACA;EACA;EACD;;EClED,IAAMkF,KAAK,GAAG,CAAC,QAAD,EAAW,UAAX,EAAuB,QAAvB,EAAiC,QAAjC,EAA2C,SAA3C,CAAd;EAEO,IAAMC,QAAQ,GAAG,sBAAjB;EACA,IAAMC,eAAe,GAAG,EAAxB;EA2BA,SAASC,mBAAT,CAA6BC,OAA7B,EAAsC;EAC3C,MAAIxJ,CAAJ,EAAOyJ,CAAP;EACA,MAAMC,GAAG,GAAG,EAAZ;EACAvK,EAAAA,OAAO,CAACoE,GAAR,CAAYiG,OAAZ;EAH2C,MAKnCG,OALmC,GAKdH,OALc,CAKnCG,OALmC;EAAA,MAK1BC,OAL0B,GAKdJ,OALc,CAK1BI,OAL0B;;EAM3C,OAAK5J,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGoJ,KAAK,CAACnJ,MAAtB,EAA8B,EAAED,CAAhC,EAAmC;EACjC0J,IAAAA,GAAG,CAACN,KAAK,CAACpJ,CAAD,CAAN,CAAH,GAAgB,EAAhB;;EACA,SAAKyJ,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGE,OAAO,CAAC1J,MAAxB,EAAgC,EAAEwJ,CAAlC,EAAqC;EACnC,UAAIrJ,OAAK,CAACuJ,OAAO,CAACF,CAAD,CAAP,CAAWL,KAAK,CAACpJ,CAAD,CAAhB,CAAD,CAAT,EAAiC;EAC/B0J,QAAAA,GAAG,CAACN,KAAK,CAACpJ,CAAD,CAAN,CAAH,CAAcuB,IAAd,CAAmBoI,OAAO,CAACF,CAAD,CAAP,CAAWL,KAAK,CAACpJ,CAAD,CAAhB,CAAnB;EACD;EACF;EACF;;EAED,WAAS6J,iBAAT,CAA2B1D,KAA3B,EAAkC;EAChC,QAAInG,CAAJ,EAAOyJ,CAAP;EACA,QAAMxH,IAAI,GAAGkE,KAAK,CAAClE,IAAnB;;EACA,QAAI7B,OAAK,CAAC6B,IAAD,CAAT,EAAiB;EACf,UAAI7B,OAAK,CAAEJ,CAAC,GAAGiC,IAAI,CAAC6H,IAAX,CAAL,IAA0B1J,OAAK,CAAEJ,CAAC,GAAGA,CAAC,CAAC+J,OAAR,CAAnC,EAAsD/J,CAAC,CAACmG,KAAD,CAAD;;EACtD,WAAKnG,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG0J,GAAG,CAACK,OAAJ,CAAY9J,MAA5B,EAAoC,EAAED,CAAtC;EAAyC0J,QAAAA,GAAG,CAACK,OAAJ,CAAY/J,CAAZ,EAAemG,KAAf;EAAzC;EACD;;EACD,QAAI/F,OAAK,CAAEJ,CAAC,GAAGmG,KAAK,CAAC3B,QAAZ,CAAT,EAAiC;EAC/B,WAAKiF,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGtD,KAAK,CAAC3B,QAAN,CAAevE,MAA/B,EAAuC,EAAEwJ,CAAzC,EAA4C;EAC1CI,QAAAA,iBAAiB,CAAC1D,KAAK,CAAC3B,QAAN,CAAeiF,CAAf,CAAD,CAAjB;EACD;EACF;EACF;;EAED,WAASO,gBAAT,CAA0B7D,KAA1B,EAAiC8D,MAAjC,EAAyC;EACvC,QAAI,CAAC9D,KAAL,EAAY;EACV;EACD;;EACD,WACE,CAAC8D,MAAD,IACA,CAAC9D,KAAK,CAACtB,EADP,IAEA,EACEyE,eAAe,CAACrJ,MAAhB,IACAqJ,eAAe,CAACY,IAAhB,CAAqB,UAACC,MAAD,EAAY;EAC/B,aAAOC,QAAQ,CAACD,MAAD,CAAR,GACHA,MAAM,CAACE,IAAP,CAAYlE,KAAK,CAACxF,GAAlB,CADG,GAEHwJ,MAAM,KAAKhE,KAAK,CAACxF,GAFrB;EAGD,KAJD,CAFF,CAFA,IAUAqJ,gBAAgB,CAAC7D,KAAK,CAACxF,GAAP,CAXlB;EAaD;;EAED,WAAS2J,eAAT,CAAyBlG,IAAzB,EAA+B+B,KAA/B,EAAsC8D,MAAtC,EAA8C;EAC5C,QAAI7J,OAAK,CAAC+F,KAAK,CAACxF,GAAP,CAAT,EAAsB;EACpB,aACEwF,KAAK,CAACxF,GAAN,CAAU4J,OAAV,CAAkB,eAAlB,MAAuC,CAAvC,IACC,CAACP,gBAAgB,CAAC7D,KAAD,EAAQ8D,MAAR,CAAjB,IACC9D,KAAK,CAACxF,GAAN,CAAUT,WAAV,QACGkE,IAAI,CAACoG,OAAL,IAAgBpG,IAAI,CAACoG,OAAL,CAAatK,WAAb,EADnB,CAHJ;EAMD,KAPD,MAOO;EACL,aAAOkE,IAAI,CAACqG,QAAL,MAAmBtE,KAAK,CAAC7B,SAAN,GAAkB,CAAlB,GAAsB,CAAzC,CAAP;EACD;EACF;;EAED,WAASoG,OAAT,CAAiBjG,GAAjB,EAAsB0B,KAAtB,EAA6BwE,kBAA7B,EAAiDV,MAAjD,EAAyD;EACvD,QAAIjK,CAAJ;EADuD,QAE/CW,GAF+C,GAEvBwF,KAFuB,CAE/CxF,GAF+C;EAAA,QAE1CsB,IAF0C,GAEvBkE,KAFuB,CAE1ClE,IAF0C;EAAA,QAEpCuC,QAFoC,GAEvB2B,KAFuB,CAEpC3B,QAFoC;EAGvDyF,IAAAA,MAAM,GAAGA,MAAM,IAAKhI,IAAI,IAAIA,IAAI,CAACqG,GAAjC;EACAnC,IAAAA,KAAK,CAAC1B,GAAN,GAAYA,GAAZ;;EAEA,QAAIiD,MAAM,CAACvB,KAAK,CAAC7B,SAAP,CAAN,IAA2BlE,OAAK,CAAC+F,KAAK,CAACvB,YAAP,CAApC,EAA0D;EACxDuB,MAAAA,KAAK,CAACV,kBAAN,GAA2B,IAA3B;EACA,aAAO,IAAP;EACD,KATsD;;;EAYvD,QAAI,CAAC6E,eAAe,CAAC7F,GAAD,EAAM0B,KAAN,EAAa8D,MAAb,CAApB,EAA0C;EACxC,aAAO,KAAP;EACD;;EAED,QAAI7J,OAAK,CAAC6B,IAAD,CAAT,EAAiB;EACf,UAAI7B,OAAK,CAAEJ,CAAC,GAAGiC,IAAI,CAAC6H,IAAX,CAAL,IAA0B1J,OAAK,CAAEJ,CAAC,GAAGA,CAAC,CAAC4K,IAAR,CAAnC,EACE5K,CAAC,CAACmG,KAAD,EAAQ;EAAK;EAAb,OAAD;;EACF,UAAI/F,OAAK,CAAEJ,CAAC,GAAGmG,KAAK,CAAClB,iBAAZ,CAAT,EAA0C;EACxC;EACA4F,QAAAA,aAAa,CAAC1E,KAAD,EAAQwE,kBAAR,CAAb;EACA,eAAO,IAAP;EACD;EACF;EACF;;EAED,WAASG,WAAT,CAAqBrG,GAArB,EAA0B;EACxB,WAAO,IAAIJ,KAAJ,CACLuF,OAAO,CAACY,OAAR,CAAgB/F,GAAhB,EAAqBvE,WAArB,EADK,EAEL,EAFK,EAGL,EAHK,EAILI,SAJK,EAKLmE,GALK,CAAP;EAOD;;EACD,WAASsG,cAAT,CAAwB5E,KAAxB,EAA+B3B,QAA/B,EAAyCmG,kBAAzC,EAA6D;EAC3DxL,IAAAA,OAAO,CAACoE,GAAR,CAAY4C,KAAK,CAAC1B,GAAlB,EAAuB,gBAAvB;;EAEA,QAAIjD,KAAK,CAACC,OAAN,CAAc+C,QAAd,CAAJ,EAA6B;EAC3B,WAAK,IAAIxE,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGwE,QAAQ,CAACvE,MAA7B,EAAqC,EAAED,EAAvC,EAA0C;EACxCgL,QAAAA,SAAS,CACPxG,QAAQ,CAACxE,EAAD,CADD,EAEP2K,kBAFO,EAGPxE,KAAK,CAAC1B,GAHC,EAIP,IAJO,CAAT;EASD;EACF,KAZD,MAYO,IAAItE,WAAW,CAACgG,KAAK,CAAChC,IAAP,CAAf,EAA6B;EAClCyF,MAAAA,OAAO,CAACqB,WAAR,CACE9E,KAAK,CAAC1B,GADR,EAEEmF,OAAO,CAACsB,cAAR,CAAuBtJ,MAAM,CAACuE,KAAK,CAAChC,IAAP,CAA7B,CAFF;EAID;EACF;;EAED,WAASgH,MAAT,CAAgBjG,MAAhB,EAAwBT,GAAxB,EAA6B2G,GAA7B,EAAkC;EAChC,QAAIhL,OAAK,CAAC8E,MAAD,CAAT,EAAmB;EACjB,UAAI9E,OAAK,CAACgL,GAAD,CAAT,EAAgB;EACd,YAAIxB,OAAO,CAACyB,UAAR,CAAmBD,GAAnB,MAA4BlG,MAAhC,EAAwC;EACtC0E,UAAAA,OAAO,CAAC0B,YAAR,CAAqBpG,MAArB,EAA6BT,GAA7B,EAAkC2G,GAAlC;EACD;EACF,OAJD,MAIO;EACLxB,QAAAA,OAAO,CAACqB,WAAR,CAAoB/F,MAApB,EAA4BT,GAA5B;EACD;EACF;EACF;;EAED,WAAS8G,iBAAT,CAA2BpF,KAA3B,EAAkCwE,kBAAlC,EAAsD;EACpD,SAAK,IAAI3K,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG0J,GAAG,CAAC7J,MAAJ,CAAWI,MAA/B,EAAuC,EAAED,GAAzC,EAA4C;EAC1C0J,MAAAA,GAAG,CAAC7J,MAAJ,CAAWG,GAAX,EAAcwL,SAAd,EAAyBrF,KAAzB;EACD;;EACDnG,IAAAA,CAAC,GAAGmG,KAAK,CAAClE,IAAN,CAAW6H,IAAf,CAJoD;;EAKpD,QAAI1J,OAAK,CAACJ,CAAD,CAAT,EAAc;EACZ,UAAII,OAAK,CAACJ,CAAC,CAACH,MAAH,CAAT,EAAqBG,CAAC,CAACH,MAAF,CAAS2L,SAAT,EAAoBrF,KAApB;EACrB,UAAI/F,OAAK,CAACJ,CAAC,CAACmL,MAAH,CAAT,EAAqBR,kBAAkB,CAACpJ,IAAnB,CAAwB4E,KAAxB;EACtB;EACF;;EACD,WAASsF,UAAT,CAAoBC,QAApB,EAA8BC,SAA9B,EAAyC;EACvC,aAASC,MAAT,GAAkB;EAChB,UAAI,EAAEA,MAAM,CAACD,SAAT,KAAuB,CAA3B,EAA8B;EAC5BE,QAAAA,UAAU,CAACH,QAAD,CAAV;EACD;EACF;;EACDE,IAAAA,MAAM,CAACD,SAAP,GAAmBA,SAAnB;EACA,WAAOC,MAAP;EACD;;EAED,WAASC,UAAT,CAAoBhN,EAApB,EAAwB;EACtB,QAAMqG,MAAM,GAAG0E,OAAO,CAACyB,UAAR,CAAmBxM,EAAnB,CAAf,CADsB;;EAGtB,QAAIuB,OAAK,CAAC8E,MAAD,CAAT,EAAmB;EACjB0E,MAAAA,OAAO,CAACkC,WAAR,CAAoB5G,MAApB,EAA4BrG,EAA5B;EACD;EACF;;EAED,WAASkN,yBAAT,CAAmC5F,KAAnC,EAA0C6F,EAA1C,EAA8C;EAC5C,QAAI5L,OAAK,CAAC4L,EAAD,CAAL,IAAa5L,OAAK,CAAC+F,KAAK,CAAClE,IAAP,CAAtB,EAAoC;EAClC,UAAIjC,GAAJ;;EACA,UAAM2L,SAAS,GAAGjC,GAAG,CAACkC,MAAJ,CAAW3L,MAAX,GAAoB,CAAtC;;EACA,UAAIG,OAAK,CAAC4L,EAAD,CAAT,EAAe;EACb;EACA;EACAA,QAAAA,EAAE,CAACL,SAAH,IAAgBA,SAAhB;EACD,OAJD,MAIO;EACL;EACAK,QAAAA,EAAE,GAAGP,UAAU,CAACtF,KAAK,CAAC1B,GAAP,EAAYkH,SAAZ,CAAf;EACD,OAViC;;;EAYlC,UACEvL,OAAK,CAAEJ,GAAC,GAAGmG,KAAK,CAAClB,iBAAZ,CAAL,IACA7E,OAAK,CAAEJ,GAAC,GAAGA,GAAC,CAACsG,MAAR,CADL,IAEAlG,OAAK,CAACJ,GAAC,CAACiC,IAAH,CAHP,EAIE;EACA8J,QAAAA,yBAAyB,CAAC/L,GAAD,EAAIgM,EAAJ,CAAzB;EACD;;EACD,WAAKhM,GAAC,GAAG,CAAT,EAAYA,GAAC,GAAG0J,GAAG,CAACkC,MAAJ,CAAW3L,MAA3B,EAAmC,EAAED,GAArC,EAAwC;EACtC0J,QAAAA,GAAG,CAACkC,MAAJ,CAAW5L,GAAX,EAAcmG,KAAd,EAAqB6F,EAArB;EACD;;EACD,UAAI5L,OAAK,CAAEJ,GAAC,GAAGmG,KAAK,CAAClE,IAAN,CAAW6H,IAAjB,CAAL,IAAgC1J,OAAK,CAAEJ,GAAC,GAAGA,GAAC,CAAC4L,MAAR,CAAzC,EAA2D;EACzD5L,QAAAA,GAAC,CAACmG,KAAD,EAAQ6F,EAAR,CAAD;EACD,OAFD,MAEO;EACLA,QAAAA,EAAE;EACH;EACF,KA3BD,MA2BO;EACLH,MAAAA,UAAU,CAAC1F,KAAK,CAAC1B,GAAP,CAAV;EACD;EACF;;EAED,WAASwH,YAAT,CAAsBC,MAAtB,EAA8BC,QAA9B,EAAwCC,MAAxC,EAAgD;EAC9C,WAAOD,QAAQ,IAAIC,MAAnB,EAA2B,EAAED,QAA7B,EAAuC;EACrC,UAAME,EAAE,GAAGH,MAAM,CAACC,QAAD,CAAjB;;EACA,UAAI/L,OAAK,CAACiM,EAAD,CAAT,EAAe;EACb,YAAIjM,OAAK,CAACiM,EAAE,CAAC1L,GAAJ,CAAT,EAAmB;EACjBoL,UAAAA,yBAAyB,CAACM,EAAD,CAAzB;EACAxC,UAAAA,iBAAiB,CAACwC,EAAD,CAAjB;EACD,SAHD,MAGO;EACL;EACAR,UAAAA,UAAU,CAACQ,EAAE,CAAC5H,GAAJ,CAAV;EACD;EACF;EACF;EACF;;EAED,MAAI6H,iBAAiB,GAAG,CAAxB;;EAEA,WAAStB,SAAT,CACE7E,KADF,EAEEwE,kBAFF,EAGE4B,SAHF,EAIEC,MAJF,EAKEC,MALF,EAMEC,UANF,EAOEC,KAPF,EAQE;EACA,QAAM1K,IAAI,GAAGkE,KAAK,CAAClE,IAAnB;EACA,QAAMuC,QAAQ,GAAG2B,KAAK,CAAC3B,QAAvB;EACA,QAAM7D,GAAG,GAAGwF,KAAK,CAACxF,GAAlB;EACA;;EACA,QAAIP,OAAK,CAACO,GAAD,CAAT,EAAgB;EACd,UAAIsB,IAAI,IAAIA,IAAI,CAACqG,GAAjB,EAAsB;EACpBgE,QAAAA,iBAAiB;EAClB;;EACD,UAAItC,gBAAgB,CAAC7D,KAAD,EAAQmG,iBAAR,CAApB,EAAgD;EAC9CpN,QAAAA,IAAI,CACF,8BACEyB,GADF,GAEE,cAFF,GAGE,8DAHF,GAIE,yCALA,EAMFwF,KAAK,CAACzB,OANJ,CAAJ;EAQD;;EACDvF,MAAAA,OAAO,CAACoE,GAAR,CAAY4C,KAAZ;EACAA,MAAAA,KAAK,CAAC1B,GAAN,GAAY0B,KAAK,CAACtB,EAAN,GACR+E,OAAO,CAACgD,eAAR,CAAwBzG,KAAK,CAACtB,EAA9B,EAAkClE,GAAlC,CADQ,GAERiJ,OAAO,CAAC3K,aAAR,CAAsB0B,GAAtB,EAA2BwF,KAA3B,CAFJ;EAGA4E,MAAAA,cAAc,CAAC5E,KAAD,EAAQ3B,QAAR,EAAkBmG,kBAAlB,CAAd;;EACA,UAAIvK,OAAK,CAAC6B,IAAD,CAAT,EAAiB;EACfsJ,QAAAA,iBAAiB,CAACpF,KAAD,EAAQwE,kBAAR,CAAjB;EACD;;EACDQ,MAAAA,MAAM,CAACoB,SAAD,EAAYpG,KAAK,CAAC1B,GAAlB,EAAuB+H,MAAvB,CAAN;EACD,KAvBD,MAuBO,IAAIrG,KAAK,CAAC7B,SAAN,KAAoB,IAAxB,EAA8B;EACnC6B,MAAAA,KAAK,CAAC1B,GAAN,GAAYmF,OAAO,CAACiD,aAAR,CAAsB1G,KAAK,CAAChC,IAA5B,CAAZ;EACAgH,MAAAA,MAAM,CAACoB,SAAD,EAAYpG,KAAK,CAAC1B,GAAlB,EAAuB+H,MAAvB,CAAN;EACD,KAHM,MAGA;EACLrG,MAAAA,KAAK,CAAC1B,GAAN,GAAYmF,OAAO,CAACsB,cAAR,CAAuB/E,KAAK,CAAChC,IAA7B,CAAZ;EACAgH,MAAAA,MAAM,CAACoB,SAAD,EAAYpG,KAAK,CAAC1B,GAAlB,EAAuB+H,MAAvB,CAAN;EACD;EACF;;EAED,SAAO,SAASM,KAAT,CAAeC,QAAf,EAAyB5G,KAAzB,EAAgCR,SAAhC,EAA2CqH,UAA3C,EAAuD;EAC5D,QAAIzM,SAAO,CAAC4F,KAAD,CAAX,EAAoB;EAClB,UAAI/F,OAAK,CAAC2M,QAAD,CAAT,EAAqBlD,iBAAiB,CAACkD,QAAD,CAAjB;EACrB;EACD;EAED,QAAMpC,kBAAkB,GAAG,EAA3B;;EACA,QAAIpK,SAAO,CAACwM,QAAD,CAAX,EAAuB,CAAvB,MACO;EACL5N,MAAAA,OAAO,CAACoE,GAAR,CAAYwJ,QAAZ;EACA,UAAME,aAAa,GAAG7M,OAAK,CAAC2M,QAAQ,CAACtC,QAAV,CAA3B;EACAtL,MAAAA,OAAO,CAACoE,GAAR,CAAY0J,aAAZ;;EACA,UAAIA,aAAJ,EAAmB;EACjB,YAAIF,QAAQ,CAACtC,QAAT,KAAsB,CAAtB,IAA2BsC,QAAQ,CAACG,YAAT,CAAsB7D,QAAtB,CAA/B,EAAgE;EAC9D0D,UAAAA,QAAQ,CAACI,eAAT,CAAyB9D,QAAzB;EACA1D,UAAAA,SAAS,GAAG,IAAZ;EACD;;EACD,YAAIA,SAAS,KAAK,IAAlB,EAAwB;EACtB,cAAI+E,OAAO,CAACqC,QAAD,EAAW5G,KAAX,EAAkBwE,kBAAlB,CAAX,EAAkD;EAChDyC,YAAAA,gBAAgB,CAACjH,KAAD,EAAQwE,kBAAR,EAA4B,IAA5B,CAAhB;EACA,mBAAOoC,QAAP;EACD;;EACD7N,UAAAA,IAAI,CACF,+DACE,8DADF,GAEE,+DAFF,GAGE,4DAHF,GAIE,0BALA,CAAJ;EAOD,SAjBgB;EAmBjB;;;EACA6N,QAAAA,QAAQ,GAAGjC,WAAW,CAACiC,QAAD,CAAtB;EACD;;EACD,UAAMM,MAAM,GAAGN,QAAQ,CAACtI,GAAxB;EACA,UAAM8H,SAAS,GAAG3C,OAAO,CAACyB,UAAR,CAAmBgC,MAAnB,CAAlB;EACArC,MAAAA,SAAS,CACP7E,KADO,EAEPwE,kBAFO,EAGP0C,MAAM,CAACC,QAAP,GAAkB,IAAlB,GAAyBf,SAHlB,EAIP3C,OAAO,CAAC2D,WAAR,CAAoBF,MAApB,CAJO,CAAT;;EAOA,UAAIjN,OAAK,CAACmM,SAAD,CAAT,EAAsB;EACpBN,QAAAA,YAAY,CAAC,CAACc,QAAD,CAAD,EAAa,CAAb,EAAgB,CAAhB,CAAZ;EACD,OAFD,MAEO,IAAI3M,OAAK,CAAC2M,QAAQ,CAACpM,GAAV,CAAT,EAAyB;EAC9BkJ,QAAAA,iBAAiB,CAACkD,QAAD,CAAjB;EACD,OAvCI;EAyCL;;EACD;;EACD5N,IAAAA,OAAO,CAACoE,GAAR,CAAYwJ,QAAZ,EAAsB5G,KAAtB,EAA6BR,SAA7B,EAAwCqH,UAAxC;EACD,GApDD;EAqDD;;ECnVD,IAAMQ,MAAM,iCAAZ;EACA,IAAMC,YAAY,iBAAUD,MAAV,kBAAwBA,MAAxB,MAAlB;EACA,IAAME,YAAY,GAAG,IAAIC,MAAJ,aAAgBF,YAAhB,EAArB;;EACA,IAAMG,MAAM,GAAG,IAAID,MAAJ,gBAAmBF,YAAnB,YAAf;;EACA,IAAMI,SAAS,GAAG,2EAAlB;;EACA,IAAMC,mBAAmB,GAAG,uGAA5B;EACA,IAAMC,aAAa,GAAG,YAAtB;EAMA,IAAMC,WAAW,GAAG;EAClB,UAAQ,GADU;EAElB,UAAQ,GAFU;EAGlB,YAAU,GAHQ;EAIlB,WAAS,GAJS;EAKlB,WAAS,IALS;EAMlB,UAAQ,IANU;EAOlB,WAAS;EAPS,CAApB;EASA,IAAMC,WAAW,GAAG,2BAApB;EACA,IAAMC,uBAAuB,GAAG,kCAAhC;EACO,IAAMC,kBAAkB,GAAGnQ,OAAO,CAAC,uBAAD,EAA0B,IAA1B,CAAlC;EAEA,IAAMoQ,UAAU,GAAGpQ,OAAO,CAC/B,8DACE,kCAF6B,CAA1B;;EAKP,SAASqQ,UAAT,CAAoB5P,KAApB,EAA2B6P,oBAA3B,EAAiD;EAC/C,MAAMC,EAAE,GAAGD,oBAAoB,GAAGJ,uBAAH,GAA6BD,WAA5D;EACA,SAAOxP,KAAK,CAAC+P,OAAN,CAAcD,EAAd,EAAkB,UAACE,KAAD;EAAA,WAAWT,WAAW,CAACS,KAAD,CAAtB;EAAA,GAAlB,CAAP;EACD;;EAEM,SAASC,SAAT,CAAmBC,IAAnB,EAAuC;EAAA,MAAd9L,OAAc,uEAAJ,EAAI;EAC5C,MAAM+L,KAAK,GAAG,EAAd;EACA,MAAIjC,KAAK,GAAG,CAAZ;EACA,MAAUkC;;EACV,SAAOF,IAAP,EAAa;;EAEX,QAAI,CAACE,OAAD,IAAY,CAACV,kBAAkB,CAACU,OAAD,CAAnC,EAA8C;EAC5C,UAAIC,OAAO,GAAGH,IAAI,CAACpE,OAAL,CAAa,GAAb,CAAd;;EACA,UAAIuE,OAAO,KAAK,CAAhB,EAAmB;EACjB;EACA,YAAMC,WAAW,GAAGJ,IAAI,CAACF,KAAL,CAAWb,MAAX,CAApB;;EACA,YAAImB,WAAJ,EAAiB;EACf,cAAMC,QAAQ,GAAGrC,KAAjB;EACAsC,UAAAA,OAAO,CAACF,WAAW,CAAC,CAAD,CAAX,CAAe9O,MAAhB,CAAP;EACAiP,UAAAA,WAAW,CAACH,WAAW,CAAC,CAAD,CAAZ,EAAiBC,QAAjB,EAA2BrC,KAA3B,CAAX;EACA;EACD,SARgB;;;EAUjB,YAAMwC,aAAa,GAAGC,aAAa,EAAnC;;EAEA,YAAID,aAAJ,EAAmB;EACjBE,UAAAA,cAAc,CAACF,aAAD,CAAd,CADiB;EAGjB;EACA;;EACA;EACD;EACF;;EACD,UAAIhL,IAAI,SAAR;;EACA,UAAI2K,OAAO,IAAI,CAAf,EAAkB;EAChB3K,QAAAA,IAAI,GAAGwK,IAAI,CAACW,SAAL,CAAe,CAAf,EAAkBR,OAAlB,CAAP;EACD;;EACD,UAAIA,OAAO,GAAG,CAAd,EAAiB;EACf3K,QAAAA,IAAI,GAAGwK,IAAP;EACD;;EACD,UAAIxK,IAAJ,EAAU;EACR8K,QAAAA,OAAO,CAAC9K,IAAI,CAAClE,MAAN,CAAP;EACAsP,QAAAA,KAAK,CAACpL,IAAD,EAAOwI,KAAK,GAAGxI,IAAI,CAAClE,MAApB,CAAL;EACD;EACF;EACF;;EAED,WAASgP,OAAT,CAAiBO,CAAjB,EAAoB;EAClB7C,IAAAA,KAAK,IAAI6C,CAAT;EACAb,IAAAA,IAAI,GAAGA,IAAI,CAACW,SAAL,CAAeE,CAAf,CAAP;EACD;;EAED,WAASD,KAAT,CAAepL,IAAf,EAAqBsL,KAArB,EAA4BC,GAA5B,EAAiC;EAC/B,QAAI7M,OAAO,CAAC0M,KAAZ,EAAmB;EACjB1M,MAAAA,OAAO,CAAC0M,KAAR,CAAcpL,IAAd,EAAoBwI,KAAK,GAAGxI,IAAI,CAAClE,MAAjC,EAAyC0M,KAAzC;EACD;EACF;;EACD,WAAS0C,cAAT,CAAwBZ,KAAxB,EAA+B;EAC7B,QAAMjE,OAAO,GAAGiE,KAAK,CAACjE,OAAtB;EACA,QAAMmF,UAAU,GAAGlB,KAAK,CAACkB,UAAzB;EACA,QAAMC,KAAK,GAAGxB,UAAU,CAAC5D,OAAD,CAAV,IAAuB,CAAC,CAACmF,UAAvC;EACA,QAAMtN,CAAC,GAAGoM,KAAK,CAACoB,KAAN,CAAY5P,MAAtB;EACA,QAAM4P,KAAK,GAAG,IAAIrO,KAAJ,CAAUa,CAAV,CAAd;;EACA,SAAK,IAAIrC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqC,CAApB,EAAuBrC,CAAC,EAAxB,EAA4B;EAC1B,UAAM8P,IAAI,GAAGrB,KAAK,CAACoB,KAAN,CAAY7P,CAAZ,CAAb;EACA,UAAMvB,KAAK,GAAGqR,IAAI,CAAC,CAAD,CAAJ,IAAWA,IAAI,CAAC,CAAD,CAAf,IAAsBA,IAAI,CAAC,CAAD,CAA1B,IAAiC,EAA/C;EACA,UAAMxB,oBAAoB,GACxB9D,OAAO,KAAK,GAAZ,IAAmBsF,IAAI,CAAC,CAAD,CAAJ,KAAY,MAA/B,GACIjN,OAAO,CAACkN,2BADZ,GAEIlN,OAAO,CAACyL,oBAHd;EAIAuB,MAAAA,KAAK,CAAC7P,CAAD,CAAL,GAAW;EACTgQ,QAAAA,IAAI,EAAEF,IAAI,CAAC,CAAD,CADD;EAETrR,QAAAA,KAAK,EAAE4P,UAAU,CAAC5P,KAAD,EAAQ6P,oBAAR;EAFR,OAAX;;EAIA,UAAIzL,OAAO,CAACoN,iBAAZ,EAA+B;EAC7BJ,QAAAA,KAAK,CAAC7P,CAAD,CAAL,CAASyP,KAAT,GAAiBK,IAAI,CAACL,KAAL,GAAaK,IAAI,CAAC,CAAD,CAAJ,CAAQrB,KAAR,CAAc,MAAd,EAAsBxO,MAApD;EACA4P,QAAAA,KAAK,CAAC7P,CAAD,CAAL,CAAS0P,GAAT,GAAeI,IAAI,CAACJ,GAApB;EACD;EACF;;EAED,QAAI,CAACE,KAAL,EAAY;EACVhB,MAAAA,KAAK,CAACrN,IAAN,CAAW;EACTZ,QAAAA,GAAG,EAAE6J,OADI;EAET0F,QAAAA,aAAa,EAAE1F,OAAO,CAACtK,WAAR,EAFN;EAGT2P,QAAAA,KAAK,EAAEA,KAHE;EAITJ,QAAAA,KAAK,EAAEhB,KAAK,CAACgB,KAJJ;EAKTC,QAAAA,GAAG,EAAEjB,KAAK,CAACiB;EALF,OAAX;EAOAb,MAAAA,OAAO,GAAGrE,OAAV;EACD;;EACD,QAAI3H,OAAO,CAAC4M,KAAZ,EAAmB;EACjB5M,MAAAA,OAAO,CAAC4M,KAAR,CAAcjF,OAAd,EAAuBqF,KAAvB,EAA8BD,KAA9B,EAAqCnB,KAAK,CAACgB,KAA3C,EAAkDhB,KAAK,CAACiB,GAAxD;EACD;EACF;;EAED,WAASN,aAAT,GAAyB;EACvB,QAAMK,KAAK,GAAGd,IAAI,CAACF,KAAL,CAAWf,YAAX,CAAd;;EAEA,QAAI+B,KAAJ,EAAW;EACT,UAAMhB,KAAK,GAAG;EACZjE,QAAAA,OAAO,EAAEiF,KAAK,CAAC,CAAD,CADF;EAEZI,QAAAA,KAAK,EAAE,EAFK;EAGZJ,QAAAA,KAAK,EAAE9C;EAHK,OAAd;EAKAsC,MAAAA,OAAO,CAACQ,KAAK,CAAC,CAAD,CAAL,CAASxP,MAAV,CAAP;EAEA,UAAIyP,GAAJ,EAASS,IAAT;;EACA,aACE,EAAET,GAAG,GAAGf,IAAI,CAACF,KAAL,CAAWV,aAAX,CAAR,MACCoC,IAAI,GAAGxB,IAAI,CAACF,KAAL,CAAWX,mBAAX,KAAmCa,IAAI,CAACF,KAAL,CAAWZ,SAAX,CAD3C,CADF,EAGE;EACAsC,QAAAA,IAAI,CAACV,KAAL,GAAa9C,KAAb;EACAsC,QAAAA,OAAO,CAACkB,IAAI,CAAC,CAAD,CAAJ,CAAQlQ,MAAT,CAAP;EACAkQ,QAAAA,IAAI,CAACT,GAAL,GAAW/C,KAAX;EACA8B,QAAAA,KAAK,CAACoB,KAAN,CAAYtO,IAAZ,CAAiB4O,IAAjB;EACD;;EACD,UAAIT,GAAJ,EAAS;EACPjB,QAAAA,KAAK,CAACkB,UAAN,GAAmBD,GAAG,CAAC,CAAD,CAAtB;EACAT,QAAAA,OAAO,CAACS,GAAG,CAAC,CAAD,CAAH,CAAOzP,MAAR,CAAP;EACAwO,QAAAA,KAAK,CAACiB,GAAN,GAAY/C,KAAZ;EACA,eAAO8B,KAAP;EACD;EACF;EACF;;EACD,WAASS,WAAT,CAAqB1E,OAArB,EAA8BiF,KAA9B,EAAqCC,GAArC,EAA0C;EACxC,QAAIU,GAAJ,EAASC,iBAAT;EACA,QAAIZ,KAAK,IAAI,IAAb,EAAmBA,KAAK,GAAG9C,KAAR;EACnB,QAAI+C,GAAG,IAAI,IAAX,EAAiBA,GAAG,GAAG/C,KAAN;;EACjB,QAAInC,OAAJ,EAAa;EACX6F,MAAAA,iBAAiB,GAAG7F,OAAO,CAACtK,WAAR,EAApB;;EACA,WAAKkQ,GAAG,GAAGxB,KAAK,CAAC3O,MAAN,GAAe,CAA1B,EAA6BmQ,GAAG,IAAI,CAApC,EAAuCA,GAAG,EAA1C,EAA8C;EAC5C,YAAIxB,KAAK,CAACwB,GAAD,CAAL,CAAWF,aAAX,KAA6BG,iBAAjC,EAAoD;EAClD;EACD;EACF;EACF,KAPD,MAOO;EACL;EACAD,MAAAA,GAAG,GAAG,CAAN;EACD;;EACD,QAAIA,GAAG,IAAI,CAAX,EAAc;EACZ;EACA,WAAK,IAAIpQ,CAAC,GAAG4O,KAAK,CAAC3O,MAAN,GAAe,CAA5B,EAA+BD,CAAC,IAAIoQ,GAApC,EAAyCpQ,CAAC,EAA1C,EAA8C;EAC5C,YAAI,CAACA,CAAC,GAAGoQ,GAAJ,IAAW,CAAC5F,OAAb,KAAyBtL,MAA7B,EAAmC;EACjCA,UAAAA,MAAI,gBAAS0P,KAAK,CAAC5O,CAAD,CAAL,CAASW,GAAlB,iCAAmD;EACrD8O,YAAAA,KAAK,EAAEb,KAAK,CAAC5O,CAAD,CAAL,CAASyP,KADqC;EAErDC,YAAAA,GAAG,EAAEd,KAAK,CAAC5O,CAAD,CAAL,CAAS0P;EAFuC,WAAnD,CAAJ;EAID;;EACD,YAAI7M,OAAO,CAAC6M,GAAZ,EAAiB;EACf7M,UAAAA,OAAO,CAAC6M,GAAR,CAAYd,KAAK,CAAC5O,CAAD,CAAL,CAASW,GAArB,EAA0B8O,KAA1B,EAAiCC,GAAjC;EACD;EACF,OAZW;;;EAeZd,MAAAA,KAAK,CAAC3O,MAAN,GAAemQ,GAAf;EACAvB,MAAAA,OAAO,GAAGuB,GAAG,IAAIxB,KAAK,CAACwB,GAAG,GAAG,CAAP,CAAL,CAAezP,GAAhC;EACD,KAjBD,MAiBO,IAAI0P,iBAAiB,KAAK,IAA1B,EAAgC;EACrC,UAAIxN,OAAO,CAAC4M,KAAZ,EAAmB;EACjB5M,QAAAA,OAAO,CAAC4M,KAAR,CAAcjF,OAAd,EAAuB,EAAvB,EAA2B,IAA3B,EAAiCiF,KAAjC,EAAwCC,GAAxC;EACD;EACF,KAJM,MAIA,IAAIW,iBAAiB,KAAK,GAA1B,EAA+B;EACpC,UAAIxN,OAAO,CAAC4M,KAAZ,EAAmB;EACjB5M,QAAAA,OAAO,CAAC4M,KAAR,CAAcjF,OAAd,EAAuB,EAAvB,EAA2B,KAA3B,EAAkCiF,KAAlC,EAAyCC,GAAzC;EACD;;EACD,UAAI7M,OAAO,CAAC6M,GAAZ,EAAiB;EACf7M,QAAAA,OAAO,CAAC6M,GAAR,CAAYlF,OAAZ,EAAqBiF,KAArB,EAA4BC,GAA5B;EACD;EACF;EACF;EACF;;ECrMD,IAAMY,YAAY,GAAG,0BAArB;EACA,IAAMC,aAAa,GAAG,wBAAtB;EAEA,IAAMC,UAAU,GAAG3P,MAAM,CAAC,UAAC4P,UAAD,EAAgB;EACxC,MAAMC,IAAI,GAAGD,UAAU,CAAC,CAAD,CAAV,CAAcjC,OAAd,CAAsB+B,aAAtB,EAAqC,MAArC,CAAb;EACA,MAAMI,KAAK,GAAGF,UAAU,CAAC,CAAD,CAAV,CAAcjC,OAAd,CAAsB+B,aAAtB,EAAqC,MAArC,CAAd;EACA,SAAO,IAAI5C,MAAJ,CAAW+C,IAAI,GAAG,eAAP,GAAyBC,KAApC,EAA2C,GAA3C,CAAP;EACD,CAJwB,CAAzB;EAMO,SAASC,KAAT,CAAeC,QAAf,EAAuC;EAAA,MAAdhO,OAAc,uEAAJ,EAAI;EAC5C,MAAIiO,IAAJ,EAAUC,aAAV;EACA,MAAMnC,KAAK,GAAG,EAAd;EACAF,EAAAA,SAAS,CAACmC,QAAD,EAAW;EAClBpB,IAAAA,KADkB,iBACZ9O,GADY,EACPkP,KADO,EACAD,KADA,EACO;EAEvB,UAAMoB,OAAO,GAAGC,gBAAgB,CAACtQ,GAAD,EAAMkP,KAAN,EAAakB,aAAb,CAAhC;;EACA,UAAI,CAACD,IAAL,EAAW;EACTA,QAAAA,IAAI,GAAGE,OAAP;EACD;;EACD,UAAI,CAACpB,KAAL,EAAY;EACVmB,QAAAA,aAAa,GAAGC,OAAhB;EACApC,QAAAA,KAAK,CAACrN,IAAN,CAAWyP,OAAX;EACD;EAGF,KAbiB;EAclBtB,IAAAA,GAdkB,eAcd/O,GAdc,EAcT8O,KAdS,EAcFC,IAdE,EAcG;EACnB,UAAIsB,OAAO,GAAGpC,KAAK,CAACsC,GAAN,EAAd;EACAH,MAAAA,aAAa,GAAGnC,KAAK,CAACA,KAAK,CAAC3O,MAAN,GAAe,CAAhB,CAArB;;EACA,UAAI8Q,aAAJ,EAAmB;EACjBC,QAAAA,OAAO,CAAC9L,MAAR,GAAiB6L,aAAjB;EACAA,QAAAA,aAAa,CAACvM,QAAd,CAAuBjD,IAAvB,CAA4ByP,OAA5B;EACD;EACF,KArBiB;EAsBlBzB,IAAAA,KAtBkB,iBAsBZpL,IAtBY,EAsBNsL,KAtBM,EAsBCC,GAtBD,EAsBM;EACtB,UAAI,CAACqB,aAAL,EAAoB;EAClB;EACD;;EACD,UAAMvM,QAAQ,GAAGuM,aAAa,CAACvM,QAA/B;EACA,UAAI2M,KAAJ,EAAW/J,GAAX;;EACA,UAAIjD,IAAI,KAAK,GAAT,KAAiBiD,GAAG,GAAGgK,SAAS,CAACjN,IAAD,EAAOtB,OAAO,CAAC4N,UAAf,CAAhC,CAAJ,EAAiE;EAC/DU,QAAAA,KAAK,GAAG;EACNE,UAAAA,IAAI,EAAE,CADA;EAENC,UAAAA,UAAU,EAAElK,GAAG,CAACkK,UAFV;EAGNC,UAAAA,MAAM,EAAEnK,GAAG,CAACmK,MAHN;EAINpN,UAAAA,IAAI,EAAJA;EAJM,SAAR;EAMD,OAPD,MAOO,IACLA,IAAI,KAAK,GAAT,IACA,CAACK,QAAQ,CAACvE,MADV,IAEAuE,QAAQ,CAACA,QAAQ,CAACvE,MAAT,GAAkB,CAAnB,CAAR,CAA8BkE,IAA9B,KAAuC,GAHlC,EAIL;EACAgN,QAAAA,KAAK,GAAG;EACNE,UAAAA,IAAI,EAAE,CADA;EAENlN,UAAAA,IAAI,EAAJA;EAFM,SAAR;EAID;;EAED,UAAIgN,KAAJ,EAAW;EACT3M,QAAAA,QAAQ,CAACjD,IAAT,CAAc4P,KAAd;EACD;EACF;EAjDiB,GAAX,CAAT;EAmDA,SAAOL,IAAP;EACD;;EAED,SAASU,YAAT,CAAsB3B,KAAtB,EAA6B;EAC3B,MAAMjQ,GAAG,GAAG,EAAZ;;EACA,OAAK,IAAII,CAAC,GAAG,CAAR,EAAWqC,CAAC,GAAGwN,KAAK,CAAC5P,MAA1B,EAAkCD,CAAC,GAAGqC,CAAtC,EAAyCrC,CAAC,EAA1C,EAA8C;EAC5C,QAAIJ,GAAG,CAACiQ,KAAK,CAAC7P,CAAD,CAAL,CAASgQ,IAAV,CAAP,EAAwB;EACtB9Q,MAAAA,IAAI,CAAC,0BAA0B2Q,KAAK,CAAC7P,CAAD,CAAL,CAASgQ,IAApC,EAA0CH,KAAK,CAAC7P,CAAD,CAA/C,CAAJ;EACD;;EACDJ,IAAAA,GAAG,CAACiQ,KAAK,CAAC7P,CAAD,CAAL,CAASgQ,IAAV,CAAH,GAAqBH,KAAK,CAAC7P,CAAD,CAAL,CAASvB,KAA9B;EACD;;EACD,SAAOmB,GAAP;EACD;;EACM,SAASqR,gBAAT,CAA0BtQ,GAA1B,EAA+BkP,KAA/B,EAAsC3K,MAAtC,EAA8C;EACnD,SAAO;EACLmM,IAAAA,IAAI,EAAE,CADD;EAEL1Q,IAAAA,GAAG,EAAHA,GAFK;EAGL8Q,IAAAA,SAAS,EAAE5B,KAHN;EAIL6B,IAAAA,QAAQ,EAAEF,YAAY,CAAC3B,KAAD,CAJjB;EAKL3K,IAAAA,MAAM,EAANA,MALK;EAMLV,IAAAA,QAAQ,EAAE;EANL,GAAP;EAQD;EAEM,SAAS4M,SAAT,CAAmBjN,IAAnB,EAAyBsM,UAAzB,EAAqC;EAC1C,MAAMkB,KAAK,GAAGlB,UAAU,GAAGD,UAAU,CAACC,UAAD,CAAb,GAA4BH,YAApD;;EACA,MAAI,CAACqB,KAAK,CAACtH,IAAN,CAAWlG,IAAX,CAAL,EAAuB;EACrB;EACD;;EACD,MAAMoN,MAAM,GAAG,EAAf;EACA,MAAMK,SAAS,GAAG,EAAlB;EACA,MAAIvK,SAAS,GAAIsK,KAAK,CAACtK,SAAN,GAAkB,CAAnC;EACA,MAAIoH,KAAJ,EAAW9B,KAAX,EAAkBkF,UAAlB;;EACA,SAAQpD,KAAK,GAAGkD,KAAK,CAACG,IAAN,CAAW3N,IAAX,CAAhB,EAAmC;EACjCwI,IAAAA,KAAK,GAAG8B,KAAK,CAAC9B,KAAd,CADiC;;EAGjC,QAAIA,KAAK,GAAGtF,SAAZ,EAAuB;EACrBuK,MAAAA,SAAS,CAACrQ,IAAV,CAAgBsQ,UAAU,GAAG1N,IAAI,CAAC4N,KAAL,CAAW1K,SAAX,EAAsBsF,KAAtB,CAA7B;EACA4E,MAAAA,MAAM,CAAChQ,IAAP,CAAYG,IAAI,CAACC,SAAL,CAAekQ,UAAf,CAAZ;EACD,KANgC;;;EAQjC,QAAMG,GAAG,GAAGC,YAAY,CAACxD,KAAK,CAAC,CAAD,CAAL,CAASyD,IAAT,EAAD,CAAxB;EACAX,IAAAA,MAAM,CAAChQ,IAAP,cAAkByQ,GAAlB;EACAJ,IAAAA,SAAS,CAACrQ,IAAV,CAAe;EAAE,kBAAYyQ;EAAd,KAAf;EACA3K,IAAAA,SAAS,GAAGsF,KAAK,GAAG8B,KAAK,CAAC,CAAD,CAAL,CAASxO,MAA7B;EACD;;EACD,MAAIoH,SAAS,GAAGlD,IAAI,CAAClE,MAArB,EAA6B;EAC3B2R,IAAAA,SAAS,CAACrQ,IAAV,CAAgBsQ,UAAU,GAAG1N,IAAI,CAAC4N,KAAL,CAAW1K,SAAX,CAA7B;EACAkK,IAAAA,MAAM,CAAChQ,IAAP,CAAYG,IAAI,CAACC,SAAL,CAAekQ,UAAf,CAAZ;EACD;;EACD,SAAO;EACLP,IAAAA,UAAU,EAAEC,MAAM,CAACY,IAAP,CAAY,GAAZ,CADP;EAELZ,IAAAA,MAAM,EAAEK;EAFH,GAAP;EAID;EAED,IAAMQ,mBAAmB,GAAG,eAA5B;EAEO,SAASH,YAAT,CAAsBD,GAAtB,EAA2B;EAChC,MAAIK,QAAQ,GAAG,KAAf;EACA,MAAIC,QAAQ,GAAG,KAAf;EACA,MAAIC,gBAAgB,GAAG,KAAvB;EACA,MAAIC,OAAO,GAAG,KAAd;EACA,MAAIC,KAAK,GAAG,CAAZ;EACA,MAAIC,MAAM,GAAG,CAAb;EACA,MAAIC,KAAK,GAAG,CAAZ;EACA,MAAIC,eAAe,GAAG,CAAtB;EACA,MAAI5O,CAAJ,EAAO6O,IAAP,EAAa7S,CAAb,EAAgBsR,UAAhB,EAA4BwB,OAA5B;;EAEA,OAAK9S,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGgS,GAAG,CAAC/R,MAApB,EAA4BD,CAAC,EAA7B,EAAiC;EAC/B6S,IAAAA,IAAI,GAAG7O,CAAP;EACAA,IAAAA,CAAC,GAAGgO,GAAG,CAAC/N,UAAJ,CAAejE,CAAf,CAAJ;;EACA,QAAIqS,QAAJ,EAAc;EACZ,UAAIrO,CAAC,KAAK,IAAN,IAAc6O,IAAI,KAAK,IAA3B,EAAiCR,QAAQ,GAAG,KAAX;EAClC,KAFD,MAEO,IAAIC,QAAJ,EAAc;EACnB,UAAItO,CAAC,KAAK,IAAN,IAAc6O,IAAI,KAAK,IAA3B,EAAiCP,QAAQ,GAAG,KAAX;EAClC,KAFM,MAEA,IAAIC,gBAAJ,EAAsB;EAC3B,UAAIvO,CAAC,KAAK,IAAN,IAAc6O,IAAI,KAAK,IAA3B,EAAiCN,gBAAgB,GAAG,KAAnB;EAClC,KAFM,MAEA,IAAIC,OAAJ,EAAa;EAClB,UAAIxO,CAAC,KAAK,IAAN,IAAc6O,IAAI,KAAK,IAA3B,EAAiCL,OAAO,GAAG,KAAV;EAClC,KAFM,MAEA,IACLxO,CAAC,KAAK,IAAN;EACAgO,IAAAA,GAAG,CAAC/N,UAAJ,CAAejE,CAAC,GAAG,CAAnB,MAA0B,IAD1B,IAEAgS,GAAG,CAAC/N,UAAJ,CAAejE,CAAC,GAAG,CAAnB,MAA0B,IAF1B,IAGA,CAACyS,KAHD,IAIA,CAACC,MAJD,IAKA,CAACC,KANI,EAOL;EACA,UAAIrB,UAAU,KAAKhR,SAAnB,EAA8B;EAC5B;EACAsS,QAAAA,eAAe,GAAG5S,CAAC,GAAG,CAAtB;EACAsR,QAAAA,UAAU,GAAGU,GAAG,CAACD,KAAJ,CAAU,CAAV,EAAa/R,CAAb,EAAgBkS,IAAhB,EAAb;EACD,OAJD,MAIO;EACLa,QAAAA,UAAU;EACX;EACF,KAfM,MAeA;EACL,cAAQ/O,CAAR;EACE,aAAK,IAAL;EACEsO,UAAAA,QAAQ,GAAG,IAAX;EACA;EAAO;;EACT,aAAK,IAAL;EACED,UAAAA,QAAQ,GAAG,IAAX;EACA;EAAO;;EACT,aAAK,IAAL;EACEE,UAAAA,gBAAgB,GAAG,IAAnB;EACA;EAAO;;EACT,aAAK,IAAL;EACEI,UAAAA,KAAK;EACL;EAAO;;EACT,aAAK,IAAL;EACEA,UAAAA,KAAK;EACL;EAAO;;EACT,aAAK,IAAL;EACED,UAAAA,MAAM;EACN;EAAO;;EACT,aAAK,IAAL;EACEA,UAAAA,MAAM;EACN;EAAO;;EACT,aAAK,IAAL;EACED,UAAAA,KAAK;EACL;EAAO;;EACT,aAAK,IAAL;EACEA,UAAAA,KAAK;EACL;EAAO;EA3BX;;EA6BA,UAAIzO,CAAC,KAAK,IAAV,EAAgB;EACd;EACA,YAAIyF,CAAC,GAAGzJ,CAAC,GAAG,CAAZ;EACA,YAAIgT,CAAC,SAAL,CAHc;;EAKd,eAAOvJ,CAAC,IAAI,CAAZ,EAAeA,CAAC,EAAhB,EAAoB;EAClBuJ,UAAAA,CAAC,GAAGhB,GAAG,CAACiB,MAAJ,CAAWxJ,CAAX,CAAJ;EACA,cAAIuJ,CAAC,KAAK,GAAV,EAAe;EAChB;;EACD,YAAI,CAACA,CAAD,IAAM,CAACZ,mBAAmB,CAAC/H,IAApB,CAAyB2I,CAAzB,CAAX,EAAwC;EACtCR,UAAAA,OAAO,GAAG,IAAV;EACD;EACF;EACF;EACF;;EAED,MAAIlB,UAAU,KAAKhR,SAAnB,EAA8B;EAC5BgR,IAAAA,UAAU,GAAGU,GAAG,CAACD,KAAJ,CAAU,CAAV,EAAa/R,CAAb,EAAgBkS,IAAhB,EAAb;EACD,GAFD,MAEO,IAAIU,eAAe,KAAK,CAAxB,EAA2B;EAChCG,IAAAA,UAAU;EACX;;EAED,WAASA,UAAT,GAAsB;EACpB,KAACD,OAAO,KAAKA,OAAO,GAAG,EAAf,CAAR,EAA4BvR,IAA5B,CAAiCyQ,GAAG,CAACD,KAAJ,CAAUa,eAAV,EAA2B5S,CAA3B,EAA8BkS,IAA9B,EAAjC;EACAU,IAAAA,eAAe,GAAG5S,CAAC,GAAG,CAAtB;EACD;;EAED,MAAI8S,OAAJ,EAAa;EACX,SAAK9S,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG8S,OAAO,CAAC7S,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;EACnCsR,MAAAA,UAAU,GAAG4B,UAAU,CAAC5B,UAAD,EAAawB,OAAO,CAAC9S,CAAD,CAApB,CAAvB;EACD;EACF;;EAED,SAAOsR,UAAP;EACD;;EC/NM,SAAS6B,QAAT,CAAkBC,GAAlB,EAAuBvQ,OAAvB,EAAgC;EACrC,MAAM1B,IAAI,GAAGiS,GAAG,GAAGC,UAAU,CAACD,GAAD,CAAb,GAAqB,WAArC;EACA,SAAO;EACLvN,IAAAA,MAAM,kDAA2C1E,IAA3C,MADD;EAELmS,IAAAA,eAAe,EAAE;EAFZ,GAAP;EAID;EAEM,SAASD,UAAT,CAAoBxU,EAApB,EAAwB;EAC7B,MAAIA,EAAE,CAACqG,MAAP,EAAe;EACbrG,IAAAA,EAAE,CAACyJ,GAAH,GAASzJ,EAAE,CAACyJ,GAAH,IAAUzJ,EAAE,CAACqG,MAAH,CAAUoD,GAA7B;EACD;;EACD,MAAInH,IAAJ;EAEAA,EAAAA,IAAI,iBAAUtC,EAAE,CAAC8B,GAAb,wBAA8Be,IAAI,CAACC,SAAL,CAAe9C,EAAE,CAAC6S,QAAlB,CAA9B,gBACF7S,EAAE,CAAC2F,QAAH,GAAc+O,WAAW,CAAC1U,EAAD,CAAzB,GAAgC,EAD9B,MAAJ,CAN6B;EAU7B;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;;EACA,SAAOsC,IAAP;EACD;EAEM,SAASoS,WAAT,CAAqB1U,EAArB,EAAyB;EAC9B,MAAM2F,QAAQ,GAAG3F,EAAE,CAAC2F,QAApB;;EACA,MAAIA,QAAQ,CAACvE,MAAb,EAAqB;EACnB,WAAOuE,QAAQ,CACZ5E,GADI,CACA,UAAC4E,QAAD;EAAA,aAAcgP,GAAG,CAAChP,QAAD,CAAjB;EAAA,KADA,EAEJiP,MAFI,CAEGC,OAFH,EAGJvB,IAHI,CAGC,GAHD,CAAP;EAID;EACF;EAEM,SAASqB,GAAT,CAAapP,IAAb,EAAmB;EACxB,MAAIA,IAAI,CAACiN,IAAL,KAAc,CAAlB,EAAqB;EACnB,WAAOgC,UAAU,CAACjP,IAAD,CAAjB;EACD,GAFD,MAEO;EACL,QAAID,IAAI,GAAGC,IAAI,CAACD,IAAhB;;EACA,QAAIC,IAAI,CAACiN,IAAL,KAAc,CAAlB,EAAqB;EACnB,aAAO,EAAP;EACD,KAFD,MAEO;EACL,aAAOsC,OAAO,CAACvP,IAAD,CAAd;EACD;EACF;EACF;EAEM,SAASuP,OAAT,CAAiBxP,IAAjB,EAAuB;EAC5B,sBACEA,IAAI,CAACkN,IAAL,KAAc,CAAd,GACIlN,IAAI,CAACmN,UADT;EAAA,IAEIsC,wBAAwB,CAAClS,IAAI,CAACC,SAAL,CAAewC,IAAI,CAACA,IAApB,CAAD,CAH9B;EAKD;;EAuBD,SAASyP,wBAAT,CAAkCzP,IAAlC,EAAwC;EACtC,SAAOA,IAAI,CAACqK,OAAL,CAAa,SAAb,EAAwB,SAAxB,EAAmCA,OAAnC,CAA2C,SAA3C,EAAsD,SAAtD,CAAP;EACD;EAED;EACA;EACA;EACA;EACA;EACA;EACA;;EC/FA,IAAMqF,WAAW,GAAG,EAApB;EAEO,SAASC,qBAAT,CAA+BC,WAA/B,EAA4C;EACjD,SAAO,SAASC,cAAT,CAAwBH,WAAxB,EAAqC;EAC1C,aAASI,OAAT,CAAiBpD,QAAjB,EAA2BhO,OAA3B,EAAoC;EAClC,UAAMqR,YAAY,GAAGtW,MAAM,CAACiC,MAAP,CAAcgU,WAAd,CAArB;EACA,UAAMzS,MAAM,GAAG,EAAf;EACA,UAAM+S,IAAI,GAAG,EAAb;;EAEAD,MAAAA,YAAY,CAAChV,IAAb,GAAoB,UAACkV,GAAD,EAAMC,GAAN,EAAc;EAChC,SAACA,GAAG,GAAGF,IAAH,GAAU/S,MAAd,EAAsBG,IAAtB,CAA2B6S,GAA3B;EACD,OAFD;;EAGA,UAAIvR,OAAJ,EAAa;EACX;EACA,YAAIA,OAAO,CAAC8G,OAAZ,EAAqB;EACnBuK,UAAAA,YAAY,CAACvK,OAAb,GAAuB,CAACkK,WAAW,CAAClK,OAAZ,IAAuB,EAAxB,EAA4B5C,MAA5B,CACrBlE,OAAO,CAAC8G,OADa,CAAvB;EAGD,SANU;;;EAQX,YAAI9G,OAAO,CAACyR,UAAZ,EAAwB;EACtBJ,UAAAA,YAAY,CAACI,UAAb,GAA0BC,MAAM,CAC9B3W,MAAM,CAACiC,MAAP,CAAcgU,WAAW,CAACS,UAAZ,IAA0B,IAAxC,CAD8B,EAE9BzR,OAAO,CAACyR,UAFsB,CAAhC;EAID,SAbU;;;EAeX,aAAK,IAAMjW,GAAX,IAAkBwE,OAAlB,EAA2B;EACzB,cAAIxE,GAAG,KAAK,SAAR,IAAqBA,GAAG,KAAK,YAAjC,EAA+C;EAC7C6V,YAAAA,YAAY,CAAC7V,GAAD,CAAZ,GAAoBwE,OAAO,CAACxE,GAAD,CAA3B;EACD;EACF;EACF;;EACD,UAAMmW,QAAQ,GAAGT,WAAW,CAAClD,QAAD,EAAWqD,YAAX,CAA5B,CA7BkC;;EA+BlCM,MAAAA,QAAQ,CAACpT,MAAT,GAAkBA,MAAlB;EACAoT,MAAAA,QAAQ,CAACL,IAAT,GAAgBA,IAAhB;EACA,aAAOK,QAAP;EACD;;EAED,WAAO;EACLP,MAAAA,OAAO,EAAPA,OADK;EAELQ,MAAAA,kBAAkB,EAAEC,yBAAyB,CAACT,OAAD;EAFxC,KAAP;EAID,GAzCD;EA0CD;EAEM,SAASS,yBAAT,CAAmCT,OAAnC,EAA4C;EACjD,MAAMlT,KAAK,GAAGnD,MAAM,CAACiC,MAAP,CAAc,IAAd,CAAd;EACA,SAAO,SAAS4U,kBAAT,CAA4B5D,QAA5B,EAAwD;EAAA,QAAlBhO,OAAkB,uEAAR,EAAQ;EAAA,QAAJD,EAAI;EAC7DC,IAAAA,OAAO,GAAGjF,MAAM,CAACiC,MAAP,CAAc,EAAd,EAAkBgD,OAAlB,CAAV;EACA,QAAM3D,IAAI,GAAG2D,OAAO,CAAC3D,IAAR,IAAgBA,IAA7B;EACA,WAAO2D,OAAO,CAAC3D,IAAf;;EACA,QAAI;EACF,UAAImC,QAAJ,CAAa,UAAb;EACD,KAFD,CAEE,OAAOsC,CAAP,EAAU;EACV,UAAIA,CAAC,CAAC7F,QAAF,GAAa2Q,KAAb,CAAmB,iBAAnB,CAAJ,EAA2C;EACzCvP,QAAAA,IAAI,CACF,iEACE,uEADF,GAEE,kEAFF,GAGE,iEAHF,GAIE,kCALA,CAAJ;EAOD;EACF;;EACD,QAAMb,GAAG,GAAGwE,OAAO,CAAC4N,UAAR,GACR7O,MAAM,CAACiB,OAAO,CAAC4N,UAAT,CAAN,GAA6BI,QADrB,GAERA,QAFJ;;EAGA,QAAI9P,KAAK,CAAC1C,GAAD,CAAT,EAAgB;EACd,aAAO0C,KAAK,CAAC1C,GAAD,CAAZ;EACD;;EACD,QAAMmW,QAAQ,GAAGP,OAAO,CAACpD,QAAD,EAAWhO,OAAX,CAAxB;;EACA,QAAI2R,QAAQ,CAACpT,MAAT,IAAmBoT,QAAQ,CAACpT,MAAT,CAAgBnB,MAAvC,EAA+C;EAC7Cf,MAAAA,IAAI,CACF,uCAAgC2R,QAAhC,YACE2D,QAAQ,CAACpT,MAAT,CAAgBxB,GAAhB,CAAoB,UAAC+D,CAAD;EAAA,2BAAYA,CAAZ;EAAA,OAApB,EAAqCwO,IAArC,CAA0C,IAA1C,CADF,GAEE,IAHA,EAIFvP,EAJE,CAAJ;EAMD;;EACD,QAAI4R,QAAQ,CAACL,IAAT,IAAiBK,QAAQ,CAACL,IAAT,CAAclU,MAAnC,EAA2C;EACzCuU,MAAAA,QAAQ,CAACL,IAAT,CAAcQ,OAAd,CAAsB,UAACP,GAAD;EAAA,eAASC,GAAG,CAACD,GAAD,EAAMxR,EAAN,CAAZ;EAAA,OAAtB;EACD;;EACD,QAAMwE,GAAG,GAAG,EAAZ;EACA,QAAMwN,WAAW,GAAG,EAApB;EACAxN,IAAAA,GAAG,CAACvB,MAAJ,GAAa3E,cAAc,CAACsT,QAAQ,CAAC3O,MAAV,EAAkB+O,WAAlB,CAA3B;EACAxN,IAAAA,GAAG,CAACkM,eAAJ,GAAsBkB,QAAQ,CAAClB,eAAT,CAAyB1T,GAAzB,CAA6B,UAACuB,IAAD,EAAU;EAC3D,aAAOD,cAAc,CAACC,IAAD,EAAOyT,WAAP,CAArB;EACD,KAFqB,CAAtB;;EAGA,QAAI,CAAC,CAACJ,QAAQ,CAACpT,MAAV,IAAoB,CAACoT,QAAQ,CAACpT,MAAT,CAAgBnB,MAAtC,KAAiD2U,WAAW,CAAC3U,MAAjE,EAAyE;EACvEf,MAAAA,IAAI,CACF,4CACE0V,WAAW,CACRhV,GADH,CACO;EAAA,YAAG0B,GAAH,QAAGA,GAAH;EAAA,YAAQH,IAAR,QAAQA,IAAR;EAAA,yBAAsBG,GAAG,CAACxD,QAAJ,EAAtB,oBAA8CqD,IAA9C;EAAA,OADP,EAEGgR,IAFH,CAEQ,IAFR,CAFA,EAKFvP,EALE,CAAJ;EAOD;;EACD,WAAQ7B,KAAK,CAAC1C,GAAD,CAAL,GAAa+I,GAArB;EACD,GAnDD;EAoDD;EAEM,IAAM4M,cAAc,GAAGF,qBAAqB,CAAC,SAASC,WAAT,CAClDlD,QADkD,EAElDhO,OAFkD,EAGlD;EACA,MAAMuQ,GAAG,GAAGxC,KAAK,CAACC,QAAQ,CAACqB,IAAT,EAAD,EAAkBrP,OAAlB,CAAjB;EAEA,MAAM1B,IAAI,GAAGgS,QAAQ,CAACC,GAAD,CAArB;EACAjU,EAAAA,OAAO,CAACoE,GAAR,CAAYpC,IAAI,CAAC0E,MAAjB,EAAyB,MAAzB;EACA,SAAO;EACLuN,IAAAA,GAAG,EAAHA,GADK;EAELvN,IAAAA,MAAM,EAAE1E,IAAI,CAAC0E,MAFR;EAGLyN,IAAAA,eAAe,EAAEnS,IAAI,CAACmS;EAHjB,GAAP;EAKD,CAbkD,CAA5C;;wBAciCU,cAAc,CAACH,WAAD;MAArCY,qCAAAA;;ECzHV,IAAMI,YAAY,GAAG;EAC1BC,EAAAA,GAAG,EAAE,4BADqB;EAE1BC,EAAAA,IAAI,EAAE;EAFoB,CAArB;EAKA,SAAS9V,eAAT,CAAuBuL,OAAvB,EAAgCrE,KAAhC,EAAuC;EAC5C,MAAM1B,GAAG,GAAG1F,QAAQ,CAACE,aAAT,CAAuBuL,OAAvB,CAAZ;;EACA,MAAIA,OAAO,KAAK,QAAhB,EAA0B;EACxB,WAAO/F,GAAP;EACD,GAJ2C;;;EAM5C,MACE0B,KAAK,CAAClE,IAAN,IACAkE,KAAK,CAAClE,IAAN,CAAW4N,KADX,IAEA1J,KAAK,CAAClE,IAAN,CAAW4N,KAAX,CAAiBmF,QAAjB,KAA8B1U,SAHhC,EAIE;EACAmE,IAAAA,GAAG,CAACwQ,YAAJ,CAAiB,UAAjB,EAA6B,UAA7B;EACD;;EACD,SAAOxQ,GAAP;EACD;EAEM,SAASmI,eAAT,CAAyBsI,SAAzB,EAAoC1K,OAApC,EAA6C;EAClD,SAAOzL,QAAQ,CAAC6N,eAAT,CAAyBiI,YAAY,CAACK,SAAD,CAArC,EAAkD1K,OAAlD,CAAP;EACD;EAEM,SAASU,cAAT,CAAwB/G,IAAxB,EAA8B;EACnC,SAAOpF,QAAQ,CAACmM,cAAT,CAAwB/G,IAAxB,CAAP;EACD;EAEM,SAAS0I,aAAT,CAAuB1I,IAAvB,EAA6B;EAClC,SAAOpF,QAAQ,CAAC8N,aAAT,CAAuB1I,IAAvB,CAAP;EACD;EAEM,SAASmH,YAAT,CAAsBD,UAAtB,EAAkC8J,OAAlC,EAA2CC,aAA3C,EAA0D;EAC/D/J,EAAAA,UAAU,CAACC,YAAX,CAAwB6J,OAAxB,EAAiCC,aAAjC;EACD;EAEM,SAAStJ,WAAT,CAAqB1H,IAArB,EAA2B+M,KAA3B,EAAkC;EACvC/M,EAAAA,IAAI,CAAC0H,WAAL,CAAiBqF,KAAjB;EACD;EAEM,SAASlG,WAAT,CAAqB7G,IAArB,EAA2B+M,KAA3B,EAAkC;EACvC/M,EAAAA,IAAI,CAAC6G,WAAL,CAAiBkG,KAAjB;EACD;EAEM,SAAS9F,UAAT,CAAoBjH,IAApB,EAA0B;EAC/B,SAAOA,IAAI,CAACiH,UAAZ;EACD;EAEM,SAASkC,WAAT,CAAqBnJ,IAArB,EAA2B;EAChC,SAAOA,IAAI,CAACmJ,WAAZ;EACD;EAEM,SAAS/C,OAAT,CAAiBpG,IAAjB,EAAuB;EAC5B,SAAOA,IAAI,CAACoG,OAAZ;EACD;EAEM,SAAS6K,cAAT,CAAwBjR,IAAxB,EAA8BD,IAA9B,EAAoC;EACzCC,EAAAA,IAAI,CAACkR,WAAL,GAAmBnR,IAAnB;EACD;EAEM,SAASoR,aAAT,CAAuBnR,IAAvB,EAA6BoR,OAA7B,EAAsC;EAC3CpR,EAAAA,IAAI,CAAC6Q,YAAL,CAAkBO,OAAlB,EAA2B,EAA3B;EACD;;;;;;;;;;;;;;;;;;;ECtDD,IAAIC,GAAG,GAAG,CAAV;;EACA,SAASC,KAAT,CAAe7W,EAAf,EAAmB8G,SAAnB,EAA8B;EAC5BD,EAAAA,cAAc,CAAC,IAAD,EAAO7G,EAAP,EAAW8G,SAAX,CAAd;EACD;;EACM,SAASgQ,SAAT,CAAmBzP,GAAnB,EAAwB;EAC7BA,EAAAA,GAAG,CAACrI,SAAJ,CAAc+X,KAAd,GAAsB,UAAU/S,OAAV,EAAmB;EACvC,QAAMD,EAAE,GAAG,IAAX;EACAA,IAAAA,EAAE,CAACiT,IAAH,GAAUJ,GAAG,EAAb;EACA7S,IAAAA,EAAE,CAACkT,MAAH,GAAY,IAAZ;EACAlT,IAAAA,EAAE,CAACE,QAAH,GAAcD,OAAd,CAJuC;;EAOvC2D,IAAAA,SAAS,CAAC5D,EAAD,CAAT,CAPuC;EASvC;EACA;;EAEAA,IAAAA,EAAE,CAACmT,KAAH,GAAWnT,EAAX;EACA4F,IAAAA,UAAU,CAAC5F,EAAD,CAAV;EACAD,IAAAA,SAAS,CAACC,EAAD,CAAT;;EACA,QAAIA,EAAE,CAACE,QAAH,CAAYjE,EAAhB,EAAoB;EAClB+D,MAAAA,EAAE,CAACoT,MAAH,CAAUpT,EAAE,CAACE,QAAH,CAAYjE,EAAtB;EACD;EACF,GAlBD;;EAoBAqH,EAAAA,GAAG,CAACrI,SAAJ,CAAcmY,MAAd,GAAuB,UAAUnX,EAAV,EAAc;EAEnC,QAAMgE,OAAO,GAAG,KAAKC,QAArB;EACAjE,IAAAA,EAAE,GAAGA,EAAE,IAAID,KAAK,CAACC,EAAD,CAAhB;;EACA,QAAI,CAACgE,OAAO,CAACgD,MAAb,EAAqB;EACnB,UAAIgL,QAAQ,GAAGhO,OAAO,CAACgO,QAAvB;;EACA,UAAIA,QAAJ,EAAc;EACZ,YAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;EAChC,cAAIA,QAAQ,CAACoC,MAAT,CAAgB,CAAhB,MAAuB,GAA3B,EAAgC;EAC9BpC,YAAAA,QAAQ,GAAGoF,YAAY,CAACpF,QAAD,CAAvB;EACA;;EACA,gBAAI,CAACA,QAAL,EAAe;EACb3R,cAAAA,MAAI,mDACyC2D,OAAO,CAACgO,QADjD,GAEF,IAFE,CAAJ;EAID;EACF;EACF,SAXD,MAWO,IAAIA,QAAQ,CAACpG,QAAb,EAAuB;EAC5BoG,UAAAA,QAAQ,GAAGA,QAAQ,CAACqF,SAApB;EACD,SAFM,MAEA;EACL,cAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;EACzCnX,YAAAA,MAAI,CAAC,6BAA6B2R,QAA9B,EAAwC,IAAxC,CAAJ;EACD;;EACD,iBAAO,IAAP;EACD;EACF,OApBD,MAoBO,IAAIhS,EAAJ,EAAQ;EACbgS,QAAAA,QAAQ,GAAGyF,YAAY,CAACzX,EAAD,CAAvB;EACD;;EACD,UAAIgS,QAAJ,EAAc;EAAA,kCACwB4D,kBAAkB,CAAC5D,QAAD,EAAW,EAAX,EAAe,IAAf,CAD1C;EAAA,YACJhL,MADI,uBACJA,MADI;EAAA,YACIyN,eADJ,uBACIA,eADJ;;EAEZnU,QAAAA,OAAO,CAACoE,GAAR,CAAYsC,MAAZ;EACAhD,QAAAA,OAAO,CAACgD,MAAR,GAAiBA,MAAjB;EACAhD,QAAAA,OAAO,CAACyQ,eAAR,GAA0BA,eAA1B;EACD;EACF;;EACD,WAAOoC,KAAK,CAACpW,IAAN,CAAW,IAAX,EAAiBT,EAAjB,EAAqB,KAArB,CAAP;EACD,GArCD;;EAsCAqH,EAAAA,GAAG,CAACrI,SAAJ,CAAc0I,SAAd,GAA0BgD,mBAAmB,CAAC;EAC5CK,IAAAA,OAAO,EAAPA,OAD4C;EAE5CD,IAAAA,OAAO,EAAE;EAFmC,GAAD,CAA7C;EAID;;EAED,SAAS2M,YAAT,CAAsBzX,EAAtB,EAA0B;EACxB,MAAIA,EAAE,CAAC0X,SAAP,EAAkB;EAChB,WAAO1X,EAAE,CAAC0X,SAAV;EACD,GAFD,MAEO;EACL,QAAMC,SAAS,GAAGzX,QAAQ,CAACE,aAAT,CAAuB,KAAvB,CAAlB;EACAuX,IAAAA,SAAS,CAACvL,WAAV,CAAsBpM,EAAE,CAAC4X,SAAH,CAAa,IAAb,CAAtB;EACA,WAAOD,SAAS,CAACN,SAAjB;EACD;EACF;;MCnFKhQ,MACJ,aAAYrD,OAAZ,EAAqB;EAAA;;EACnB,OAAK+S,KAAL,CAAW/S,OAAX;EACD;;EAGH8S,SAAS,CAACzP,GAAD,CAAT;EACAD,cAAc,CAACC,GAAD,CAAd;EACA4C,WAAW,CAAC5C,GAAD,CAAX;;;;;;;;"}