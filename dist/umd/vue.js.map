{"version":3,"file":"vue.js","sources":["../../src/utils/index.js","../../src/observe/index.js","../../src/instance/state.js","../../src/vdom/vnode.js","../../src/instance/lifecycle.js","../../src/instance/proxy.js","../../src/vdom/helpers/normalize-children.js","../../src/vdom/create-elemnt.js","../../src/instance/render.js","../../src/vdom/patch.js","../../src/compiler/parse-html.js","../../src/compiler/index.js","../../src/utils/node-ops.js","../../src/instance/init.js","../../src/index.js"],"sourcesContent":["const _toString = Object.prototype.toString;\n\nvar isHTMLTag = makeMap(\n  \"html,body,base,head,link,meta,style,title,\" +\n    \"address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,\" +\n    \"div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,\" +\n    \"a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,\" +\n    \"s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,\" +\n    \"embed,object,param,source,canvas,script,noscript,del,ins,\" +\n    \"caption,col,colgroup,table,thead,tbody,td,th,tr,\" +\n    \"button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,\" +\n    \"output,progress,select,textarea,\" +\n    \"details,dialog,menu,menuitem,summary,\" +\n    \"content,element,shadow,template,blockquote,iframe,tfoot\"\n);\n\n// this map is intentionally selective, only covering SVG elements that may\n// contain child elements.\nvar isSVG = makeMap(\n  \"svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,\" +\n    \"foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,\" +\n    \"polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view\",\n  true\n);\n\nexport function isObject(obj) {\n  return obj !== null && typeof obj === \"object\";\n}\n\nexport function def(obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true,\n  });\n}\n\nexport function query(el) {\n  if (typeof el === \"string\") {\n    const selected = document.querySelector(el);\n    if (!selected) {\n      return document.createElement(\"div\");\n    }\n    return selected;\n  } else {\n    return el;\n  }\n}\n\nexport const warn = console.error;\n\nexport function isPlainObject(obj) {\n  return _toString.call(obj) === \"[object Object]\";\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function hasOwn(obj, key) {\n  return hasOwnProperty.call(obj, key);\n}\n\nexport const noop = () => {};\n\nexport function makeMap(str, expectsLowerCase) {\n  const map = Object.create(null);\n  const list = str.split(\",\");\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase ? (val) => map[val.toLowerCase()] : (val) => map[val];\n}\n\n/**\n * Check if value is primitive.\n */\nexport function isPrimitive(value) {\n  return (\n    typeof value === \"string\" ||\n    typeof value === \"number\" ||\n    // $flow-disable-line\n    typeof value === \"symbol\" ||\n    typeof value === \"boolean\"\n  );\n}\n\nexport function isDef(v) {\n  return v !== undefined && v !== null;\n}\n\nexport function isUndef(v) {\n  return v === undefined || v === null;\n}\n\nexport function parsePlatformTagName(_) {\n  return _;\n}\n\nexport function isReservedTag(tag) {\n  return isHTMLTag(tag) || isSVG(tag);\n}\n\nexport function getTagNamespace(tag) {\n  if (isSVG(tag)) {\n    return \"svg\";\n  }\n  // basic support for MathML\n  // note it doesn't support other MathML elements being component roots\n  if (tag === \"math\") {\n    return \"math\";\n  }\n}\n\n/**\n * Camelize a hyphen-delimited string.\n */\nconst camelizeRE = /-(\\w)/g;\nexport const camelize = cached((str) => {\n  return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : \"\"));\n});\n\n/**\n * Create a cached version of a pure function.\n */\nexport function cached(fn) {\n  const cache = Object.create(null);\n  return function cachedFn(str) {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n}\n","import { isObject, def } from \"../utils/index\";\r\n\r\nexport class Observe {\r\n  constructor(value) {\r\n    this.value = value;\r\n    this.vmCount = 0;\r\n    def(value, \"__ob__\", this);\r\n    if (Array.isArray(value)) {\r\n      this.observeArray(value);\r\n    } else {\r\n      this.walk(value);\r\n    }\r\n  }\r\n  walk(data) {\r\n    let keys = Object.keys(data);\r\n    for (let i = 0; i < keys.length; i++) {\r\n      let key = keys[i];\r\n      let value = data[key];\r\n      defineReactive(data, key, value);\r\n    }\r\n  }\r\n  observeArray(items) {\r\n    for (let i = 0, l = items.length; i < l; i++) {\r\n      observe(items[i]);\r\n    }\r\n  }\r\n}\r\n\r\nfunction defineReactive(data, key, value) {\r\n  observe(value);\r\n  Object.defineProperty(data, key, {\r\n    get() {\r\n      return value;\r\n    },\r\n    set(newVal) {\r\n      if (newVal === value) return;\r\n      value = newVal;\r\n    },\r\n  });\r\n}\r\n\r\nexport function observe(data) {\r\n  if (!isObject(data)) {\r\n    return;\r\n  }\r\n  let ob;\r\n  new Observe(data);\r\n}\r\n","import { observe } from \"../observe/index\";\r\nimport { isPlainObject, warn, hasOwn, noop } from \"../utils/index\";\r\n\r\nconst sharedPropertyDefinition = {\r\n  enumerable: true,\r\n  configurable: true,\r\n  get: noop,\r\n  set: noop,\r\n};\r\n\r\nexport function initState(vm) {\r\n  const options = vm.$options;\r\n  if (options.props) {\r\n    initProps(vm, options.props);\r\n  }\r\n  if (options.methods) {\r\n    initMethods(vm, options.methods);\r\n  }\r\n  if (options.data) {\r\n    initData(vm);\r\n  } else {\r\n    observe((vm._data = {}), true /* asRootData */);\r\n  }\r\n  if (options.computed) {\r\n  }\r\n  if (options.watch) {\r\n  }\r\n}\r\n\r\nfunction initProps() {}\r\n\r\nfunction initData(vm) {\r\n  console.log(vm.$options.data);\r\n  let data = vm.$options.data;\r\n  data = vm._data = typeof data === \"function\" ? getData(data) : data;\r\n  console.log(data);\r\n  if (!isPlainObject(data)) {\r\n    data = {};\r\n    warn(\r\n      \"data functions should return an object:\\n\" +\r\n        \"https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function\",\r\n      vm\r\n    );\r\n  }\r\n  const keys = Object.keys(data);\r\n  const props = vm.$options.props;\r\n  const methods = vm.$options.methods;\r\n  let i = keys.length;\r\n  while (i--) {\r\n    const key = keys[i];\r\n    if (methods && hasOwn(methods, key)) {\r\n      warn(`Method \"${key}\" has already been defined as a data property.`, vm);\r\n    }\r\n    if (props && hasOwn(props, key)) {\r\n      warn(\r\n        `The data property \"${key}\" is already declared as a prop. ` +\r\n          `Use prop default value instead.`,\r\n        vm\r\n      );\r\n    } else if (!isReserved(key)) {\r\n      proxy(vm, `_data`, key);\r\n    }\r\n  }\r\n  // console.log(data);\r\n  observe(data);\r\n}\r\n\r\nfunction initMethods() {}\r\n\r\nexport function getData(data, vm) {\r\n  // #7573 disable dep collection when invoking data getters\r\n  try {\r\n    return data.call(vm, vm);\r\n  } catch (e) {\r\n    // handleError(e, vm, `data()`);\r\n    return {};\r\n  } finally {\r\n  }\r\n}\r\n\r\nexport function proxy(target, sourceKey, key) {\r\n  sharedPropertyDefinition.get = function proxyGetter() {\r\n    return this[sourceKey][key];\r\n  };\r\n  sharedPropertyDefinition.set = function proxySetter(val) {\r\n    this[sourceKey][key] = val;\r\n  };\r\n  Object.defineProperty(target, key, sharedPropertyDefinition);\r\n}\r\n\r\nexport function isReserved(str) {\r\n  const c = (str + \"\").charCodeAt(0);\r\n  return c === 0x24 || c === 0x5f;\r\n}\r\n","export const createEmptyVNode = (text) => {\n  const node = new VNode();\n  node.text = text;\n  node.isComment = true;\n  return node;\n};\n\nexport function createTextVNode(val) {\n  return new VNode(undefined, undefined, undefined, String(val));\n}\n\nexport function cloneVNode(vnode) {\n  const cloned = new VNode(\n    vnode.tag,\n    vnode.data,\n    // #7975\n    // clone children array to avoid mutating original in case of cloning\n    // a child.\n    vnode.children && vnode.children.slice(),\n    vnode.text,\n    vnode.elm,\n    vnode.context,\n    vnode.componentOptions,\n    vnode.asyncFactory\n  );\n  cloned.ns = vnode.ns;\n  cloned.isStatic = vnode.isStatic;\n  cloned.key = vnode.key;\n  cloned.isComment = vnode.isComment;\n  cloned.fnContext = vnode.fnContext;\n  cloned.fnOptions = vnode.fnOptions;\n  cloned.fnScopeId = vnode.fnScopeId;\n  cloned.asyncMeta = vnode.asyncMeta;\n  cloned.isCloned = true;\n  return cloned;\n}\n\nexport default class VNode {\n  // tag: string | void;\n  // data: VNodeData | void;\n  // children: ?Array<VNode>;\n  // text: string | void;\n  // elm: Node | void;\n  // ns: string | void;\n  // context: Component | void; // rendered in this component's scope\n  // key: string | number | void;\n  // componentOptions: VNodeComponentOptions | void;\n  // componentInstance: Component | void; // component instance\n  // parent: VNode | void; // component placeholder node\n\n  // // strictly internal\n  // raw: boolean; // contains raw HTML? (server only)\n  // isStatic: boolean; // hoisted static node\n  // isRootInsert: boolean; // necessary for enter transition check\n  // isComment: boolean; // empty comment placeholder?\n  // isCloned: boolean; // is a cloned node?\n  // isOnce: boolean; // is a v-once node?\n  // asyncFactory: Function | void; // async component factory function\n  // asyncMeta: Object | void;\n  // isAsyncPlaceholder: boolean;\n  // ssrContext: Object | void;\n  // fnContext: Component | void; // real context vm for functional nodes\n  // fnOptions: ?ComponentOptions; // for SSR caching\n  // devtoolsMeta: ?Object; // used to store functional render context for devtools\n  // fnScopeId: ?string; // functional scope id support\n\n  constructor(\n    tag,\n    data,\n    children,\n    text,\n    elm,\n    context,\n    componentOptions,\n    asyncFactory\n  ) {\n    this.tag = tag;\n    this.data = data;\n    this.children = children;\n    this.text = text;\n    this.elm = elm;\n    this.ns = undefined;\n    this.context = context;\n    this.fnContext = undefined;\n    this.fnOptions = undefined;\n    this.fnScopeId = undefined;\n    this.key = data && data.key;\n    this.componentOptions = componentOptions;\n    this.componentInstance = undefined;\n    this.parent = undefined;\n    this.raw = false;\n    this.isStatic = false;\n    this.isRootInsert = true;\n    this.isComment = false;\n    this.isCloned = false;\n    this.isOnce = false;\n    this.asyncFactory = asyncFactory;\n    this.asyncMeta = undefined;\n    this.isAsyncPlaceholder = false;\n  }\n\n  // DEPRECATED: alias for componentInstance for backwards compat.\n  /* istanbul ignore next */\n  get child() {\n    return this.componentInstance;\n  }\n}\n","import { createEmptyVNode } from \"../vdom/vnode\";\nimport Watcher from \"../observe/watcher\";\nimport { noop, warn } from \"../utils/index\";\n\nexport function mountComponent(vm, el, hydrating) {\n  vm.$el = el;\n  if (!vm.$options.render) {\n    vm.$options.render = createEmptyVNode;\n\n    // if (\n    //   (vm.$options.template && vm.$options.template.charAt(0) !== \"#\") ||\n    //   vm.$options.el ||\n    //   el\n    // ) {\n    //   warn(\n    //     \"You are using the runtime-only build of Vue where the template \" +\n    //       \"compiler is not available. Either pre-compile the templates into \" +\n    //       \"render functions, or use the compiler-included build.\",\n    //     vm\n    //   );\n    // } else {\n    //   warn(\n    //     \"Failed to mount component: template or render function not defined.\",\n    //     vm\n    //   );\n    // }\n  }\n  console.log(\"beforeMount\");\n  let updateComponent;\n  updateComponent = () => {\n    vm._update(vm._render(), hydrating);\n    // vm._render();\n  };\n  updateComponent();\n  // new Watcher(\n  //   vm,\n  //   updateComponent,\n  //   noop,\n  //   {\n  //     before() {\n  //       if (vm._isMounted && !vm._isDestroyed) {\n  //         // callHook(vm, \"beforeUpdate\");\n  //         console.log(vm, \"beforeUpdate\");\n  //       }\n  //     },\n  //   },\n  //   true /* isRenderWatcher */\n  // );\n}\nexport let activeInstance;\n\nexport function setActiveInstance(vm) {\n  const prevActiveInstance = activeInstance;\n  activeInstance = vm;\n  return () => {\n    activeInstance = prevActiveInstance;\n  };\n}\n\nexport function lifecycleMixin(Vue) {\n  Vue.prototype._update = function (vnode, hydrating) {\n    const vm = this;\n    const prevEl = vm.$el;\n    const prevVnode = vm._vnode;\n    const restoreActiveInstance = setActiveInstance(vm);\n\n    vm._vnode = vnode;\n    if (!prevVnode) {\n      // initial render\n      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);\n    } else {\n      // updates\n      vm.$el = vm.__patch__(prevVnode, vnode);\n    }\n    restoreActiveInstance();\n  };\n}\n","/* not type checking this file because flow doesn't play well with Proxy */\n\nimport { warn, makeMap } from \"../utils/index\";\n\nlet initProxy;\n\nconst warnNonPresent = (target, key) => {\n  warn(\n    `Property or method \"${key}\" is not defined on the instance but ` +\n      \"referenced during render. Make sure that this property is reactive, \" +\n      \"either in the data option, or for class-based components, by \" +\n      \"initializing the property. \" +\n      \"See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.\",\n    target\n  );\n};\n\nconst warnReservedPrefix = (target, key) => {\n  warn(\n    `Property \"${key}\" must be accessed with \"$data.${key}\" because ` +\n      'properties starting with \"$\" or \"_\" are not proxied in the Vue instance to ' +\n      \"prevent conflicts with Vue internals. \" +\n      \"See: https://vuejs.org/v2/api/#data\",\n    target\n  );\n};\n\nconst hasProxy = typeof Proxy !== \"undefined\";\n\nif (hasProxy) {\n  const isBuiltInModifier = makeMap(\n    \"stop,prevent,self,ctrl,shift,alt,meta,exact\"\n  );\n  new Proxy(Object.create(null), {\n    set(target, key, value) {\n      if (isBuiltInModifier(key)) {\n        warn(`Avoid overwriting built-in modifier in config.keyCodes: .${key}`);\n        return false;\n      } else {\n        target[key] = value;\n        return true;\n      }\n    },\n  });\n}\n\nconst hasHandler = {\n  has(target, key) {\n    const has = key in target;\n    const isAllowed =\n      allowedGlobals(key) ||\n      (typeof key === \"string\" &&\n        key.charAt(0) === \"_\" &&\n        !(key in target.$data));\n    if (!has && !isAllowed) {\n      if (key in target.$data) warnReservedPrefix(target, key);\n      else warnNonPresent(target, key);\n    }\n    return has || !isAllowed;\n  },\n};\n\nconst getHandler = {\n  get(target, key) {\n    if (typeof key === \"string\" && !(key in target)) {\n      if (key in target.$data) warnReservedPrefix(target, key);\n      else warnNonPresent(target, key);\n    }\n    return target[key];\n  },\n};\n\ninitProxy = function initProxy(vm) {\n  if (hasProxy) {\n    // determine which proxy handler to use\n    const options = vm.$options;\n    const handlers =\n      options.render && options.render._withStripped ? getHandler : hasHandler;\n    vm._renderProxy = new Proxy(vm, handlers);\n  } else {\n    vm._renderProxy = vm;\n  }\n};\n\nexport { initProxy };\n","import { isPrimitive } from \"../../utils/index\";\nimport { createTextVNode } from \"../vnode\";\n\n// The template compiler attempts to minimize the need for normalization by\n// statically analyzing the template at compile time.\n//\n// For plain HTML markup, normalization can be completely skipped because the\n// generated render function is guaranteed to return Array<VNode>. There are\n// two cases where extra normalization is needed:\n\n// 1. When the children contains components - because a functional component\n// may return an Array instead of a single root. In this case, just a simple\n// normalization is needed - if any child is an Array, we flatten the whole\n// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep\n// because functional components already normalize their own children.\nexport function simpleNormalizeChildren(children) {\n  for (let i = 0; i < children.length; i++) {\n    if (Array.isArray(children[i])) {\n      return Array.prototype.concat.apply([], children);\n    }\n  }\n  return children;\n}\n\n// 2. When the children contains constructs that always generated nested Arrays,\n// e.g. <template>, <slot>, v-for, or when the children is provided by user\n// with hand-written render functions / JSX. In such cases a full normalization\n// is needed to cater to all possible types of children values.\nexport function normalizeChildren(children) {\n  return isPrimitive(children)\n    ? [createTextVNode(children)]\n    : Array.isArray(children)\n    ? normalizeArrayChildren(children)\n    : undefined;\n}\n\nfunction normalizeArrayChildren(children, nextIndex) {\n  const res = [];\n  let i, c, lastIndex, last;\n  for (i = 0; i < children.length; i++) {\n    c = children[i];\n    console.log(c);\n\n    if (isUndef(c) || typeof c === \"boolean\") continue;\n    lastIndex = res.length - 1;\n    last = res[lastIndex];\n    if (Array.isArray(c)) {\n      if (c.length > 0) {\n        c = normalizeArrayChildren(c, `${nestedIndex || \"\"}_${i}`);\n        // merge adjacent text nodes\n        if (isTextNode(c[0]) && isTextNode(last)) {\n          res[lastIndex] = createTextVNode(last.text + (c[0]).text);\n          c.shift();\n        }\n        res.push.apply(res, c);\n      }\n    } else if (isPrimitive(c)) {\n      if (isTextNode(last)) {\n        // merge adjacent text nodes\n        // this is necessary for SSR hydration because text nodes are\n        // essentially merged when rendered to HTML strings\n        res[lastIndex] = createTextVNode(last.text + c);\n      } else if (c !== \"\") {\n        // convert primitive to vnode\n        res.push(createTextVNode(c));\n      }\n    } else {\n      if (isTextNode(c) && isTextNode(last)) {\n        // merge adjacent text nodes\n        res[lastIndex] = createTextVNode(last.text + c.text);\n      } else {\n        // default key for nested array children (likely generated by v-for)\n        if (\n          isTrue(children._isVList) &&\n          isDef(c.tag) &&\n          isUndef(c.key) &&\n          isDef(nestedIndex)\n        ) {\n          c.key = `__vlist${nestedIndex}_${i}__`;\n        }\n        res.push(c);\n      }\n    }\n  }\n  return res;\n}\n","import {\n  isPrimitive,\n  isDef,\n  isUndef,\n  noop,\n  parsePlatformTagName,\n  isReservedTag,\n  getTagNamespace,\n} from \"../utils/index\";\nimport VNode, { createEmptyVNode } from \"./vnode\";\nimport {\n  simpleNormalizeChildren,\n  normalizeChildren,\n} from \"./helpers/normalize-children\";\n\nconst SIMPLE_NORMALIZE = 1;\nconst ALWAYS_NORMALIZE = 2;\nexport function createElement(\n  context,\n  tag,\n  data,\n  children,\n  normalizationType,\n  alwaysNormalize\n) {\n  if (Array.isArray(data) || isPrimitive(data)) {\n    normalizationType = children;\n    children = data;\n    data = undefined;\n  }\n  if (alwaysNormalize === true) {\n    normalizationType = ALWAYS_NORMALIZE;\n  }\n  return _createElement(context, tag, data, children, normalizationType);\n}\n\nexport function _createElement(\n  context,\n  tag,\n  data,\n  children,\n  normalizationType\n) {\n  // 首先对data校验  data不能是响应式的\n  if (isDef(data) && isDef(data.__ob__)) {\n    warn(\n      `Avoid using observed data object as vnode data: ${JSON.stringify(\n        data\n      )}\\n` + \"Always create fresh vnode data objects in each render!\",\n      context\n    );\n    return createEmptyVNode();\n  }\n  if (isDef(data) && isDef(data.is)) {\n    tag = data.is;\n  }\n  if (!tag) {\n    // in case of component :is set to falsy value\n    return createEmptyVNode();\n  }\n  console.log(arguments);\n\n  // if (Array.isArray(children) && typeof children[0] === 'function') {\n  // }\n  if (normalizationType === ALWAYS_NORMALIZE) {\n    children = normalizeChildren(children);\n  } else if (normalizationType === SIMPLE_NORMALIZE) {\n    children = simpleNormalizeChildren(children);\n  }\n  let vnode, ns;\n  if (typeof tag === \"string\") {\n    let Ctor;\n    console.log(tag);\n    ns = (context.$vnode && context.$vnode.ns) || getTagNamespace(tag);\n\n    // 这里先判断是不是html基本标签\n    if (isReservedTag(tag)) {\n      if (isDef(data) && isDef(data.nativeOn)) {\n        warn(\n          \"The .native modifier for v-on is only valid on components but it was used on <\" +\n            tag +\n            \">.\",\n          context\n        );\n      }\n      vnode = new VNode(\n        parsePlatformTagName(tag),\n        data,\n        children,\n        undefined,\n        undefined,\n        context\n      );\n    } else if (\n      (!data || !data.pre) &&\n      isDef((Ctor = resolveAsset(context.$options, \"components\", tag)))\n    ) {\n      // 组件逻辑\n    } else {\n      vnode = new VNode(tag, data, children, undefined, undefined, context);\n    }\n\n    console.log(vnode);\n  } else {\n    // 组件逻辑\n  }\n\n  console.log(vnode, 'vnode')\n  if (Array.isArray(vnode)) {\n    return vnode;\n  } else if (isDef(vnode)) {\n    // if (isDef(ns)) applyNS(vnode, ns);\n    // if (isDef(data)) registerDeepBindings(data);\n    return vnode;\n  } else {\n    return createEmptyVNode();\n  }\n}\n","import { createElement } from \"../vdom/create-elemnt\";\nimport VNode, { createEmptyVNode } from \"../vdom/vnode\";\n\nexport function initRender(vm) {\n  // vm._vnode = null; // the root of the child tree\n  // vm._staticTrees = null; // v-once cached trees\n  // const options = vm.$options;\n  // const parentVnode = (vm.$vnode = options._parentVnode); // the placeholder node in parent tree\n  // const renderContext = parentVnode && parentVnode.context;\n  vm._c = (a, b, c, d) => createElement(vm, a, b, c, d, false);\n  // normalization is always applied for the public version, used in\n  // user-written render functions.\n  vm.$createElement = (a, b, c, d) => createElement(vm, a, b, c, d, true);\n}\n\nexport function renderMixin(Vue) {\n  Vue.prototype._render = function () {\n    const vm = this;\n    const { render, _parentVnode } = vm.$options;\n    console.log(render)\n    let vnode;\n    try {\n      vnode = render.call(vm._renderProxy, vm.$createElement);\n    } catch (error) {}\n\n    if (Array.isArray(vnode) && vnode.length === 1) {\n      vnode = vnode[0];\n    }\n    // return empty vnode in case the render function errored out\n    if (!(vnode instanceof VNode)) {\n      if (Array.isArray(vnode)) {\n        warn(\n          \"Multiple root nodes returned from render function. Render function \" +\n            \"should return a single root node.\",\n          vm\n        );\n      }\n      vnode = createEmptyVNode();\n    }\n    // set parent\n    vnode.parent = _parentVnode;\n    return vnode;\n  };\n}\n","import { isDef, isUndef, isReservedTag, isPrimitive } from \"../utils/index\";\nimport VNode, { cloneVNode } from \"./vnode\";\nconst hooks = [\"create\", \"activate\", \"update\", \"remove\", \"destroy\"];\n\nexport const SSR_ATTR = \"data-server-rendered\";\nexport const ignoredElements = [];\nconst unknownElementCache = Object.create(null);\n\nexport function isUnknownElement(tag) {\n  /* istanbul ignore if */\n\n  if (isReservedTag(tag)) {\n    return false;\n  }\n  tag = tag.toLowerCase();\n  /* istanbul ignore if */\n  if (unknownElementCache[tag] != null) {\n    return unknownElementCache[tag];\n  }\n  const el = document.createElement(tag);\n  if (tag.indexOf(\"-\") > -1) {\n    // http://stackoverflow.com/a/28210364/1070244\n    return (unknownElementCache[tag] =\n      el.constructor === window.HTMLUnknownElement ||\n      el.constructor === window.HTMLElement);\n  } else {\n    return (unknownElementCache[tag] = /HTMLUnknownElement/.test(\n      el.toString()\n    ));\n  }\n}\n\nexport function createPatchFunction(backend) {\n  let i, j;\n  const cbs = {};\n  console.log(backend);\n\n  const { modules, nodeOps } = backend;\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      if (isDef(modules[j][hooks[i]])) {\n        cbs[hooks[i]].push(modules[j][hooks[i]]);\n      }\n    }\n  }\n\n  function invokeDestroyHook(vnode) {\n    let i, j;\n    const data = vnode.data;\n    if (isDef(data)) {\n      if (isDef((i = data.hook)) && isDef((i = i.destroy))) i(vnode);\n      for (i = 0; i < cbs.destroy.length; ++i) cbs.destroy[i](vnode);\n    }\n    if (isDef((i = vnode.children))) {\n      for (j = 0; j < vnode.children.length; ++j) {\n        invokeDestroyHook(vnode.children[j]);\n      }\n    }\n  }\n\n  function isUnknownElement(vnode, inVPre) {\n    if (!vnode) {\n      return;\n    }\n    return (\n      !inVPre &&\n      !vnode.ns &&\n      !(\n        ignoredElements.length &&\n        ignoredElements.some((ignore) => {\n          return isRegExp(ignore)\n            ? ignore.test(vnode.tag)\n            : ignore === vnode.tag;\n        })\n      ) &&\n      isUnknownElement(vnode.tag)\n    );\n  }\n\n  function assertNodeMatch(node, vnode, inVPre) {\n    if (isDef(vnode.tag)) {\n      return (\n        vnode.tag.indexOf(\"vue-component\") === 0 ||\n        (!isUnknownElement(vnode, inVPre) &&\n          vnode.tag.toLowerCase() ===\n            (node.tagName && node.tagName.toLowerCase()))\n      );\n    } else {\n      return node.nodeType === (vnode.isComment ? 8 : 3);\n    }\n  }\n\n  function hydrate(elm, vnode, insertedVnodeQueue, inVPre) {\n    let i;\n    const { tag, data, children } = vnode;\n    inVPre = inVPre || (data && data.pre);\n    vnode.elm = elm;\n\n    if (isTrue(vnode.isComment) && isDef(vnode.asyncFactory)) {\n      vnode.isAsyncPlaceholder = true;\n      return true;\n    }\n    // assert node match\n\n    if (!assertNodeMatch(elm, vnode, inVPre)) {\n      return false;\n    }\n\n    if (isDef(data)) {\n      if (isDef((i = data.hook)) && isDef((i = i.init)))\n        i(vnode, true /* hydrating */);\n      if (isDef((i = vnode.componentInstance))) {\n        // child component. it should have hydrated its own tree.\n        initComponent(vnode, insertedVnodeQueue);\n        return true;\n      }\n    }\n  }\n\n  function emptyNodeAt(elm) {\n    return new VNode(\n      nodeOps.tagName(elm).toLowerCase(),\n      {},\n      [],\n      undefined,\n      elm\n    );\n  }\n  function createChildren(vnode, children, insertedVnodeQueue) {\n    if (Array.isArray(children)) {\n      for (let i = 0; i < children.length; ++i) {\n        createElm(\n          children[i],\n          insertedVnodeQueue,\n          vnode.elm,\n          null,\n          true,\n          children,\n          i\n        );\n      }\n    } else if (isPrimitive(vnode.text)) {\n      nodeOps.appendChild(\n        vnode.elm,\n        nodeOps.createTextNode(String(vnode.text))\n      );\n    }\n  }\n\n  function insert(parent, elm, ref) {\n    if (isDef(parent)) {\n      if (isDef(ref)) {\n        if (nodeOps.parentNode(ref) === parent) {\n          nodeOps.insertBefore(parent, elm, ref);\n        }\n      } else {\n        nodeOps.appendChild(parent, elm);\n      }\n    }\n  }\n\n  function invokeCreateHooks(vnode, insertedVnodeQueue) {\n    for (let i = 0; i < cbs.create.length; ++i) {\n      cbs.create[i](emptyNode, vnode);\n    }\n    i = vnode.data.hook; // Reuse variable\n    if (isDef(i)) {\n      if (isDef(i.create)) i.create(emptyNode, vnode);\n      if (isDef(i.insert)) insertedVnodeQueue.push(vnode);\n    }\n  }\n  function createRmCb(childElm, listeners) {\n    function remove() {\n      if (--remove.listeners === 0) {\n        removeNode(childElm);\n      }\n    }\n    remove.listeners = listeners;\n    return remove;\n  }\n\n  function removeNode(el) {\n    const parent = nodeOps.parentNode(el);\n    // element may have already been removed due to v-html / v-text\n    if (isDef(parent)) {\n      nodeOps.removeChild(parent, el);\n    }\n  }\n\n  function removeAndInvokeRemoveHook(vnode, rm) {\n    if (isDef(rm) || isDef(vnode.data)) {\n      let i;\n      const listeners = cbs.remove.length + 1;\n      if (isDef(rm)) {\n        // we have a recursively passed down rm callback\n        // increase the listeners count\n        rm.listeners += listeners;\n      } else {\n        // directly removing\n        rm = createRmCb(vnode.elm, listeners);\n      }\n      // recursively invoke hooks on child component root node\n      if (\n        isDef((i = vnode.componentInstance)) &&\n        isDef((i = i._vnode)) &&\n        isDef(i.data)\n      ) {\n        removeAndInvokeRemoveHook(i, rm);\n      }\n      for (i = 0; i < cbs.remove.length; ++i) {\n        cbs.remove[i](vnode, rm);\n      }\n      if (isDef((i = vnode.data.hook)) && isDef((i = i.remove))) {\n        i(vnode, rm);\n      } else {\n        rm();\n      }\n    } else {\n      removeNode(vnode.elm);\n    }\n  }\n\n  function removeVnodes(vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      const ch = vnodes[startIdx];\n      if (isDef(ch)) {\n        if (isDef(ch.tag)) {\n          removeAndInvokeRemoveHook(ch);\n          invokeDestroyHook(ch);\n        } else {\n          // Text node\n          removeNode(ch.elm);\n        }\n      }\n    }\n  }\n\n  let creatingElmInVPre = 0;\n\n  function createElm(\n    vnode,\n    insertedVnodeQueue,\n    parentElm,\n    refElm,\n    nested,\n    ownerArray,\n    index\n  ) {\n    const data = vnode.data;\n    const children = vnode.children;\n    const tag = vnode.tag;\n    if (isDef(tag)) {\n      if (data && data.pre) {\n        creatingElmInVPre++;\n      }\n      if (isUnknownElement(vnode, creatingElmInVPre)) {\n        warn(\n          \"Unknown custom element: <\" +\n            tag +\n            \"> - did you \" +\n            \"register the component correctly? For recursive components, \" +\n            'make sure to provide the \"name\" option.',\n          vnode.context\n        );\n      }\n      vnode.elm = vnode.ns\n        ? nodeOps.createElementNS(vnode.ns, tag)\n        : nodeOps.createElement(tag, vnode);\n      createChildren(vnode, children, insertedVnodeQueue);\n      if (isDef(data)) {\n        invokeCreateHooks(vnode, insertedVnodeQueue);\n      }\n      insert(parentElm, vnode.elm, refElm);\n    } else if (vnode.isComment === true) {\n      vnode.elm = nodeOps.createComment(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    } else {\n      vnode.elm = nodeOps.createTextNode(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    }\n  }\n\n  return function patch(oldVnode, vnode, hydrating, removeOnly) {\n    if (isUndef(vnode)) {\n      if (isDef(oldVnode)) invokeDestroyHook(oldVnode);\n      return;\n    }\n    let isInitialPatch = false;\n    const insertedVnodeQueue = [];\n    if (isUndef(oldVnode)) {\n    } else {\n      console.log(oldVnode);\n      const isRealElement = isDef(oldVnode.nodeType);\n      console.log(isRealElement);\n      if (isRealElement) {\n        if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {\n          oldVnode.removeAttribute(SSR_ATTR);\n          hydrating = true;\n        }\n        if (hydrating === true) {\n          if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\n            invokeInsertHook(vnode, insertedVnodeQueue, true);\n            return oldVnode;\n          }\n          warn(\n            \"The client-side rendered virtual DOM tree is not matching \" +\n              \"server-rendered content. This is likely caused by incorrect \" +\n              \"HTML markup, for example nesting block-level elements inside \" +\n              \"<p>, or missing <tbody>. Bailing hydration and performing \" +\n              \"full client-side render.\"\n          );\n        }\n        // either not server-rendered, or hydration failed.\n        // create an empty node and replace it\n        oldVnode = emptyNodeAt(oldVnode);\n      }\n      const oldElm = oldVnode.elm;\n      const parentElm = nodeOps.parentNode(oldElm);\n      console.log(parentElm);\n      createElm(\n        vnode,\n        insertedVnodeQueue,\n        oldElm._leaveCb ? null : parentElm,\n        nodeOps.nextSibling(oldElm)\n      );\n\n      if (isDef(parentElm)) {\n        removeVnodes([oldVnode], 0, 0);\n      } else if (isDef(oldVnode.tag)) {\n        invokeDestroyHook(oldVnode);\n      }\n    }\n\n    console.log(oldVnode, vnode, hydrating, removeOnly);\n  };\n}\n","import { makeMap } from \"../utils/index\";\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\nconst dynamicArgAttribute = /^\\s*((?:v-[\\w-]+:|@|:|#)\\[[^=]+\\][^\\s\"'<>\\/=]*)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\nconst doctype = /^<!DOCTYPE [^>]+>/i;\n// #7298: escape - to avoid being passed as HTML comment when inlined in page\nconst comment = /^<!\\--/;\nconst conditionalComment = /^<!\\[/;\nconst decodingMap = {\n  \"&lt;\": \"<\",\n  \"&gt;\": \">\",\n  \"&quot;\": '\"',\n  \"&amp;\": \"&\",\n  \"&#10;\": \"\\n\",\n  \"&#9;\": \"\\t\",\n  \"&#39;\": \"'\",\n};\nconst encodedAttr = /&(?:lt|gt|quot|amp|#39);/g;\nconst encodedAttrWithNewLines = /&(?:lt|gt|quot|amp|#39|#10|#9);/g;\nexport const isPlainTextElement = makeMap(\"script,style,textarea\", true);\n\nexport const isUnaryTag = makeMap(\n  \"area,base,br,col,embed,frame,hr,img,input,isindex,keygen,\" +\n    \"link,meta,param,source,track,wbr\"\n);\n\nexport function parseHtml(html, options) {\n  const stack = [];\n  let index = 0;\n  let last, lastTag;\n  while (html) {\n    last = html;\n    if (!lastTag || !isPlainTextElement(lastTag)) {\n      let textEnd = html.indexOf(\"<\");\n      if (textEnd === 0) {\n        // End tag:\n        const endTagMatch = html.match(endTag);\n        if (endTagMatch) {\n          const curIndex = index;\n          advance(endTagMatch[0].length);\n          parseEndTag(endTagMatch[1], curIndex, index);\n          continue;\n        }\n        // Start tag:\n        const startTagMatch = parseStartTag();\n        console.log(startTagMatch, \"startTagMatch\");\n\n        if (startTagMatch) {\n          handleStartTag(startTagMatch);\n          // if (shouldIgnoreFirstNewline(startTagMatch.tagName, html)) {\n          //   advance(1);\n          // }\n          continue;\n        }\n      }\n      let text, rest, next;\n      if (textEnd >= 0) {\n        text = html.substring(0, textEnd);\n      }\n      if (textEnd < 0) {\n        text = html;\n      }\n      if (text) {\n        advance(text.length);\n        chars(text, index - text.length, index);\n      }\n    }\n  }\n  function chars(text, start, end) {\n    console.log('文本', text, start, end);\n  }\n  function handleStartTag(match) {\n    const tagName = match.tagName;\n    const unarySlash = match.unarySlash;\n    const unary = isUnaryTag(tagName) || !!unarySlash;\n    const l = match.attrs.length;\n    const attrs = new Array(l);\n\n    if (!unary) {\n      stack.push({\n        tag: tagName,\n        lowerCasedTag: tagName.toLowerCase(),\n        attrs: attrs,\n        start: match.start,\n        end: match.end,\n      });\n      lastTag = tagName;\n    }\n  }\n\n  function advance(n) {\n    index += n;\n    html = html.substring(n);\n  }\n\n  function parseStartTag() {\n    const start = html.match(startTagOpen);\n    if (start) {\n      const match = {\n        tagName: start[1],\n        attrs: [],\n        start: index,\n      };\n      advance(start[0].length);\n\n      let end, attr;\n      while (\n        !(end = html.match(startTagClose)) &&\n        (attr = html.match(dynamicArgAttribute) || html.match(attribute))\n      ) {\n        attr.start = index;\n        advance(attr[0].length);\n        attr.end = index;\n        match.attrs.push(attr);\n      }\n      if (end) {\n        match.unarySlash = end[1];\n        advance(end[0].length);\n        match.end = index;\n        return match;\n      }\n    }\n  }\n  function parseEndTag(tagName, start, end) {\n    console.log(\"结束标签:\", tagName);\n  }\n}\n","import { parseHtml } from \"./parse-html\";\n// ast语法树解析\nexport function compileToFunctions(template, options, vm) {\n  let root = parseHtml(template);\n  return function render(h) {};\n}\n","export const namespaceMap = {\n  svg: \"http://www.w3.org/2000/svg\",\n  math: \"http://www.w3.org/1998/Math/MathML\",\n};\n\nexport function createElement(tagName, vnode) {\n  const elm = document.createElement(tagName);\n  if (tagName !== \"select\") {\n    return elm;\n  }\n  // false or null will remove the attribute but undefined will not\n  if (\n    vnode.data &&\n    vnode.data.attrs &&\n    vnode.data.attrs.multiple !== undefined\n  ) {\n    elm.setAttribute(\"multiple\", \"multiple\");\n  }\n  return elm;\n}\n\nexport function createElementNS(namespace, tagName) {\n  return document.createElementNS(namespaceMap[namespace], tagName);\n}\n\nexport function createTextNode(text) {\n  return document.createTextNode(text);\n}\n\nexport function createComment(text) {\n  return document.createComment(text);\n}\n\nexport function insertBefore(parentNode, newNode, referenceNode) {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nexport function removeChild(node, child) {\n  node.removeChild(child);\n}\n\nexport function appendChild(node, child) {\n  node.appendChild(child);\n}\n\nexport function parentNode(node) {\n  return node.parentNode;\n}\n\nexport function nextSibling(node) {\n  return node.nextSibling;\n}\n\nexport function tagName(node) {\n  return node.tagName;\n}\n\nexport function setTextContent(node, text) {\n  node.textContent = text;\n}\n\nexport function setStyleScope(node, scopeId) {\n  node.setAttribute(scopeId, \"\");\n}\n","import { initState } from \"./state\";\nimport { query, warn } from \"../utils/index\";\nimport { mountComponent } from \"./lifecycle\";\nimport { initProxy } from \"./proxy\";\nimport { initRender } from \"./render\";\nimport { createPatchFunction } from \"../vdom/patch\";\nimport { compileToFunctions } from \"../compiler/index\";\nimport * as nodeOps from \"../utils/node-ops\";\n\nlet uid = 0;\nfunction mount(el, hydrating) {\n  mountComponent(this, el, hydrating);\n}\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n    vm._uid = uid++;\n    vm._isVue = true;\n    vm.$options = options;\n\n    // if (process.env.NODE_ENV !== \"production\") {\n    initProxy(vm);\n    // } else {\n    // vm._renderProxy = vm;\n    // }\n\n    vm._self = vm;\n    initRender(vm);\n    initState(vm);\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  };\n  Vue.prototype.$mount = function (el) {\n    const vm = this;\n    const options = this.$options;\n    el = el && query(el);\n    if (!options.render) {\n      let template = options.template;\n      if (template) {\n        if (typeof template === \"string\") {\n          if (template.charAt(0) === \"#\") {\n            template = idToTemplate(template);\n            /* istanbul ignore if */\n            if (!template) {\n              warn(\n                `Template element not found or is empty: ${options.template}`,\n                this\n              );\n            }\n          }\n        } else if (template.nodeType) {\n          template = template.innerHTML;\n        } else {\n          if (process.env.NODE_ENV !== \"production\") {\n            warn(\"invalid template option:\" + template, this);\n          }\n          return this;\n        }\n      } else if (el) {\n        template = getOuterHTML(el);\n      }\n      if (template) {\n        const { render } = compileToFunctions(template, {}, this);\n        console.log(render);\n        // 这些是编译相关的，后面在写\n      }\n    }\n    return mount.call(this, el, false);\n  };\n  Vue.prototype.__patch__ = createPatchFunction({\n    nodeOps,\n    modules: [],\n  });\n}\n\nfunction getOuterHTML(el) {\n  if (el.outerHTML) {\n    return el.outerHTML;\n  } else {\n    const container = document.createElement(\"div\");\n    container.appendChild(el.cloneNode(true));\n    return container.innerHTML;\n  }\n}\n","import { initMixin } from \"./instance/init\";\nimport { renderMixin } from \"./instance/render\";\nimport { lifecycleMixin } from \"./instance/lifecycle\";\nclass Vue {\n  constructor(options) {\n    this._init(options);\n  }\n}\n\ninitMixin(Vue);\nlifecycleMixin(Vue);\nrenderMixin(Vue);\n\nexport default Vue;\n"],"names":["_toString","Object","prototype","toString","isHTMLTag","makeMap","isSVG","isObject","obj","def","key","val","enumerable","defineProperty","value","writable","configurable","query","el","selected","document","querySelector","createElement","warn","console","error","isPlainObject","call","hasOwnProperty","hasOwn","noop","str","expectsLowerCase","map","create","list","split","i","length","toLowerCase","isPrimitive","isDef","v","undefined","isUndef","parsePlatformTagName","_","isReservedTag","tag","getTagNamespace","Observe","vmCount","Array","isArray","observeArray","walk","data","keys","defineReactive","items","l","observe","get","set","newVal","sharedPropertyDefinition","initState","vm","options","$options","props","initProps","methods","initMethods","initData","_data","computed","watch","log","getData","isReserved","proxy","e","target","sourceKey","proxyGetter","proxySetter","c","charCodeAt","createEmptyVNode","text","node","VNode","isComment","createTextVNode","String","children","elm","context","componentOptions","asyncFactory","ns","fnContext","fnOptions","fnScopeId","componentInstance","parent","raw","isStatic","isRootInsert","isCloned","isOnce","asyncMeta","isAsyncPlaceholder","mountComponent","hydrating","$el","render","updateComponent","_update","_render","lifecycleMixin","Vue","vnode","prevEl","prevVnode","_vnode","__patch__","initProxy","warnNonPresent","warnReservedPrefix","hasProxy","Proxy","isBuiltInModifier","hasHandler","has","isAllowed","allowedGlobals","charAt","$data","getHandler","handlers","_withStripped","_renderProxy","simpleNormalizeChildren","concat","apply","normalizeChildren","normalizeArrayChildren","nextIndex","res","lastIndex","last","nestedIndex","isTextNode","shift","push","isTrue","_isVList","SIMPLE_NORMALIZE","ALWAYS_NORMALIZE","normalizationType","alwaysNormalize","_createElement","__ob__","JSON","stringify","is","arguments","Ctor","$vnode","nativeOn","pre","resolveAsset","initRender","_c","a","b","d","$createElement","renderMixin","_parentVnode","hooks","SSR_ATTR","ignoredElements","createPatchFunction","backend","j","cbs","modules","nodeOps","invokeDestroyHook","hook","destroy","isUnknownElement","inVPre","some","ignore","isRegExp","test","assertNodeMatch","indexOf","tagName","nodeType","hydrate","insertedVnodeQueue","init","initComponent","emptyNodeAt","createChildren","createElm","appendChild","createTextNode","insert","ref","parentNode","insertBefore","invokeCreateHooks","emptyNode","createRmCb","childElm","listeners","remove","removeNode","removeChild","removeAndInvokeRemoveHook","rm","removeVnodes","vnodes","startIdx","endIdx","ch","creatingElmInVPre","parentElm","refElm","nested","ownerArray","index","createElementNS","createComment","patch","oldVnode","removeOnly","isRealElement","hasAttribute","removeAttribute","invokeInsertHook","oldElm","_leaveCb","nextSibling","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","dynamicArgAttribute","startTagClose","isPlainTextElement","isUnaryTag","parseHtml","html","stack","lastTag","textEnd","endTagMatch","match","advance","parseEndTag","startTagMatch","parseStartTag","handleStartTag","substring","chars","start","end","unarySlash","unary","attrs","lowerCasedTag","n","attr","compileToFunctions","template","root","h","namespaceMap","svg","math","multiple","setAttribute","namespace","newNode","referenceNode","child","setTextContent","textContent","setStyleScope","scopeId","uid","mount","initMixin","_init","_uid","_isVue","_self","$mount","idToTemplate","innerHTML","process","env","NODE_ENV","getOuterHTML","outerHTML","container","cloneNode"],"mappings":"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"}