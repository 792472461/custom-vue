{"version":3,"file":"vue.js","sources":["../../src/utils/index.js","../../src/observe/index.js","../../src/instance/state.js","../../src/vdom/vnode.js","../../src/instance/lifecycle.js","../../src/instance/proxy.js","../../src/vdom/helpers/normalize-children.js","../../src/vdom/create-elemnt.js","../../src/instance/render.js","../../src/vdom/patch.js","../../src/compiler/parse-html.js","../../src/compiler/index.js","../../src/utils/node-ops.js","../../src/instance/init.js","../../src/index.js"],"sourcesContent":["const _toString = Object.prototype.toString;\n\nvar isHTMLTag = makeMap(\n  \"html,body,base,head,link,meta,style,title,\" +\n    \"address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,\" +\n    \"div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,\" +\n    \"a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,\" +\n    \"s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,\" +\n    \"embed,object,param,source,canvas,script,noscript,del,ins,\" +\n    \"caption,col,colgroup,table,thead,tbody,td,th,tr,\" +\n    \"button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,\" +\n    \"output,progress,select,textarea,\" +\n    \"details,dialog,menu,menuitem,summary,\" +\n    \"content,element,shadow,template,blockquote,iframe,tfoot\"\n);\n\n// this map is intentionally selective, only covering SVG elements that may\n// contain child elements.\nvar isSVG = makeMap(\n  \"svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,\" +\n    \"foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,\" +\n    \"polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view\",\n  true\n);\n\nexport function isObject(obj) {\n  return obj !== null && typeof obj === \"object\";\n}\n\nexport function def(obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true,\n  });\n}\n\nexport function query(el) {\n  if (typeof el === \"string\") {\n    const selected = document.querySelector(el);\n    if (!selected) {\n      return document.createElement(\"div\");\n    }\n    return selected;\n  } else {\n    return el;\n  }\n}\n\nexport const warn = console.error;\n\nexport function isPlainObject(obj) {\n  return _toString.call(obj) === \"[object Object]\";\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function hasOwn(obj, key) {\n  return hasOwnProperty.call(obj, key);\n}\n\nexport const noop = () => {};\n\nexport function makeMap(str, expectsLowerCase) {\n  const map = Object.create(null);\n  const list = str.split(\",\");\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase ? (val) => map[val.toLowerCase()] : (val) => map[val];\n}\n\n/**\n * Check if value is primitive.\n */\nexport function isPrimitive(value) {\n  return (\n    typeof value === \"string\" ||\n    typeof value === \"number\" ||\n    // $flow-disable-line\n    typeof value === \"symbol\" ||\n    typeof value === \"boolean\"\n  );\n}\n\nexport function isDef(v) {\n  return v !== undefined && v !== null;\n}\n\nexport function isUndef(v) {\n  return v === undefined || v === null;\n}\n\nexport function parsePlatformTagName(_) {\n  return _;\n}\n\nexport function isReservedTag(tag) {\n  return isHTMLTag(tag) || isSVG(tag);\n}\n\nexport function getTagNamespace(tag) {\n  if (isSVG(tag)) {\n    return \"svg\";\n  }\n  // basic support for MathML\n  // note it doesn't support other MathML elements being component roots\n  if (tag === \"math\") {\n    return \"math\";\n  }\n}\n\n/**\n * Camelize a hyphen-delimited string.\n */\nconst camelizeRE = /-(\\w)/g;\nexport const camelize = cached((str) => {\n  return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : \"\"));\n});\n\n/**\n * Create a cached version of a pure function.\n */\nexport function cached(fn) {\n  const cache = Object.create(null);\n  return function cachedFn(str) {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n}\n\nexport function createFunction(code, errors) {\n  try {\n    return new Function(code);\n  } catch (err) {\n    errors.push({ err, code });\n    return noop;\n  }\n}\n","import { isObject, def } from \"../utils/index\";\n\nexport class Observe {\n  constructor(value) {\n    this.value = value;\n    this.vmCount = 0;\n    def(value, \"__ob__\", this);\n    if (Array.isArray(value)) {\n      this.observeArray(value);\n    } else {\n      this.walk(value);\n    }\n  }\n  walk(data) {\n    let keys = Object.keys(data);\n    for (let i = 0; i < keys.length; i++) {\n      let key = keys[i];\n      let value = data[key];\n      defineReactive(data, key, value);\n    }\n  }\n  observeArray(items) {\n    for (let i = 0, l = items.length; i < l; i++) {\n      observe(items[i]);\n    }\n  }\n}\n\nfunction defineReactive(data, key, value) {\n  observe(value);\n  Object.defineProperty(data, key, {\n    get() {\n      return value;\n    },\n    set(newVal) {\n      if (newVal === value) return;\n      value = newVal;\n    },\n  });\n}\n\nexport function observe(data) {\n  if (!isObject(data)) {\n    return;\n  }\n  let ob;\n  new Observe(data);\n}\n","import { observe } from \"../observe/index\";\r\nimport { isPlainObject, warn, hasOwn, noop } from \"../utils/index\";\r\n\r\nconst sharedPropertyDefinition = {\r\n  enumerable: true,\r\n  configurable: true,\r\n  get: noop,\r\n  set: noop,\r\n};\r\n\r\nexport function initState(vm) {\r\n  const options = vm.$options;\r\n  if (options.props) {\r\n    initProps(vm, options.props);\r\n  }\r\n  if (options.methods) {\r\n    initMethods(vm, options.methods);\r\n  }\r\n  if (options.data) {\r\n    initData(vm);\r\n  } else {\r\n    observe((vm._data = {}), true /* asRootData */);\r\n  }\r\n  if (options.computed) {\r\n  }\r\n  if (options.watch) {\r\n  }\r\n}\r\n\r\nfunction initProps() {}\r\n\r\nfunction initData(vm) {\r\n  console.log(vm.$options.data);\r\n  let data = vm.$options.data;\r\n  data = vm._data = typeof data === \"function\" ? getData(data) : data;\r\n  console.log(data);\r\n  if (!isPlainObject(data)) {\r\n    data = {};\r\n    warn(\r\n      \"data functions should return an object:\\n\" +\r\n        \"https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function\",\r\n      vm\r\n    );\r\n  }\r\n  const keys = Object.keys(data);\r\n  const props = vm.$options.props;\r\n  const methods = vm.$options.methods;\r\n  let i = keys.length;\r\n  while (i--) {\r\n    const key = keys[i];\r\n    if (methods && hasOwn(methods, key)) {\r\n      warn(`Method \"${key}\" has already been defined as a data property.`, vm);\r\n    }\r\n    if (props && hasOwn(props, key)) {\r\n      warn(\r\n        `The data property \"${key}\" is already declared as a prop. ` +\r\n          `Use prop default value instead.`,\r\n        vm\r\n      );\r\n    } else if (!isReserved(key)) {\r\n      proxy(vm, `_data`, key);\r\n    }\r\n  }\r\n  // console.log(data);\r\n  observe(data);\r\n}\r\n\r\nfunction initMethods() {}\r\n\r\nexport function getData(data, vm) {\r\n  // #7573 disable dep collection when invoking data getters\r\n  try {\r\n    return data.call(vm, vm);\r\n  } catch (e) {\r\n    // handleError(e, vm, `data()`);\r\n    return {};\r\n  } finally {\r\n  }\r\n}\r\n\r\nexport function proxy(target, sourceKey, key) {\r\n  sharedPropertyDefinition.get = function proxyGetter() {\r\n    return this[sourceKey][key];\r\n  };\r\n  sharedPropertyDefinition.set = function proxySetter(val) {\r\n    this[sourceKey][key] = val;\r\n  };\r\n  Object.defineProperty(target, key, sharedPropertyDefinition);\r\n}\r\n\r\nexport function isReserved(str) {\r\n  const c = (str + \"\").charCodeAt(0);\r\n  return c === 0x24 || c === 0x5f;\r\n}\r\n","export const createEmptyVNode = (text) => {\n  const node = new VNode();\n  node.text = text;\n  node.isComment = true;\n  return node;\n};\n\nexport function createTextVNode(val) {\n  return new VNode(undefined, undefined, undefined, String(val));\n}\n\nexport function cloneVNode(vnode) {\n  const cloned = new VNode(\n    vnode.tag,\n    vnode.data,\n    // #7975\n    // clone children array to avoid mutating original in case of cloning\n    // a child.\n    vnode.children && vnode.children.slice(),\n    vnode.text,\n    vnode.elm,\n    vnode.context,\n    vnode.componentOptions,\n    vnode.asyncFactory\n  );\n  cloned.ns = vnode.ns;\n  cloned.isStatic = vnode.isStatic;\n  cloned.key = vnode.key;\n  cloned.isComment = vnode.isComment;\n  cloned.fnContext = vnode.fnContext;\n  cloned.fnOptions = vnode.fnOptions;\n  cloned.fnScopeId = vnode.fnScopeId;\n  cloned.asyncMeta = vnode.asyncMeta;\n  cloned.isCloned = true;\n  return cloned;\n}\n\nexport default class VNode {\n  // tag: string | void;\n  // data: VNodeData | void;\n  // children: ?Array<VNode>;\n  // text: string | void;\n  // elm: Node | void;\n  // ns: string | void;\n  // context: Component | void; // rendered in this component's scope\n  // key: string | number | void;\n  // componentOptions: VNodeComponentOptions | void;\n  // componentInstance: Component | void; // component instance\n  // parent: VNode | void; // component placeholder node\n\n  // // strictly internal\n  // raw: boolean; // contains raw HTML? (server only)\n  // isStatic: boolean; // hoisted static node\n  // isRootInsert: boolean; // necessary for enter transition check\n  // isComment: boolean; // empty comment placeholder?\n  // isCloned: boolean; // is a cloned node?\n  // isOnce: boolean; // is a v-once node?\n  // asyncFactory: Function | void; // async component factory function\n  // asyncMeta: Object | void;\n  // isAsyncPlaceholder: boolean;\n  // ssrContext: Object | void;\n  // fnContext: Component | void; // real context vm for functional nodes\n  // fnOptions: ?ComponentOptions; // for SSR caching\n  // devtoolsMeta: ?Object; // used to store functional render context for devtools\n  // fnScopeId: ?string; // functional scope id support\n\n  constructor(\n    tag,\n    data,\n    children,\n    text,\n    elm,\n    context,\n    componentOptions,\n    asyncFactory\n  ) {\n    this.tag = tag;\n    this.data = data;\n    this.children = children;\n    this.text = text;\n    this.elm = elm;\n    this.ns = undefined;\n    this.context = context;\n    this.fnContext = undefined;\n    this.fnOptions = undefined;\n    this.fnScopeId = undefined;\n    this.key = data && data.key;\n    this.componentOptions = componentOptions;\n    this.componentInstance = undefined;\n    this.parent = undefined;\n    this.raw = false;\n    this.isStatic = false;\n    this.isRootInsert = true;\n    this.isComment = false;\n    this.isCloned = false;\n    this.isOnce = false;\n    this.asyncFactory = asyncFactory;\n    this.asyncMeta = undefined;\n    this.isAsyncPlaceholder = false;\n  }\n\n  // DEPRECATED: alias for componentInstance for backwards compat.\n  /* istanbul ignore next */\n  get child() {\n    return this.componentInstance;\n  }\n}\n","import { createEmptyVNode } from \"../vdom/vnode\";\nimport Watcher from \"../observe/watcher\";\nimport { noop, warn } from \"../utils/index\";\n\nexport function mountComponent(vm, el, hydrating) {\n  vm.$el = el;\n  if (!vm.$options.render) {\n    vm.$options.render = createEmptyVNode;\n\n    // if (\n    //   (vm.$options.template && vm.$options.template.charAt(0) !== \"#\") ||\n    //   vm.$options.el ||\n    //   el\n    // ) {\n    //   warn(\n    //     \"You are using the runtime-only build of Vue where the template \" +\n    //       \"compiler is not available. Either pre-compile the templates into \" +\n    //       \"render functions, or use the compiler-included build.\",\n    //     vm\n    //   );\n    // } else {\n    //   warn(\n    //     \"Failed to mount component: template or render function not defined.\",\n    //     vm\n    //   );\n    // }\n  }\n  console.log(\"beforeMount\");\n  let updateComponent;\n  updateComponent = () => {\n    vm._update(vm._render(), hydrating);\n    // vm._render();\n  };\n  updateComponent();\n  // new Watcher(\n  //   vm,\n  //   updateComponent,\n  //   noop,\n  //   {\n  //     before() {\n  //       if (vm._isMounted && !vm._isDestroyed) {\n  //         // callHook(vm, \"beforeUpdate\");\n  //         console.log(vm, \"beforeUpdate\");\n  //       }\n  //     },\n  //   },\n  //   true /* isRenderWatcher */\n  // );\n}\nexport let activeInstance;\n\nexport function setActiveInstance(vm) {\n  const prevActiveInstance = activeInstance;\n  activeInstance = vm;\n  return () => {\n    activeInstance = prevActiveInstance;\n  };\n}\n\nexport function lifecycleMixin(Vue) {\n  Vue.prototype._update = function (vnode, hydrating) {\n    const vm = this;\n    const prevEl = vm.$el;\n    const prevVnode = vm._vnode;\n    const restoreActiveInstance = setActiveInstance(vm);\n\n    vm._vnode = vnode;\n    if (!prevVnode) {\n      // initial render\n      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);\n    } else {\n      // updates\n      vm.$el = vm.__patch__(prevVnode, vnode);\n    }\n    restoreActiveInstance();\n  };\n}\n","/* not type checking this file because flow doesn't play well with Proxy */\n\nimport { warn, makeMap } from \"../utils/index\";\n\nlet initProxy;\n\nconst warnNonPresent = (target, key) => {\n  warn(\n    `Property or method \"${key}\" is not defined on the instance but ` +\n      \"referenced during render. Make sure that this property is reactive, \" +\n      \"either in the data option, or for class-based components, by \" +\n      \"initializing the property. \" +\n      \"See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.\",\n    target\n  );\n};\n\nconst warnReservedPrefix = (target, key) => {\n  warn(\n    `Property \"${key}\" must be accessed with \"$data.${key}\" because ` +\n      'properties starting with \"$\" or \"_\" are not proxied in the Vue instance to ' +\n      \"prevent conflicts with Vue internals. \" +\n      \"See: https://vuejs.org/v2/api/#data\",\n    target\n  );\n};\n\nconst hasProxy = typeof Proxy !== \"undefined\";\n\nif (hasProxy) {\n  const isBuiltInModifier = makeMap(\n    \"stop,prevent,self,ctrl,shift,alt,meta,exact\"\n  );\n  new Proxy(Object.create(null), {\n    set(target, key, value) {\n      if (isBuiltInModifier(key)) {\n        warn(`Avoid overwriting built-in modifier in config.keyCodes: .${key}`);\n        return false;\n      } else {\n        target[key] = value;\n        return true;\n      }\n    },\n  });\n}\n\nconst hasHandler = {\n  has(target, key) {\n    const has = key in target;\n    const isAllowed =\n      allowedGlobals(key) ||\n      (typeof key === \"string\" &&\n        key.charAt(0) === \"_\" &&\n        !(key in target.$data));\n    if (!has && !isAllowed) {\n      if (key in target.$data) warnReservedPrefix(target, key);\n      else warnNonPresent(target, key);\n    }\n    return has || !isAllowed;\n  },\n};\n\nconst getHandler = {\n  get(target, key) {\n    if (typeof key === \"string\" && !(key in target)) {\n      if (key in target.$data) warnReservedPrefix(target, key);\n      else warnNonPresent(target, key);\n    }\n    return target[key];\n  },\n};\n\ninitProxy = function initProxy(vm) {\n  if (hasProxy) {\n    // determine which proxy handler to use\n    const options = vm.$options;\n    const handlers =\n      options.render && options.render._withStripped ? getHandler : hasHandler;\n    vm._renderProxy = new Proxy(vm, handlers);\n  } else {\n    vm._renderProxy = vm;\n  }\n};\n\nexport { initProxy };\n","import { isPrimitive } from \"../../utils/index\";\nimport { createTextVNode } from \"../vnode\";\n\n// The template compiler attempts to minimize the need for normalization by\n// statically analyzing the template at compile time.\n//\n// For plain HTML markup, normalization can be completely skipped because the\n// generated render function is guaranteed to return Array<VNode>. There are\n// two cases where extra normalization is needed:\n\n// 1. When the children contains components - because a functional component\n// may return an Array instead of a single root. In this case, just a simple\n// normalization is needed - if any child is an Array, we flatten the whole\n// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep\n// because functional components already normalize their own children.\nexport function simpleNormalizeChildren(children) {\n  for (let i = 0; i < children.length; i++) {\n    if (Array.isArray(children[i])) {\n      return Array.prototype.concat.apply([], children);\n    }\n  }\n  return children;\n}\n\n// 2. When the children contains constructs that always generated nested Arrays,\n// e.g. <template>, <slot>, v-for, or when the children is provided by user\n// with hand-written render functions / JSX. In such cases a full normalization\n// is needed to cater to all possible types of children values.\nexport function normalizeChildren(children) {\n  return isPrimitive(children)\n    ? [createTextVNode(children)]\n    : Array.isArray(children)\n    ? normalizeArrayChildren(children)\n    : undefined;\n}\n\nfunction normalizeArrayChildren(children, nextIndex) {\n  const res = [];\n  let i, c, lastIndex, last;\n  for (i = 0; i < children.length; i++) {\n    c = children[i];\n    console.log(c);\n\n    if (isUndef(c) || typeof c === \"boolean\") continue;\n    lastIndex = res.length - 1;\n    last = res[lastIndex];\n    if (Array.isArray(c)) {\n      if (c.length > 0) {\n        c = normalizeArrayChildren(c, `${nestedIndex || \"\"}_${i}`);\n        // merge adjacent text nodes\n        if (isTextNode(c[0]) && isTextNode(last)) {\n          res[lastIndex] = createTextVNode(last.text + (c[0]).text);\n          c.shift();\n        }\n        res.push.apply(res, c);\n      }\n    } else if (isPrimitive(c)) {\n      if (isTextNode(last)) {\n        // merge adjacent text nodes\n        // this is necessary for SSR hydration because text nodes are\n        // essentially merged when rendered to HTML strings\n        res[lastIndex] = createTextVNode(last.text + c);\n      } else if (c !== \"\") {\n        // convert primitive to vnode\n        res.push(createTextVNode(c));\n      }\n    } else {\n      if (isTextNode(c) && isTextNode(last)) {\n        // merge adjacent text nodes\n        res[lastIndex] = createTextVNode(last.text + c.text);\n      } else {\n        // default key for nested array children (likely generated by v-for)\n        if (\n          isTrue(children._isVList) &&\n          isDef(c.tag) &&\n          isUndef(c.key) &&\n          isDef(nestedIndex)\n        ) {\n          c.key = `__vlist${nestedIndex}_${i}__`;\n        }\n        res.push(c);\n      }\n    }\n  }\n  return res;\n}\n","import {\n  isPrimitive,\n  isDef,\n  isUndef,\n  noop,\n  parsePlatformTagName,\n  isReservedTag,\n  getTagNamespace,\n} from \"../utils/index\";\nimport VNode, { createEmptyVNode } from \"./vnode\";\nimport {\n  simpleNormalizeChildren,\n  normalizeChildren,\n} from \"./helpers/normalize-children\";\n\nconst SIMPLE_NORMALIZE = 1;\nconst ALWAYS_NORMALIZE = 2;\nexport function createElement(\n  context,\n  tag,\n  data,\n  children,\n  normalizationType,\n  alwaysNormalize\n) {\n  if (Array.isArray(data) || isPrimitive(data)) {\n    normalizationType = children;\n    children = data;\n    data = undefined;\n  }\n  if (alwaysNormalize === true) {\n    normalizationType = ALWAYS_NORMALIZE;\n  }\n  return _createElement(context, tag, data, children, normalizationType);\n}\n\nexport function _createElement(\n  context,\n  tag,\n  data,\n  children,\n  normalizationType\n) {\n  // 首先对data校验  data不能是响应式的\n  if (isDef(data) && isDef(data.__ob__)) {\n    warn(\n      `Avoid using observed data object as vnode data: ${JSON.stringify(\n        data\n      )}\\n` + \"Always create fresh vnode data objects in each render!\",\n      context\n    );\n    return createEmptyVNode();\n  }\n  if (isDef(data) && isDef(data.is)) {\n    tag = data.is;\n  }\n  if (!tag) {\n    // in case of component :is set to falsy value\n    return createEmptyVNode();\n  }\n  console.log(arguments);\n\n  // if (Array.isArray(children) && typeof children[0] === 'function') {\n  // }\n  if (normalizationType === ALWAYS_NORMALIZE) {\n    children = normalizeChildren(children);\n  } else if (normalizationType === SIMPLE_NORMALIZE) {\n    children = simpleNormalizeChildren(children);\n  }\n  let vnode, ns;\n  if (typeof tag === \"string\") {\n    let Ctor;\n    console.log(tag);\n    ns = (context.$vnode && context.$vnode.ns) || getTagNamespace(tag);\n\n    // 这里先判断是不是html基本标签\n    if (isReservedTag(tag)) {\n      if (isDef(data) && isDef(data.nativeOn)) {\n        warn(\n          \"The .native modifier for v-on is only valid on components but it was used on <\" +\n            tag +\n            \">.\",\n          context\n        );\n      }\n      vnode = new VNode(\n        parsePlatformTagName(tag),\n        data,\n        children,\n        undefined,\n        undefined,\n        context\n      );\n    } else if (\n      (!data || !data.pre) &&\n      isDef((Ctor = resolveAsset(context.$options, \"components\", tag)))\n    ) {\n      // 组件逻辑\n    } else {\n      vnode = new VNode(tag, data, children, undefined, undefined, context);\n    }\n\n    console.log(vnode);\n  } else {\n    // 组件逻辑\n  }\n\n  console.log(vnode, 'vnode')\n  if (Array.isArray(vnode)) {\n    return vnode;\n  } else if (isDef(vnode)) {\n    // if (isDef(ns)) applyNS(vnode, ns);\n    // if (isDef(data)) registerDeepBindings(data);\n    return vnode;\n  } else {\n    return createEmptyVNode();\n  }\n}\n","import { createElement } from \"../vdom/create-elemnt\";\nimport VNode, { createEmptyVNode } from \"../vdom/vnode\";\n\nexport function initRender(vm) {\n  // vm._vnode = null; // the root of the child tree\n  // vm._staticTrees = null; // v-once cached trees\n  // const options = vm.$options;\n  // const parentVnode = (vm.$vnode = options._parentVnode); // the placeholder node in parent tree\n  // const renderContext = parentVnode && parentVnode.context;\n  vm._c = (a, b, c, d) => createElement(vm, a, b, c, d, false);\n  // normalization is always applied for the public version, used in\n  // user-written render functions.\n  vm.$createElement = (a, b, c, d) => createElement(vm, a, b, c, d, true);\n}\n\nexport function renderMixin(Vue) {\n  Vue.prototype._render = function () {\n    const vm = this;\n    const { render, _parentVnode } = vm.$options;\n    console.log(render)\n    let vnode;\n    try {\n      vnode = render.call(vm._renderProxy, vm.$createElement);\n    } catch (error) {}\n\n    if (Array.isArray(vnode) && vnode.length === 1) {\n      vnode = vnode[0];\n    }\n    // return empty vnode in case the render function errored out\n    if (!(vnode instanceof VNode)) {\n      if (Array.isArray(vnode)) {\n        warn(\n          \"Multiple root nodes returned from render function. Render function \" +\n            \"should return a single root node.\",\n          vm\n        );\n      }\n      vnode = createEmptyVNode();\n    }\n    // set parent\n    vnode.parent = _parentVnode;\n    return vnode;\n  };\n}\n","import { isDef, isUndef, isReservedTag, isPrimitive } from \"../utils/index\";\nimport VNode, { cloneVNode } from \"./vnode\";\nconst hooks = [\"create\", \"activate\", \"update\", \"remove\", \"destroy\"];\n\nexport const SSR_ATTR = \"data-server-rendered\";\nexport const ignoredElements = [];\nconst unknownElementCache = Object.create(null);\n\nexport function isUnknownElement(tag) {\n  /* istanbul ignore if */\n\n  if (isReservedTag(tag)) {\n    return false;\n  }\n  tag = tag.toLowerCase();\n  /* istanbul ignore if */\n  if (unknownElementCache[tag] != null) {\n    return unknownElementCache[tag];\n  }\n  const el = document.createElement(tag);\n  if (tag.indexOf(\"-\") > -1) {\n    // http://stackoverflow.com/a/28210364/1070244\n    return (unknownElementCache[tag] =\n      el.constructor === window.HTMLUnknownElement ||\n      el.constructor === window.HTMLElement);\n  } else {\n    return (unknownElementCache[tag] = /HTMLUnknownElement/.test(\n      el.toString()\n    ));\n  }\n}\n\nexport function createPatchFunction(backend) {\n  let i, j;\n  const cbs = {};\n  console.log(backend);\n\n  const { modules, nodeOps } = backend;\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      if (isDef(modules[j][hooks[i]])) {\n        cbs[hooks[i]].push(modules[j][hooks[i]]);\n      }\n    }\n  }\n\n  function invokeDestroyHook(vnode) {\n    let i, j;\n    const data = vnode.data;\n    if (isDef(data)) {\n      if (isDef((i = data.hook)) && isDef((i = i.destroy))) i(vnode);\n      for (i = 0; i < cbs.destroy.length; ++i) cbs.destroy[i](vnode);\n    }\n    if (isDef((i = vnode.children))) {\n      for (j = 0; j < vnode.children.length; ++j) {\n        invokeDestroyHook(vnode.children[j]);\n      }\n    }\n  }\n\n  function isUnknownElement(vnode, inVPre) {\n    if (!vnode) {\n      return;\n    }\n    return (\n      !inVPre &&\n      !vnode.ns &&\n      !(\n        ignoredElements.length &&\n        ignoredElements.some((ignore) => {\n          return isRegExp(ignore)\n            ? ignore.test(vnode.tag)\n            : ignore === vnode.tag;\n        })\n      ) &&\n      isUnknownElement(vnode.tag)\n    );\n  }\n\n  function assertNodeMatch(node, vnode, inVPre) {\n    if (isDef(vnode.tag)) {\n      return (\n        vnode.tag.indexOf(\"vue-component\") === 0 ||\n        (!isUnknownElement(vnode, inVPre) &&\n          vnode.tag.toLowerCase() ===\n            (node.tagName && node.tagName.toLowerCase()))\n      );\n    } else {\n      return node.nodeType === (vnode.isComment ? 8 : 3);\n    }\n  }\n\n  function hydrate(elm, vnode, insertedVnodeQueue, inVPre) {\n    let i;\n    const { tag, data, children } = vnode;\n    inVPre = inVPre || (data && data.pre);\n    vnode.elm = elm;\n\n    if (isTrue(vnode.isComment) && isDef(vnode.asyncFactory)) {\n      vnode.isAsyncPlaceholder = true;\n      return true;\n    }\n    // assert node match\n\n    if (!assertNodeMatch(elm, vnode, inVPre)) {\n      return false;\n    }\n\n    if (isDef(data)) {\n      if (isDef((i = data.hook)) && isDef((i = i.init)))\n        i(vnode, true /* hydrating */);\n      if (isDef((i = vnode.componentInstance))) {\n        // child component. it should have hydrated its own tree.\n        initComponent(vnode, insertedVnodeQueue);\n        return true;\n      }\n    }\n  }\n\n  function emptyNodeAt(elm) {\n    return new VNode(\n      nodeOps.tagName(elm).toLowerCase(),\n      {},\n      [],\n      undefined,\n      elm\n    );\n  }\n  function createChildren(vnode, children, insertedVnodeQueue) {\n    if (Array.isArray(children)) {\n      for (let i = 0; i < children.length; ++i) {\n        createElm(\n          children[i],\n          insertedVnodeQueue,\n          vnode.elm,\n          null,\n          true,\n          children,\n          i\n        );\n      }\n    } else if (isPrimitive(vnode.text)) {\n      nodeOps.appendChild(\n        vnode.elm,\n        nodeOps.createTextNode(String(vnode.text))\n      );\n    }\n  }\n\n  function insert(parent, elm, ref) {\n    if (isDef(parent)) {\n      if (isDef(ref)) {\n        if (nodeOps.parentNode(ref) === parent) {\n          nodeOps.insertBefore(parent, elm, ref);\n        }\n      } else {\n        nodeOps.appendChild(parent, elm);\n      }\n    }\n  }\n\n  function invokeCreateHooks(vnode, insertedVnodeQueue) {\n    for (let i = 0; i < cbs.create.length; ++i) {\n      cbs.create[i](emptyNode, vnode);\n    }\n    i = vnode.data.hook; // Reuse variable\n    if (isDef(i)) {\n      if (isDef(i.create)) i.create(emptyNode, vnode);\n      if (isDef(i.insert)) insertedVnodeQueue.push(vnode);\n    }\n  }\n  function createRmCb(childElm, listeners) {\n    function remove() {\n      if (--remove.listeners === 0) {\n        removeNode(childElm);\n      }\n    }\n    remove.listeners = listeners;\n    return remove;\n  }\n\n  function removeNode(el) {\n    const parent = nodeOps.parentNode(el);\n    // element may have already been removed due to v-html / v-text\n    if (isDef(parent)) {\n      nodeOps.removeChild(parent, el);\n    }\n  }\n\n  function removeAndInvokeRemoveHook(vnode, rm) {\n    if (isDef(rm) || isDef(vnode.data)) {\n      let i;\n      const listeners = cbs.remove.length + 1;\n      if (isDef(rm)) {\n        // we have a recursively passed down rm callback\n        // increase the listeners count\n        rm.listeners += listeners;\n      } else {\n        // directly removing\n        rm = createRmCb(vnode.elm, listeners);\n      }\n      // recursively invoke hooks on child component root node\n      if (\n        isDef((i = vnode.componentInstance)) &&\n        isDef((i = i._vnode)) &&\n        isDef(i.data)\n      ) {\n        removeAndInvokeRemoveHook(i, rm);\n      }\n      for (i = 0; i < cbs.remove.length; ++i) {\n        cbs.remove[i](vnode, rm);\n      }\n      if (isDef((i = vnode.data.hook)) && isDef((i = i.remove))) {\n        i(vnode, rm);\n      } else {\n        rm();\n      }\n    } else {\n      removeNode(vnode.elm);\n    }\n  }\n\n  function removeVnodes(vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      const ch = vnodes[startIdx];\n      if (isDef(ch)) {\n        if (isDef(ch.tag)) {\n          removeAndInvokeRemoveHook(ch);\n          invokeDestroyHook(ch);\n        } else {\n          // Text node\n          removeNode(ch.elm);\n        }\n      }\n    }\n  }\n\n  let creatingElmInVPre = 0;\n\n  function createElm(\n    vnode,\n    insertedVnodeQueue,\n    parentElm,\n    refElm,\n    nested,\n    ownerArray,\n    index\n  ) {\n    const data = vnode.data;\n    const children = vnode.children;\n    const tag = vnode.tag;\n    if (isDef(tag)) {\n      if (data && data.pre) {\n        creatingElmInVPre++;\n      }\n      if (isUnknownElement(vnode, creatingElmInVPre)) {\n        warn(\n          \"Unknown custom element: <\" +\n            tag +\n            \"> - did you \" +\n            \"register the component correctly? For recursive components, \" +\n            'make sure to provide the \"name\" option.',\n          vnode.context\n        );\n      }\n      vnode.elm = vnode.ns\n        ? nodeOps.createElementNS(vnode.ns, tag)\n        : nodeOps.createElement(tag, vnode);\n      createChildren(vnode, children, insertedVnodeQueue);\n      if (isDef(data)) {\n        invokeCreateHooks(vnode, insertedVnodeQueue);\n      }\n      insert(parentElm, vnode.elm, refElm);\n    } else if (vnode.isComment === true) {\n      vnode.elm = nodeOps.createComment(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    } else {\n      vnode.elm = nodeOps.createTextNode(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    }\n  }\n\n  return function patch(oldVnode, vnode, hydrating, removeOnly) {\n    if (isUndef(vnode)) {\n      if (isDef(oldVnode)) invokeDestroyHook(oldVnode);\n      return;\n    }\n    let isInitialPatch = false;\n    const insertedVnodeQueue = [];\n    if (isUndef(oldVnode)) {\n    } else {\n      console.log(oldVnode);\n      const isRealElement = isDef(oldVnode.nodeType);\n      console.log(isRealElement);\n      if (isRealElement) {\n        if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {\n          oldVnode.removeAttribute(SSR_ATTR);\n          hydrating = true;\n        }\n        if (hydrating === true) {\n          if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\n            invokeInsertHook(vnode, insertedVnodeQueue, true);\n            return oldVnode;\n          }\n          warn(\n            \"The client-side rendered virtual DOM tree is not matching \" +\n              \"server-rendered content. This is likely caused by incorrect \" +\n              \"HTML markup, for example nesting block-level elements inside \" +\n              \"<p>, or missing <tbody>. Bailing hydration and performing \" +\n              \"full client-side render.\"\n          );\n        }\n        // either not server-rendered, or hydration failed.\n        // create an empty node and replace it\n        oldVnode = emptyNodeAt(oldVnode);\n      }\n      const oldElm = oldVnode.elm;\n      const parentElm = nodeOps.parentNode(oldElm);\n      console.log(parentElm);\n      createElm(\n        vnode,\n        insertedVnodeQueue,\n        oldElm._leaveCb ? null : parentElm,\n        nodeOps.nextSibling(oldElm)\n      );\n\n      if (isDef(parentElm)) {\n        removeVnodes([oldVnode], 0, 0);\n      } else if (isDef(oldVnode.tag)) {\n        invokeDestroyHook(oldVnode);\n      }\n    }\n\n    console.log(oldVnode, vnode, hydrating, removeOnly);\n  };\n}\n","import { makeMap, warn } from \"../utils/index\";\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\nconst dynamicArgAttribute = /^\\s*((?:v-[\\w-]+:|@|:|#)\\[[^=]+\\][^\\s\"'<>\\/=]*)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\nconst doctype = /^<!DOCTYPE [^>]+>/i;\n// #7298: escape - to avoid being passed as HTML comment when inlined in page\nconst comment = /^<!\\--/;\nconst conditionalComment = /^<!\\[/;\nconst decodingMap = {\n  \"&lt;\": \"<\",\n  \"&gt;\": \">\",\n  \"&quot;\": '\"',\n  \"&amp;\": \"&\",\n  \"&#10;\": \"\\n\",\n  \"&#9;\": \"\\t\",\n  \"&#39;\": \"'\",\n};\nconst encodedAttr = /&(?:lt|gt|quot|amp|#39);/g;\nconst encodedAttrWithNewLines = /&(?:lt|gt|quot|amp|#39|#10|#9);/g;\nexport const isPlainTextElement = makeMap(\"script,style,textarea\", true);\n\nexport const isUnaryTag = makeMap(\n  \"area,base,br,col,embed,frame,hr,img,input,isindex,keygen,\" +\n    \"link,meta,param,source,track,wbr\"\n);\n\nexport function parseHtml(html, options = {}) {\n  const stack = [];\n  let index = 0;\n  let last, lastTag;\n  while (html) {\n    last = html;\n    if (!lastTag || !isPlainTextElement(lastTag)) {\n      let textEnd = html.indexOf(\"<\");\n      if (textEnd === 0) {\n        // End tag:\n        const endTagMatch = html.match(endTag);\n        if (endTagMatch) {\n          const curIndex = index;\n          advance(endTagMatch[0].length);\n          parseEndTag(endTagMatch[1], curIndex, index);\n          continue;\n        }\n        // Start tag:\n        const startTagMatch = parseStartTag();\n        console.log(startTagMatch, \"startTagMatch\");\n\n        if (startTagMatch) {\n          handleStartTag(startTagMatch);\n          // if (shouldIgnoreFirstNewline(startTagMatch.tagName, html)) {\n          //   advance(1);\n          // }\n          continue;\n        }\n      }\n      let text, rest, next;\n      if (textEnd >= 0) {\n        text = html.substring(0, textEnd);\n      }\n      if (textEnd < 0) {\n        text = html;\n      }\n      if (text) {\n        advance(text.length);\n        chars(text, index - text.length, index);\n      }\n    }\n  }\n  function createASTElement(tag, attrs) {}\n\n  function chars(text, start, end) {\n    console.log(\"文本\", text, start, end);\n  }\n  function handleStartTag(match) {\n    const tagName = match.tagName;\n    const unarySlash = match.unarySlash;\n    const unary = isUnaryTag(tagName) || !!unarySlash;\n    const l = match.attrs.length;\n    const attrs = new Array(l);\n    if (!unary) {\n      stack.push({\n        tag: tagName,\n        lowerCasedTag: tagName.toLowerCase(),\n        attrs: attrs,\n        start: match.start,\n        end: match.end,\n      });\n      lastTag = tagName;\n    }\n    console.log(stack);\n  }\n\n  function advance(n) {\n    index += n;\n    html = html.substring(n);\n  }\n\n  function parseStartTag() {\n    const start = html.match(startTagOpen);\n    if (start) {\n      const match = {\n        tagName: start[1],\n        attrs: [],\n        start: index,\n      };\n      advance(start[0].length);\n\n      let end, attr;\n      while (\n        !(end = html.match(startTagClose)) &&\n        (attr = html.match(dynamicArgAttribute) || html.match(attribute))\n      ) {\n        attr.start = index;\n        advance(attr[0].length);\n        attr.end = index;\n        match.attrs.push(attr);\n      }\n      if (end) {\n        match.unarySlash = end[1];\n        advance(end[0].length);\n        match.end = index;\n        return match;\n      }\n    }\n  }\n  function parseEndTag(tagName, start, end) {\n    console.log(\"结束标签:\", tagName);\n    let pos, lowerCasedTagName;\n    if (start == null) start = index;\n    if (end == null) end = index;\n    if (tagName) {\n      lowerCasedTagName = tagName.toLowerCase();\n      for (pos = stack.length - 1; pos >= 0; pos--) {\n        if (stack[pos].lowerCasedTag === lowerCasedTagName) {\n          break;\n        }\n      }\n    } else {\n      // If no tag name is provided, clean shop\n      pos = 0;\n    }\n    if (pos >= 0) {\n      // Close all the open elements, up the stack\n      for (let i = stack.length - 1; i >= pos; i--) {\n        if ((i > pos || !tagName) && warn) {\n          warn(`tag <${stack[i].tag}> has no matching end tag.`, {\n            start: stack[i].start,\n            end: stack[i].end,\n          });\n        }\n        if (options.end) {\n          options.end(stack[i].tag, start, end);\n        }\n      }\n\n      // Remove the open elements from the stack\n      stack.length = pos;\n      lastTag = pos && stack[pos - 1].tag;\n    } else if (lowerCasedTagName === \"br\") {\n      if (options.start) {\n        options.start(tagName, [], true, start, end);\n      }\n    } else if (lowerCasedTagName === \"p\") {\n      if (options.start) {\n        options.start(tagName, [], false, start, end);\n      }\n      if (options.end) {\n        options.end(tagName, start, end);\n      }\n    }\n    console.log(pos, stack);\n  }\n}\n\nexport function createASTElement(tag, attrs, parent) {\n  return {\n    type: 1,\n    tag,\n    attrsList: attrs,\n    attrsMap: makeAttrsMap(attrs),\n    rawAttrsMap: {},\n    parent,\n    children: [],\n  };\n}\n\nexport function parse(template, options) {\n\n}\n","import { warn, createFunction } from \"../utils/index\";\nimport { parseHtml } from \"./parse-html\";\n\nexport function createCompilerCreator(baseCompile) {\n  return function createCompiler(baseOptions) {\n    function compile(template, options) {\n      const finalOptions = Object.create(baseOptions);\n      const errors = [];\n      const tips = [];\n\n      finalOptions.warn = (msg, tip) => {\n        (tip ? tips : errors).push(msg);\n      };\n      if (options) {\n        // merge custom modules\n        if (options.modules) {\n          finalOptions.modules = (baseOptions.modules || []).concat(\n            options.modules\n          );\n        }\n        // merge custom directives\n        if (options.directives) {\n          finalOptions.directives = extend(\n            Object.create(baseOptions.directives || null),\n            options.directives\n          );\n        }\n        // copy other options\n        for (const key in options) {\n          if (key !== \"modules\" && key !== \"directives\") {\n            finalOptions[key] = options[key];\n          }\n        }\n      }\n      const compiled = baseCompile(template, finalOptions);\n      errors.push.apply(errors, detectErrors(compiled.ast));\n      compiled.errors = errors;\n      compiled.tips = tips;\n      return compiled;\n    }\n\n    return {\n      compile,\n      compileToFunctions: createCompileToFunctionFn(compile),\n    };\n  };\n}\n\nconst baseOptions = {};\n\nexport const createCompiler = createCompilerCreator(function baseCompile(\n  template,\n  options\n) {\n  const ast = parse(template.trim(), options);\n  optimize(ast, options);\n  const code = generate(ast, options);\n  return {\n    ast,\n    render: code.render,\n    staticRenderFns: code.staticRenderFns,\n  };\n});\n\nexport function generate() {}\n\n// ast语法树解析\n// export function compileToFunctions(template, options, vm) {\n//   let root = parseHtml(template);\n//   return function render(h) {};\n// }\n\nexport function createCompileToFunctionFn(compile) {\n  const cache = Object.create(null);\n  return function compileToFunctions(template, options = {}, vm) {\n    options = Object.create({}, options);\n    const warn = options.warn || warn;\n    delete options.warn;\n    try {\n      new Function(\"return 1\");\n    } catch (e) {\n      if (e.toString().match(/unsafe-eval|CSP/)) {\n        warn(\n          \"It seems you are using the standalone build of Vue.js in an \" +\n            \"environment with Content Security Policy that prohibits unsafe-eval. \" +\n            \"The template compiler cannot work in this environment. Consider \" +\n            \"relaxing the policy to allow unsafe-eval or pre-compiling your \" +\n            \"templates into render functions.\"\n        );\n      }\n    }\n    const key = options.delimiters\n      ? String(options.delimiters) + template\n      : template;\n    if (cache[key]) {\n      return cache[key];\n    }\n    const compiled = compile(template, options);\n    if (compiled.errors && compiled.errors.length) {\n      warn(\n        `Error compiling template:\\n\\n${template}\\n\\n` +\n          compiled.errors.map((e) => `- ${e}`).join(\"\\n\") +\n          \"\\n\",\n        vm\n      );\n    }\n    if (compiled.tips && compiled.tips.length) {\n      compiled.tips.forEach((msg) => tip(msg, vm));\n    }\n    const res = {};\n    const fnGenErrors = [];\n    res.render = createFunction(compiled.render, fnGenErrors);\n    res.staticRenderFns = compiled.staticRenderFns.map((code) => {\n      return createFunction(code, fnGenErrors);\n    });\n    if ((!compiled.errors || !compiled.errors.length) && fnGenErrors.length) {\n      warn(\n        `Failed to generate render function:\\n\\n` +\n          fnGenErrors\n            .map(({ err, code }) => `${err.toString()} in\\n\\n${code}\\n`)\n            .join(\"\\n\"),\n        vm\n      );\n    }\n    return (cache[key] = res);\n  };\n}\n\nconst { compile, compileToFunctions } = createCompiler(baseOptions);\nexport { compile, compileToFunctions };\n","export const namespaceMap = {\n  svg: \"http://www.w3.org/2000/svg\",\n  math: \"http://www.w3.org/1998/Math/MathML\",\n};\n\nexport function createElement(tagName, vnode) {\n  const elm = document.createElement(tagName);\n  if (tagName !== \"select\") {\n    return elm;\n  }\n  // false or null will remove the attribute but undefined will not\n  if (\n    vnode.data &&\n    vnode.data.attrs &&\n    vnode.data.attrs.multiple !== undefined\n  ) {\n    elm.setAttribute(\"multiple\", \"multiple\");\n  }\n  return elm;\n}\n\nexport function createElementNS(namespace, tagName) {\n  return document.createElementNS(namespaceMap[namespace], tagName);\n}\n\nexport function createTextNode(text) {\n  return document.createTextNode(text);\n}\n\nexport function createComment(text) {\n  return document.createComment(text);\n}\n\nexport function insertBefore(parentNode, newNode, referenceNode) {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nexport function removeChild(node, child) {\n  node.removeChild(child);\n}\n\nexport function appendChild(node, child) {\n  node.appendChild(child);\n}\n\nexport function parentNode(node) {\n  return node.parentNode;\n}\n\nexport function nextSibling(node) {\n  return node.nextSibling;\n}\n\nexport function tagName(node) {\n  return node.tagName;\n}\n\nexport function setTextContent(node, text) {\n  node.textContent = text;\n}\n\nexport function setStyleScope(node, scopeId) {\n  node.setAttribute(scopeId, \"\");\n}\n","import { initState } from \"./state\";\nimport { query, warn } from \"../utils/index\";\nimport { mountComponent } from \"./lifecycle\";\nimport { initProxy } from \"./proxy\";\nimport { initRender } from \"./render\";\nimport { createPatchFunction } from \"../vdom/patch\";\nimport { compileToFunctions } from \"../compiler/index\";\nimport * as nodeOps from \"../utils/node-ops\";\n\nlet uid = 0;\nfunction mount(el, hydrating) {\n  mountComponent(this, el, hydrating);\n}\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n    vm._uid = uid++;\n    vm._isVue = true;\n    vm.$options = options;\n\n    // if (process.env.NODE_ENV !== \"production\") {\n    initProxy(vm);\n    // } else {\n    // vm._renderProxy = vm;\n    // }\n\n    vm._self = vm;\n    initRender(vm);\n    initState(vm);\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  };\n  Vue.prototype.$mount = function (el) {\n    const vm = this;\n    const options = this.$options;\n    el = el && query(el);\n    if (!options.render) {\n      let template = options.template;\n      if (template) {\n        if (typeof template === \"string\") {\n          if (template.charAt(0) === \"#\") {\n            template = idToTemplate(template);\n            /* istanbul ignore if */\n            if (!template) {\n              warn(\n                `Template element not found or is empty: ${options.template}`,\n                this\n              );\n            }\n          }\n        } else if (template.nodeType) {\n          template = template.innerHTML;\n        } else {\n          if (process.env.NODE_ENV !== \"production\") {\n            warn(\"invalid template option:\" + template, this);\n          }\n          return this;\n        }\n      } else if (el) {\n        template = getOuterHTML(el);\n      }\n      if (template) {\n        const { render } = compileToFunctions(template, {}, this);\n        console.log(render);\n        options.render = render;\n        // options.staticRenderFns = staticRenderFns;\n        // 这些是编译相关的，后面在写\n      }\n    }\n    return mount.call(this, el, false);\n  };\n  Vue.prototype.__patch__ = createPatchFunction({\n    nodeOps,\n    modules: [],\n  });\n}\n\nfunction getOuterHTML(el) {\n  if (el.outerHTML) {\n    return el.outerHTML;\n  } else {\n    const container = document.createElement(\"div\");\n    container.appendChild(el.cloneNode(true));\n    return container.innerHTML;\n  }\n}\n","import { initMixin } from \"./instance/init\";\nimport { renderMixin } from \"./instance/render\";\nimport { lifecycleMixin } from \"./instance/lifecycle\";\nclass Vue {\n  constructor(options) {\n    this._init(options);\n  }\n}\n\ninitMixin(Vue);\nlifecycleMixin(Vue);\nrenderMixin(Vue);\n\nexport default Vue;\n"],"names":["_toString","Object","prototype","toString","isHTMLTag","makeMap","isSVG","isObject","obj","def","key","val","enumerable","defineProperty","value","writable","configurable","query","el","selected","document","querySelector","createElement","warn","console","error","isPlainObject","call","hasOwnProperty","hasOwn","noop","str","expectsLowerCase","map","create","list","split","i","length","toLowerCase","isPrimitive","isDef","v","undefined","isUndef","parsePlatformTagName","_","isReservedTag","tag","getTagNamespace","createFunction","code","errors","Function","err","push","Observe","vmCount","Array","isArray","observeArray","walk","data","keys","defineReactive","items","l","observe","get","set","newVal","sharedPropertyDefinition","initState","vm","options","$options","props","initProps","methods","initMethods","initData","_data","computed","watch","log","getData","isReserved","proxy","e","target","sourceKey","proxyGetter","proxySetter","c","charCodeAt","createEmptyVNode","text","node","VNode","isComment","createTextVNode","String","children","elm","context","componentOptions","asyncFactory","ns","fnContext","fnOptions","fnScopeId","componentInstance","parent","raw","isStatic","isRootInsert","isCloned","isOnce","asyncMeta","isAsyncPlaceholder","mountComponent","hydrating","$el","render","updateComponent","_update","_render","lifecycleMixin","Vue","vnode","prevEl","prevVnode","_vnode","__patch__","initProxy","warnNonPresent","warnReservedPrefix","hasProxy","Proxy","isBuiltInModifier","hasHandler","has","isAllowed","allowedGlobals","charAt","$data","getHandler","handlers","_withStripped","_renderProxy","simpleNormalizeChildren","concat","apply","normalizeChildren","normalizeArrayChildren","nextIndex","res","lastIndex","last","nestedIndex","isTextNode","shift","isTrue","_isVList","SIMPLE_NORMALIZE","ALWAYS_NORMALIZE","normalizationType","alwaysNormalize","_createElement","__ob__","JSON","stringify","is","arguments","Ctor","$vnode","nativeOn","pre","resolveAsset","initRender","_c","a","b","d","$createElement","renderMixin","_parentVnode","hooks","SSR_ATTR","ignoredElements","createPatchFunction","backend","j","cbs","modules","nodeOps","invokeDestroyHook","hook","destroy","isUnknownElement","inVPre","some","ignore","isRegExp","test","assertNodeMatch","indexOf","tagName","nodeType","hydrate","insertedVnodeQueue","init","initComponent","emptyNodeAt","createChildren","createElm","appendChild","createTextNode","insert","ref","parentNode","insertBefore","invokeCreateHooks","emptyNode","createRmCb","childElm","listeners","remove","removeNode","removeChild","removeAndInvokeRemoveHook","rm","removeVnodes","vnodes","startIdx","endIdx","ch","creatingElmInVPre","parentElm","refElm","nested","ownerArray","index","createElementNS","createComment","patch","oldVnode","removeOnly","isRealElement","hasAttribute","removeAttribute","invokeInsertHook","oldElm","_leaveCb","nextSibling","isPlainTextElement","isUnaryTag","createCompilerCreator","baseCompile","createCompiler","baseOptions","compile","template","finalOptions","tips","msg","tip","directives","extend","compiled","detectErrors","ast","compileToFunctions","createCompileToFunctionFn","parse","trim","optimize","generate","staticRenderFns","cache","match","delimiters","join","forEach","fnGenErrors","namespaceMap","svg","math","attrs","multiple","setAttribute","namespace","newNode","referenceNode","child","setTextContent","textContent","setStyleScope","scopeId","uid","mount","initMixin","_init","_uid","_isVue","_self","$mount","idToTemplate","innerHTML","process","env","NODE_ENV","getOuterHTML","outerHTML","container","cloneNode"],"mappings":"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"}